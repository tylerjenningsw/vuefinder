var VueFinderCE=(function(za){"use strict";function Ba(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const De={},qs=[],yn=()=>{},Ku=()=>!1,Ro=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ha=e=>e.startsWith("onUpdate:"),Je=Object.assign,Na=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Rg=Object.prototype.hasOwnProperty,Ne=(e,t)=>Rg.call(e,t),ye=Array.isArray,Ks=e=>Mi(e)==="[object Map]",Ys=e=>Mi(e)==="[object Set]",Yu=e=>Mi(e)==="[object Date]",Ae=e=>typeof e=="function",Qe=e=>typeof e=="string",en=e=>typeof e=="symbol",We=e=>e!==null&&typeof e=="object",Gu=e=>(We(e)||Ae(e))&&Ae(e.then)&&Ae(e.catch),Qu=Object.prototype.toString,Mi=e=>Qu.call(e),Og=e=>Mi(e).slice(8,-1),Oo=e=>Mi(e)==="[object Object]",ja=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fi=Ba(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Po=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Pg=/-\w/g,pt=Po(e=>e.replace(Pg,t=>t.slice(1).toUpperCase())),Ig=/\B([A-Z])/g,Tt=Po(e=>e.replace(Ig,"-$1").toLowerCase()),Io=Po(e=>e.charAt(0).toUpperCase()+e.slice(1)),Do=Po(e=>e?`on${Io(e)}`:""),kt=(e,t)=>!Object.is(e,t),Lo=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Xu=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},zo=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Ua=e=>{const t=Qe(e)?Number(e):NaN;return isNaN(t)?e:t};let Ju;const Bo=()=>Ju||(Ju=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function st(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=Qe(s)?Bg(s):st(s);if(i)for(const o in i)t[o]=i[o]}return t}else if(Qe(e)||We(e))return e}const Dg=/;(?![^(]*\))/g,Lg=/:([^]+)/,zg=/\/\*[^]*?\*\//g;function Bg(e){const t={};return e.replace(zg,"").split(Dg).forEach(n=>{if(n){const s=n.split(Lg);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ge(e){let t="";if(Qe(e))t=e;else if(ye(e))for(let n=0;n<e.length;n++){const s=ge(e[n]);s&&(t+=s+" ")}else if(We(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function bn(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Qe(t)&&(e.class=ge(t)),n&&(e.style=st(n)),e}const Hg=Ba("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Zu(e){return!!e||e===""}function Ng(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Es(e[s],t[s]);return n}function Es(e,t){if(e===t)return!0;let n=Yu(e),s=Yu(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=en(e),s=en(t),n||s)return e===t;if(n=ye(e),s=ye(t),n||s)return n&&s?Ng(e,t):!1;if(n=We(e),s=We(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const a=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(a&&!l||!a&&l||!Es(e[r],t[r]))return!1}}return String(e)===String(t)}function Va(e,t){return e.findIndex(n=>Es(n,t))}const ed=e=>!!(e&&e.__v_isRef===!0),B=e=>Qe(e)?e:e==null?"":ye(e)||We(e)&&(e.toString===Qu||!Ae(e.toString))?ed(e)?B(e.value):JSON.stringify(e,td,2):String(e),td=(e,t)=>ed(t)?td(e,t.value):Ks(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],o)=>(n[Wa(s,o)+" =>"]=i,n),{})}:Ys(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Wa(n))}:en(t)?Wa(t):We(t)&&!ye(t)&&!Oo(t)?String(t):t,Wa=(e,t="")=>{var n;return en(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let mt;class jg{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=mt,!t&&mt&&(this.index=(mt.scopes||(mt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=mt;try{return mt=this,t()}finally{mt=n}}}on(){++this._on===1&&(this.prevScope=mt,mt=this)}off(){this._on>0&&--this._on===0&&(mt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function nd(){return mt}function Ug(e,t=!1){mt&&mt.cleanups.push(e)}let Ge;const qa=new WeakSet;class sd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,mt&&mt.active&&mt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qa.has(this)&&(qa.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||od(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ud(this),rd(this);const t=Ge,n=tn;Ge=this,tn=!0;try{return this.fn()}finally{ad(this),Ge=t,tn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qa(t);this.deps=this.depsTail=void 0,ud(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qa.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ga(this)&&this.run()}get dirty(){return Ga(this)}}let id=0,Ri,Oi;function od(e,t=!1){if(e.flags|=8,t){e.next=Oi,Oi=e;return}e.next=Ri,Ri=e}function Ka(){id++}function Ya(){if(--id>0)return;if(Oi){let t=Oi;for(Oi=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ri;){let t=Ri;for(Ri=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function rd(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ad(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Qa(s),Vg(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function Ga(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ld(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ld(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Pi)||(e.globalVersion=Pi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ga(e))))return;e.flags|=2;const t=e.dep,n=Ge,s=tn;Ge=e,tn=!0;try{rd(e);const i=e.fn(e._value);(t.version===0||kt(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Ge=n,tn=s,ad(e),e.flags&=-3}}function Qa(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Qa(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Vg(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let tn=!0;const cd=[];function wn(){cd.push(tn),tn=!1}function xn(){const e=cd.pop();tn=e===void 0?!0:e}function ud(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ge;Ge=void 0;try{t()}finally{Ge=n}}}let Pi=0;class Wg{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ho{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ge||!tn||Ge===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ge)n=this.activeLink=new Wg(Ge,this),Ge.deps?(n.prevDep=Ge.depsTail,Ge.depsTail.nextDep=n,Ge.depsTail=n):Ge.deps=Ge.depsTail=n,dd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ge.depsTail,n.nextDep=void 0,Ge.depsTail.nextDep=n,Ge.depsTail=n,Ge.deps===n&&(Ge.deps=s)}return n}trigger(t){this.version++,Pi++,this.notify(t)}notify(t){Ka();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ya()}}}function dd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)dd(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Xa=new WeakMap,As=Symbol(""),Ja=Symbol(""),Ii=Symbol("");function vt(e,t,n){if(tn&&Ge){let s=Xa.get(e);s||Xa.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new Ho),i.map=s,i.key=n),i.track()}}function Bn(e,t,n,s,i,o){const r=Xa.get(e);if(!r){Pi++;return}const a=l=>{l&&l.trigger()};if(Ka(),t==="clear")r.forEach(a);else{const l=ye(e),c=l&&ja(n);if(l&&n==="length"){const u=Number(s);r.forEach((d,f)=>{(f==="length"||f===Ii||!en(f)&&f>=u)&&a(d)})}else switch((n!==void 0||r.has(void 0))&&a(r.get(n)),c&&a(r.get(Ii)),t){case"add":l?c&&a(r.get("length")):(a(r.get(As)),Ks(e)&&a(r.get(Ja)));break;case"delete":l||(a(r.get(As)),Ks(e)&&a(r.get(Ja)));break;case"set":Ks(e)&&a(r.get(As));break}}Ya()}function Gs(e){const t=Ie(e);return t===e?t:(vt(t,"iterate",Ii),Wt(e)?t:t.map(nn))}function No(e){return vt(e=Ie(e),"iterate",Ii),e}function ns(e,t){return Nn(e)?ks(e)?Qs(nn(t)):Qs(t):nn(t)}const qg={__proto__:null,[Symbol.iterator](){return Za(this,Symbol.iterator,e=>ns(this,e))},concat(...e){return Gs(this).concat(...e.map(t=>ye(t)?Gs(t):t))},entries(){return Za(this,"entries",e=>(e[1]=ns(this,e[1]),e))},every(e,t){return Hn(this,"every",e,t,void 0,arguments)},filter(e,t){return Hn(this,"filter",e,t,n=>n.map(s=>ns(this,s)),arguments)},find(e,t){return Hn(this,"find",e,t,n=>ns(this,n),arguments)},findIndex(e,t){return Hn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Hn(this,"findLast",e,t,n=>ns(this,n),arguments)},findLastIndex(e,t){return Hn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Hn(this,"forEach",e,t,void 0,arguments)},includes(...e){return el(this,"includes",e)},indexOf(...e){return el(this,"indexOf",e)},join(e){return Gs(this).join(e)},lastIndexOf(...e){return el(this,"lastIndexOf",e)},map(e,t){return Hn(this,"map",e,t,void 0,arguments)},pop(){return Di(this,"pop")},push(...e){return Di(this,"push",e)},reduce(e,...t){return fd(this,"reduce",e,t)},reduceRight(e,...t){return fd(this,"reduceRight",e,t)},shift(){return Di(this,"shift")},some(e,t){return Hn(this,"some",e,t,void 0,arguments)},splice(...e){return Di(this,"splice",e)},toReversed(){return Gs(this).toReversed()},toSorted(e){return Gs(this).toSorted(e)},toSpliced(...e){return Gs(this).toSpliced(...e)},unshift(...e){return Di(this,"unshift",e)},values(){return Za(this,"values",e=>ns(this,e))}};function Za(e,t,n){const s=No(e),i=s[t]();return s!==e&&!Wt(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=n(o.value)),o}),i}const Kg=Array.prototype;function Hn(e,t,n,s,i,o){const r=No(e),a=r!==e&&!Wt(e),l=r[t];if(l!==Kg[t]){const d=l.apply(e,o);return a?nn(d):d}let c=n;r!==e&&(a?c=function(d,f){return n.call(this,ns(e,d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const u=l.call(r,c,s);return a&&i?i(u):u}function fd(e,t,n,s){const i=No(e);let o=n;return i!==e&&(Wt(e)?n.length>3&&(o=function(r,a,l){return n.call(this,r,a,l,e)}):o=function(r,a,l){return n.call(this,r,ns(e,a),l,e)}),i[t](o,...s)}function el(e,t,n){const s=Ie(e);vt(s,"iterate",Ii);const i=s[t](...n);return(i===-1||i===!1)&&sl(n[0])?(n[0]=Ie(n[0]),s[t](...n)):i}function Di(e,t,n=[]){wn(),Ka();const s=Ie(e)[t].apply(e,n);return Ya(),xn(),s}const Yg=Ba("__proto__,__v_isRef,__isVue"),hd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(en));function Gg(e){en(e)||(e=String(e));const t=Ie(this);return vt(t,"has",e),t.hasOwnProperty(e)}class pd{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(i?o?bd:yd:o?_d:gd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const r=ye(t);if(!i){let l;if(r&&(l=qg[n]))return l;if(n==="hasOwnProperty")return Gg}const a=Reflect.get(t,n,et(t)?t:s);if((en(n)?hd.has(n):Yg(n))||(i||vt(t,"get",n),o))return a;if(et(a)){const l=r&&ja(n)?a:a.value;return i&&We(l)?nl(l):l}return We(a)?i?nl(a):Ts(a):a}}class md extends pd{constructor(t=!1){super(!1,t)}set(t,n,s,i){let o=t[n];const r=ye(t)&&ja(n);if(!this._isShallow){const c=Nn(o);if(!Wt(s)&&!Nn(s)&&(o=Ie(o),s=Ie(s)),!r&&et(o)&&!et(s))return c||(o.value=s),!0}const a=r?Number(n)<t.length:Ne(t,n),l=Reflect.set(t,n,s,et(t)?t:i);return t===Ie(i)&&(a?kt(s,o)&&Bn(t,"set",n,s):Bn(t,"add",n,s)),l}deleteProperty(t,n){const s=Ne(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&Bn(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!en(n)||!hd.has(n))&&vt(t,"has",n),s}ownKeys(t){return vt(t,"iterate",ye(t)?"length":As),Reflect.ownKeys(t)}}class vd extends pd{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Qg=new md,Xg=new vd,Jg=new md(!0),Zg=new vd(!0),tl=e=>e,jo=e=>Reflect.getPrototypeOf(e);function e_(e,t,n){return function(...s){const i=this.__v_raw,o=Ie(i),r=Ks(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,c=i[e](...s),u=n?tl:t?Qs:nn;return!t&&vt(o,"iterate",l?Ja:As),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Uo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function t_(e,t){const n={get(i){const o=this.__v_raw,r=Ie(o),a=Ie(i);e||(kt(i,a)&&vt(r,"get",i),vt(r,"get",a));const{has:l}=jo(r),c=t?tl:e?Qs:nn;if(l.call(r,i))return c(o.get(i));if(l.call(r,a))return c(o.get(a));o!==r&&o.get(i)},get size(){const i=this.__v_raw;return!e&&vt(Ie(i),"iterate",As),i.size},has(i){const o=this.__v_raw,r=Ie(o),a=Ie(i);return e||(kt(i,a)&&vt(r,"has",i),vt(r,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const r=this,a=r.__v_raw,l=Ie(a),c=t?tl:e?Qs:nn;return!e&&vt(l,"iterate",As),a.forEach((u,d)=>i.call(o,c(u),c(d),r))}};return Je(n,e?{add:Uo("add"),set:Uo("set"),delete:Uo("delete"),clear:Uo("clear")}:{add(i){!t&&!Wt(i)&&!Nn(i)&&(i=Ie(i));const o=Ie(this);return jo(o).has.call(o,i)||(o.add(i),Bn(o,"add",i,i)),this},set(i,o){!t&&!Wt(o)&&!Nn(o)&&(o=Ie(o));const r=Ie(this),{has:a,get:l}=jo(r);let c=a.call(r,i);c||(i=Ie(i),c=a.call(r,i));const u=l.call(r,i);return r.set(i,o),c?kt(o,u)&&Bn(r,"set",i,o):Bn(r,"add",i,o),this},delete(i){const o=Ie(this),{has:r,get:a}=jo(o);let l=r.call(o,i);l||(i=Ie(i),l=r.call(o,i)),a&&a.call(o,i);const c=o.delete(i);return l&&Bn(o,"delete",i,void 0),c},clear(){const i=Ie(this),o=i.size!==0,r=i.clear();return o&&Bn(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=e_(i,e,t)}),n}function Vo(e,t){const n=t_(e,t);return(s,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(Ne(n,i)&&i in s?n:s,i,o)}const n_={get:Vo(!1,!1)},s_={get:Vo(!1,!0)},i_={get:Vo(!0,!1)},o_={get:Vo(!0,!0)},gd=new WeakMap,_d=new WeakMap,yd=new WeakMap,bd=new WeakMap;function r_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function a_(e){return e.__v_skip||!Object.isExtensible(e)?0:r_(Og(e))}function Ts(e){return Nn(e)?e:Wo(e,!1,Qg,n_,gd)}function l_(e){return Wo(e,!1,Jg,s_,_d)}function nl(e){return Wo(e,!0,Xg,i_,yd)}function PF(e){return Wo(e,!0,Zg,o_,bd)}function Wo(e,t,n,s,i){if(!We(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=a_(e);if(o===0)return e;const r=i.get(e);if(r)return r;const a=new Proxy(e,o===2?s:n);return i.set(e,a),a}function ks(e){return Nn(e)?ks(e.__v_raw):!!(e&&e.__v_isReactive)}function Nn(e){return!!(e&&e.__v_isReadonly)}function Wt(e){return!!(e&&e.__v_isShallow)}function sl(e){return e?!!e.__v_raw:!1}function Ie(e){const t=e&&e.__v_raw;return t?Ie(t):e}function wd(e){return!Ne(e,"__v_skip")&&Object.isExtensible(e)&&Xu(e,"__v_skip",!0),e}const nn=e=>We(e)?Ts(e):e,Qs=e=>We(e)?nl(e):e;function et(e){return e?e.__v_isRef===!0:!1}function Q(e){return xd(e,!1)}function qo(e){return xd(e,!0)}function xd(e,t){return et(e)?e:new c_(e,t)}class c_{constructor(t,n){this.dep=new Ho,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ie(t),this._value=n?t:nn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Wt(t)||Nn(t);t=s?t:Ie(t),kt(t,n)&&(this._rawValue=t,this._value=s?t:nn(t),this.dep.trigger())}}function h(e){return et(e)?e.value:e}const u_={get:(e,t,n)=>t==="__v_raw"?e:h(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return et(i)&&!et(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function Sd(e){return ks(e)?e:new Proxy(e,u_)}class d_{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ho,{get:s,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=s,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function $d(e){return new d_(e)}class f_{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ho(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ge!==this)return od(this,!0),!0}get value(){const t=this.dep.track();return ld(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function h_(e,t,n=!1){let s,i;return Ae(e)?s=e:(s=e.get,i=e.set),new f_(s,i,n)}const Ko={},Yo=new WeakMap;let Ms;function p_(e,t=!1,n=Ms){if(n){let s=Yo.get(n);s||Yo.set(n,s=[]),s.push(e)}}function m_(e,t,n=De){const{immediate:s,deep:i,once:o,scheduler:r,augmentJob:a,call:l}=n,c=S=>i?S:Wt(S)||i===!1||i===0?jn(S,1):jn(S);let u,d,f,m,g=!1,_=!1;if(et(e)?(d=()=>e.value,g=Wt(e)):ks(e)?(d=()=>c(e),g=!0):ye(e)?(_=!0,g=e.some(S=>ks(S)||Wt(S)),d=()=>e.map(S=>{if(et(S))return S.value;if(ks(S))return c(S);if(Ae(S))return l?l(S,2):S()})):Ae(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){wn();try{f()}finally{xn()}}const S=Ms;Ms=u;try{return l?l(e,3,[m]):e(m)}finally{Ms=S}}:d=yn,t&&i){const S=d,E=i===!0?1/0:i;d=()=>jn(S(),E)}const y=nd(),b=()=>{u.stop(),y&&y.active&&Na(y.effects,u)};if(o&&t){const S=t;t=(...E)=>{S(...E),b()}}let v=_?new Array(e.length).fill(Ko):Ko;const $=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const E=u.run();if(i||g||(_?E.some((F,P)=>kt(F,v[P])):kt(E,v))){f&&f();const F=Ms;Ms=u;try{const P=[E,v===Ko?void 0:_&&v[0]===Ko?[]:v,m];v=E,l?l(t,3,P):t(...P)}finally{Ms=F}}}else u.run()};return a&&a($),u=new sd(d),u.scheduler=r?()=>r($,!1):$,m=S=>p_(S,!1,u),f=u.onStop=()=>{const S=Yo.get(u);if(S){if(l)l(S,4);else for(const E of S)E();Yo.delete(u)}},t?s?$(!0):v=u.run():r?r($.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function jn(e,t=1/0,n){if(t<=0||!We(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,et(e))jn(e.value,t,n);else if(ye(e))for(let s=0;s<e.length;s++)jn(e[s],t,n);else if(Ys(e)||Ks(e))e.forEach(s=>{jn(s,t,n)});else if(Oo(e)){for(const s in e)jn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&jn(e[s],t,n)}return e}const Li=[];let il=!1;function IF(e,...t){if(il)return;il=!0,wn();const n=Li.length?Li[Li.length-1].component:null,s=n&&n.appContext.config.warnHandler,i=v_();if(s)Xs(s,n,11,[e+t.map(o=>{var r,a;return(a=(r=o.toString)==null?void 0:r.call(o))!=null?a:JSON.stringify(o)}).join(""),n&&n.proxy,i.map(({vnode:o})=>`at <${If(n,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${e}`,...t];i.length&&o.push(`
`,...g_(i)),console.warn(...o)}xn(),il=!1}function v_(){let e=Li[Li.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function g_(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...__(n))}),t}function __({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,i=` at <${If(e.component,e.type,s)}`,o=">"+n;return e.props?[i,...y_(e.props),o]:[i+o]}function y_(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...Cd(s,e[s]))}),n.length>3&&t.push(" ..."),t}function Cd(e,t,n){return Qe(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:et(t)?(t=Cd(e,Ie(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Ae(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Ie(t),n?t:[`${e}=`,t])}function Xs(e,t,n,s){try{return s?e(...s):e()}catch(i){Go(i,t,n)}}function sn(e,t,n,s){if(Ae(e)){const i=Xs(e,t,n,s);return i&&Gu(i)&&i.catch(o=>{Go(o,t,n)}),i}if(ye(e)){const i=[];for(let o=0;o<e.length;o++)i.push(sn(e[o],t,n,s));return i}}function Go(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||De;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(o){wn(),Xs(o,null,10,[e,l,c]),xn();return}}b_(e,n,i,s,r)}function b_(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const St=[];let Sn=-1;const Js=[];let ss=null,Zs=0;const Ed=Promise.resolve();let Qo=null;function gt(e){const t=Qo||Ed;return e?t.then(this?e.bind(this):e):t}function w_(e){let t=Sn+1,n=St.length;for(;t<n;){const s=t+n>>>1,i=St[s],o=zi(i);o<e||o===e&&i.flags&2?t=s+1:n=s}return t}function ol(e){if(!(e.flags&1)){const t=zi(e),n=St[St.length-1];!n||!(e.flags&2)&&t>=zi(n)?St.push(e):St.splice(w_(t),0,e),e.flags|=1,Ad()}}function Ad(){Qo||(Qo=Ed.then(Md))}function x_(e){ye(e)?Js.push(...e):ss&&e.id===-1?ss.splice(Zs+1,0,e):e.flags&1||(Js.push(e),e.flags|=1),Ad()}function Td(e,t,n=Sn+1){for(;n<St.length;n++){const s=St[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;St.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function kd(e){if(Js.length){const t=[...new Set(Js)].sort((n,s)=>zi(n)-zi(s));if(Js.length=0,ss){ss.push(...t);return}for(ss=t,Zs=0;Zs<ss.length;Zs++){const n=ss[Zs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ss=null,Zs=0}}const zi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Md(e){try{for(Sn=0;Sn<St.length;Sn++){const t=St[Sn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Xs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Sn<St.length;Sn++){const t=St[Sn];t&&(t.flags&=-2)}Sn=-1,St.length=0,kd(),Qo=null,(St.length||Js.length)&&Md()}}let ut=null,Fd=null;function Xo(e){const t=ut;return ut=e,Fd=e&&e.type.__scopeId||null,t}function be(e,t=ut,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&cr(-1);const o=Xo(t);let r;try{r=e(...i)}finally{Xo(o),s._d&&cr(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function Ke(e,t){if(ut===null)return e;const n=fr(ut),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,a,l=De]=t[i];o&&(Ae(o)&&(o={mounted:o,updated:o}),o.deep&&jn(r),s.push({dir:o,instance:n,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function Fs(e,t,n,s){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[s];l&&(wn(),sn(l,n,8,[e.el,a,e,t]),xn())}}function Rd(e,t){if(yt){let n=yt.provides;const s=yt.parent&&yt.parent.provides;s===n&&(n=yt.provides=Object.create(s)),n[e]=t}}function is(e,t,n=!1){const s=Yi();if(s||ni){let i=ni?ni._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ae(t)?t.call(s&&s.proxy):t}}const S_=Symbol.for("v-scx"),$_=()=>is(S_);function Un(e,t){return Jo(e,null,t)}function C_(e,t){return Jo(e,null,{flush:"sync"})}function Me(e,t,n){return Jo(e,t,n)}function Jo(e,t,n=De){const{immediate:s,deep:i,flush:o,once:r}=n,a=Je({},n),l=t&&s||!t&&o!=="post";let c;if(Qi){if(o==="sync"){const m=$_();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=yn,m.resume=yn,m.pause=yn,m}}const u=yt;a.call=(m,g,_)=>sn(m,u,g,_);let d=!1;o==="post"?a.scheduler=m=>{Ct(m,u&&u.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(m,g)=>{g?m():ol(m)}),a.augmentJob=m=>{t&&(m.flags|=4),d&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const f=m_(e,t,a);return Qi&&(c?c.push(f):l&&f()),f}function E_(e,t,n){const s=this.proxy,i=Qe(e)?e.includes(".")?Od(s,e):()=>s[e]:e.bind(s,s);let o;Ae(t)?o=t:(o=t.handler,n=t);const r=Gi(this),a=Jo(i,o.bind(s),n);return r(),a}function Od(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const Pd=Symbol("_vte"),Id=e=>e.__isTeleport,Bi=e=>e&&(e.disabled||e.disabled===""),Dd=e=>e&&(e.defer||e.defer===""),Ld=e=>typeof SVGElement<"u"&&e instanceof SVGElement,zd=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,rl=(e,t)=>{const n=e&&e.to;return Qe(n)?t?t(n):null:n},Bd={name:"Teleport",__isTeleport:!0,process(e,t,n,s,i,o,r,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:m,querySelector:g,createText:_,createComment:y}}=c,b=Bi(t.props);let{shapeFlag:v,children:$,dynamicChildren:S}=t;if(e==null){const E=t.el=_(""),F=t.anchor=_("");m(E,n,s),m(F,n,s);const P=(z,C)=>{v&16&&u($,z,C,i,o,r,a,l)},H=()=>{const z=t.target=rl(t.props,g),C=Hd(z,t,_,m);z&&(r!=="svg"&&Ld(z)?r="svg":r!=="mathml"&&zd(z)&&(r="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(z),b||(P(z,C),er(t,!1)))};b&&(P(n,F),er(t,!0)),Dd(t.props)?(t.el.__isMounted=!1,Ct(()=>{H(),delete t.el.__isMounted},o)):H()}else{if(Dd(t.props)&&e.el.__isMounted===!1){Ct(()=>{Bd.process(e,t,n,s,i,o,r,a,l,c)},o);return}t.el=e.el,t.targetStart=e.targetStart;const E=t.anchor=e.anchor,F=t.target=e.target,P=t.targetAnchor=e.targetAnchor,H=Bi(e.props),z=H?n:F,C=H?E:P;if(r==="svg"||Ld(F)?r="svg":(r==="mathml"||zd(F))&&(r="mathml"),S?(f(e.dynamicChildren,S,z,i,o,r,a),gl(e,t,!0)):l||d(e,t,z,C,i,o,r,a,!1),b)H?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Zo(t,n,E,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const T=t.target=rl(t.props,g);T&&Zo(t,T,null,c,0)}else H&&Zo(t,F,P,c,1);er(t,b)}},remove(e,t,n,{um:s,o:{remove:i}},o){const{shapeFlag:r,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=e;if(d&&(i(c),i(u)),o&&i(l),r&16){const m=o||!Bi(f);for(let g=0;g<a.length;g++){const _=a[g];s(_,t,n,m,!!_.dynamicChildren)}}},move:Zo,hydrate:A_};function Zo(e,t,n,{o:{insert:s},m:i},o=2){o===0&&s(e.targetAnchor,t,n);const{el:r,anchor:a,shapeFlag:l,children:c,props:u}=e,d=o===2;if(d&&s(r,t,n),(!d||Bi(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],t,n,2);d&&s(a,t,n)}function A_(e,t,n,s,i,o,{o:{nextSibling:r,parentNode:a,querySelector:l,insert:c,createText:u}},d){function f(_,y,b,v){y.anchor=d(r(_),y,a(_),n,s,i,o),y.targetStart=b,y.targetAnchor=v}const m=t.target=rl(t.props,l),g=Bi(t.props);if(m){const _=m._lpa||m.firstChild;if(t.shapeFlag&16)if(g)f(e,t,_,_&&r(_));else{t.anchor=r(e);let y=_;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")t.targetStart=y;else if(y.data==="teleport anchor"){t.targetAnchor=y,m._lpa=t.targetAnchor&&r(t.targetAnchor);break}}y=r(y)}t.targetAnchor||Hd(m,t,u,c),d(_&&r(_),t,m,n,s,i,o)}er(t,g)}else g&&t.shapeFlag&16&&f(e,t,e,r(e));return t.anchor&&r(t.anchor)}const Hi=Bd;function er(e,t){const n=e.ctx;if(n&&n.ut){let s,i;for(t?(s=e.el,i=e.anchor):(s=e.targetStart,i=e.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function Hd(e,t,n,s){const i=t.targetStart=n(""),o=t.targetAnchor=n("");return i[Pd]=o,e&&(s(i,e),s(o,e)),o}const Vn=Symbol("_leaveCb"),tr=Symbol("_enterCb");function T_(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Le(()=>{e.isMounted=!0}),Ui(()=>{e.isUnmounting=!0}),e}const qt=[Function,Array],Nd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qt,onEnter:qt,onAfterEnter:qt,onEnterCancelled:qt,onBeforeLeave:qt,onLeave:qt,onAfterLeave:qt,onLeaveCancelled:qt,onBeforeAppear:qt,onAppear:qt,onAfterAppear:qt,onAppearCancelled:qt},jd=e=>{const t=e.subTree;return t.component?jd(t.component):t},k_={name:"BaseTransition",props:Nd,setup(e,{slots:t}){const n=Yi(),s=T_();return()=>{const i=t.default&&qd(t.default(),!0);if(!i||!i.length)return;const o=Ud(i),r=Ie(e),{mode:a}=r;if(s.isLeaving)return ll(o);const l=Wd(o);if(!l)return ll(o);let c=al(l,r,s,n,d=>c=d);l.type!==_t&&Ni(l,c);let u=n.subTree&&Wd(n.subTree);if(u&&u.type!==_t&&!Os(u,l)&&jd(n).type!==_t){let d=al(u,r,s,n);if(Ni(u,d),a==="out-in"&&l.type!==_t)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},ll(o);a==="in-out"&&l.type!==_t?d.delayLeave=(f,m,g)=>{const _=Vd(s,u);_[String(u.key)]=u,f[Vn]=()=>{m(),f[Vn]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function Ud(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==_t){t=n;break}}return t}const M_=k_;function Vd(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function al(e,t,n,s,i){const{appear:o,mode:r,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:m,onAfterLeave:g,onLeaveCancelled:_,onBeforeAppear:y,onAppear:b,onAfterAppear:v,onAppearCancelled:$}=t,S=String(e.key),E=Vd(n,e),F=(z,C)=>{z&&sn(z,s,9,C)},P=(z,C)=>{const T=C[1];F(z,C),ye(z)?z.every(O=>O.length<=1)&&T():z.length<=1&&T()},H={mode:r,persisted:a,beforeEnter(z){let C=l;if(!n.isMounted)if(o)C=y||l;else return;z[Vn]&&z[Vn](!0);const T=E[S];T&&Os(e,T)&&T.el[Vn]&&T.el[Vn](),F(C,[z])},enter(z){let C=c,T=u,O=d;if(!n.isMounted)if(o)C=b||c,T=v||u,O=$||d;else return;let R=!1;const K=z[tr]=ee=>{R||(R=!0,ee?F(O,[z]):F(T,[z]),H.delayedLeave&&H.delayedLeave(),z[tr]=void 0)};C?P(C,[z,K]):K()},leave(z,C){const T=String(e.key);if(z[tr]&&z[tr](!0),n.isUnmounting)return C();F(f,[z]);let O=!1;const R=z[Vn]=K=>{O||(O=!0,C(),K?F(_,[z]):F(g,[z]),z[Vn]=void 0,E[T]===e&&delete E[T])};E[T]=e,m?P(m,[z,R]):R()},clone(z){const C=al(z,t,n,s,i);return i&&i(C),C}};return H}function ll(e){if(sr(e))return e=rs(e),e.children=null,e}function Wd(e){if(!sr(e))return Id(e.type)&&e.children?Ud(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ae(n.default))return n.default()}}function Ni(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ni(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qd(e,t=!1,n){let s=[],i=0;for(let o=0;o<e.length;o++){let r=e[o];const a=n==null?r.key:String(n)+String(r.key!=null?r.key:o);r.type===$e?(r.patchFlag&128&&i++,s=s.concat(qd(r.children,t,a))):(t||r.type!==_t)&&s.push(a!=null?rs(r,{key:a}):r)}if(i>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function xe(e,t){return Ae(e)?Je({name:e.name},t,{setup:e}):e}function Kd(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ei(e){const t=Yi(),n=qo(null);if(t){const i=t.refs===De?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>n.value,set:o=>n.value=o})}return n}const nr=new WeakMap;function ji(e,t,n,s,i=!1){if(ye(e)){e.forEach((g,_)=>ji(g,t&&(ye(t)?t[_]:t),n,s,i));return}if(ti(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ji(e,t,n,s.component.subTree);return}const o=s.shapeFlag&4?fr(s.component):s.el,r=i?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===De?a.refs={}:a.refs,d=a.setupState,f=Ie(d),m=d===De?Ku:g=>Ne(f,g);if(c!=null&&c!==l){if(Yd(t),Qe(c))u[c]=null,m(c)&&(d[c]=null);else if(et(c)){c.value=null;const g=t;g.k&&(u[g.k]=null)}}if(Ae(l))Xs(l,a,12,[r,u]);else{const g=Qe(l),_=et(l);if(g||_){const y=()=>{if(e.f){const b=g?m(l)?d[l]:u[l]:l.value;if(i)ye(b)&&Na(b,o);else if(ye(b))b.includes(o)||b.push(o);else if(g)u[l]=[o],m(l)&&(d[l]=u[l]);else{const v=[o];l.value=v,e.k&&(u[e.k]=v)}}else g?(u[l]=r,m(l)&&(d[l]=r)):_&&(l.value=r,e.k&&(u[e.k]=r))};if(r){const b=()=>{y(),nr.delete(e)};b.id=-1,nr.set(e,b),Ct(b,n)}else Yd(e),y()}}}function Yd(e){const t=nr.get(e);t&&(t.flags|=8,nr.delete(e))}Bo().requestIdleCallback,Bo().cancelIdleCallback;const ti=e=>!!e.type.__asyncLoader,sr=e=>e.type.__isKeepAlive;function F_(e,t){Gd(e,"a",t)}function R_(e,t){Gd(e,"da",t)}function Gd(e,t,n=yt){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ir(t,s,n),n){let i=n.parent;for(;i&&i.parent;)sr(i.parent.vnode)&&O_(s,t,n,i),i=i.parent}}function O_(e,t,n,s){const i=ir(t,e,s,!0);rt(()=>{Na(s[t],i)},n)}function ir(e,t,n=yt,s=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{wn();const a=Gi(n),l=sn(t,n,e,r);return a(),xn(),l});return s?i.unshift(o):i.push(o),o}}const Wn=e=>(t,n=yt)=>{(!Qi||e==="sp")&&ir(e,(...s)=>t(...s),n)},P_=Wn("bm"),Le=Wn("m"),I_=Wn("bu"),Qd=Wn("u"),Ui=Wn("bum"),rt=Wn("um"),D_=Wn("sp"),L_=Wn("rtg"),z_=Wn("rtc");function B_(e,t=yt){ir("ec",e,t)}const Xd="components";function on(e,t){return Zd(Xd,e,!0,t)||e}const Jd=Symbol.for("v-ndc");function rn(e){return Qe(e)?Zd(Xd,e,!1)||e:e||Jd}function Zd(e,t,n=!0,s=!1){const i=ut||yt;if(i){const o=i.type;{const a=Pf(o,!1);if(a&&(a===t||a===pt(t)||a===Io(pt(t))))return o}const r=ef(i[e]||o[e],t)||ef(i.appContext[e],t);return!r&&s?o:r}}function ef(e,t){return e&&(e[t]||e[pt(t)]||e[Io(pt(t))])}function Ve(e,t,n,s){let i;const o=n,r=ye(e);if(r||Qe(e)){const a=r&&ks(e);let l=!1,c=!1;a&&(l=!Wt(e),c=Nn(e),e=No(e)),i=new Array(e.length);for(let u=0,d=e.length;u<d;u++)i[u]=t(l?c?Qs(nn(e[u])):nn(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o)}else if(We(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,o)}}else i=[];return i}function Oe(e,t,n={},s,i){if(ut.ce||ut.parent&&ti(ut.parent)&&ut.parent.ce){const c=Object.keys(n).length>0;return t!=="default"&&(n.name=t),w(),oe($e,null,[se("slot",n,s&&s())],c?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),w();const r=o&&tf(o(n)),a=n.key||r&&r.key,l=oe($e,{key:(a&&!en(a)?a:`_${t}`)+(!r&&s?"_fb":"")},r||(s?s():[]),r&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function tf(e){return e.some(t=>$n(t)?!(t.type===_t||t.type===$e&&!tf(t.children)):!0)?e:null}function os(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:Do(s)]=e[s];return n}const cl=e=>e?Mf(e)?fr(e):cl(e.parent):null,Vi=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>cl(e.parent),$root:e=>cl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>of(e),$forceUpdate:e=>e.f||(e.f=()=>{ol(e.update)}),$nextTick:e=>e.n||(e.n=gt.bind(e.proxy)),$watch:e=>E_.bind(e)}),ul=(e,t)=>e!==De&&!e.__isScriptSetup&&Ne(e,t),H_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:o,accessCache:r,type:a,appContext:l}=e;if(t[0]!=="$"){const f=r[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(ul(s,t))return r[t]=1,s[t];if(i!==De&&Ne(i,t))return r[t]=2,i[t];if(Ne(o,t))return r[t]=3,o[t];if(n!==De&&Ne(n,t))return r[t]=4,n[t];dl&&(r[t]=0)}}const c=Vi[t];let u,d;if(c)return t==="$attrs"&&vt(e.attrs,"get",""),c(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==De&&Ne(n,t))return r[t]=4,n[t];if(d=l.config.globalProperties,Ne(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:o}=e;return ul(i,t)?(i[t]=n,!0):s!==De&&Ne(s,t)?(s[t]=n,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,props:o,type:r}},a){let l;return!!(n[a]||e!==De&&a[0]!=="$"&&Ne(e,a)||ul(t,a)||Ne(o,a)||Ne(s,a)||Ne(Vi,a)||Ne(i.config.globalProperties,a)||(l=r.__cssModules)&&l[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ne(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function N_(){return j_().attrs}function j_(e){const t=Yi();return t.setupContext||(t.setupContext=Of(t))}function or(e){return ye(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function U_(e,t){return!e||!t?e||t:ye(e)&&ye(t)?e.concat(t):Je({},or(e),or(t))}let dl=!0;function V_(e){const t=of(e),n=e.proxy,s=e.ctx;dl=!1,t.beforeCreate&&nf(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:m,updated:g,activated:_,deactivated:y,beforeDestroy:b,beforeUnmount:v,destroyed:$,unmounted:S,render:E,renderTracked:F,renderTriggered:P,errorCaptured:H,serverPrefetch:z,expose:C,inheritAttrs:T,components:O,directives:R,filters:K}=t;if(c&&W_(c,s,null),r)for(const U in r){const A=r[U];Ae(A)&&(s[U]=A.bind(n))}if(i){const U=i.call(n,n);We(U)&&(e.data=Ts(U))}if(dl=!0,o)for(const U in o){const A=o[U],D=Ae(A)?A.bind(n,n):Ae(A.get)?A.get.bind(n,n):yn,ne=!Ae(A)&&Ae(A.set)?A.set.bind(n):yn,X=ce({get:D,set:ne});Object.defineProperty(s,U,{enumerable:!0,configurable:!0,get:()=>X.value,set:te=>X.value=te})}if(a)for(const U in a)sf(a[U],s,n,U);if(l){const U=Ae(l)?l.call(n):l;Reflect.ownKeys(U).forEach(A=>{Rd(A,U[A])})}u&&nf(u,e,"c");function V(U,A){ye(A)?A.forEach(D=>U(D.bind(n))):A&&U(A.bind(n))}if(V(P_,d),V(Le,f),V(I_,m),V(Qd,g),V(F_,_),V(R_,y),V(B_,H),V(z_,F),V(L_,P),V(Ui,v),V(rt,S),V(D_,z),ye(C))if(C.length){const U=e.exposed||(e.exposed={});C.forEach(A=>{Object.defineProperty(U,A,{get:()=>n[A],set:D=>n[A]=D,enumerable:!0})})}else e.exposed||(e.exposed={});E&&e.render===yn&&(e.render=E),T!=null&&(e.inheritAttrs=T),O&&(e.components=O),R&&(e.directives=R),z&&Kd(e)}function W_(e,t,n=yn){ye(e)&&(e=fl(e));for(const s in e){const i=e[s];let o;We(i)?"default"in i?o=is(i.from||s,i.default,!0):o=is(i.from||s):o=is(i),et(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[s]=o}}function nf(e,t,n){sn(ye(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function sf(e,t,n,s){let i=s.includes(".")?Od(n,s):()=>n[s];if(Qe(e)){const o=t[e];Ae(o)&&Me(i,o)}else if(Ae(e))Me(i,e.bind(n));else if(We(e))if(ye(e))e.forEach(o=>sf(o,t,n,s));else{const o=Ae(e.handler)?e.handler.bind(n):t[e.handler];Ae(o)&&Me(i,o,e)}}function of(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!n&&!s?l=t:(l={},i.length&&i.forEach(c=>rr(l,c,r,!0)),rr(l,t,r)),We(t)&&o.set(t,l),l}function rr(e,t,n,s=!1){const{mixins:i,extends:o}=t;o&&rr(e,o,n,!0),i&&i.forEach(r=>rr(e,r,n,!0));for(const r in t)if(!(s&&r==="expose")){const a=q_[r]||n&&n[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const q_={data:rf,props:af,emits:af,methods:Wi,computed:Wi,beforeCreate:$t,created:$t,beforeMount:$t,mounted:$t,beforeUpdate:$t,updated:$t,beforeDestroy:$t,beforeUnmount:$t,destroyed:$t,unmounted:$t,activated:$t,deactivated:$t,errorCaptured:$t,serverPrefetch:$t,components:Wi,directives:Wi,watch:Y_,provide:rf,inject:K_};function rf(e,t){return t?e?function(){return Je(Ae(e)?e.call(this,this):e,Ae(t)?t.call(this,this):t)}:t:e}function K_(e,t){return Wi(fl(e),fl(t))}function fl(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $t(e,t){return e?[...new Set([].concat(e,t))]:t}function Wi(e,t){return e?Je(Object.create(null),e,t):t}function af(e,t){return e?ye(e)&&ye(t)?[...new Set([...e,...t])]:Je(Object.create(null),or(e),or(t??{})):t}function Y_(e,t){if(!e)return t;if(!t)return e;const n=Je(Object.create(null),e);for(const s in t)n[s]=$t(e[s],t[s]);return n}function lf(){return{app:null,config:{isNativeTag:Ku,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let G_=0;function Q_(e,t){return function(s,i=null){Ae(s)||(s=Je({},s)),i!=null&&!We(i)&&(i=null);const o=lf(),r=new WeakSet,a=[];let l=!1;const c=o.app={_uid:G_++,_component:s,_props:i,_container:null,_context:o,_instance:null,version:E0,get config(){return o.config},set config(u){},use(u,...d){return r.has(u)||(u&&Ae(u.install)?(r.add(u),u.install(c,...d)):Ae(u)&&(r.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,f){if(!l){const m=c._ceVNode||se(s,i);return m.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),e(m,u,f),l=!0,c._container=u,u.__vue_app__=c,fr(m.component)}},onUnmount(u){a.push(u)},unmount(){l&&(sn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=ni;ni=c;try{return u()}finally{ni=d}}};return c}}let ni=null;function cf(e,t,n=De){const s=Yi(),i=pt(t),o=Tt(t),r=uf(e,i),a=$d((l,c)=>{let u,d=De,f;return C_(()=>{const m=e[i];kt(u,m)&&(u=m,c())}),{get(){return l(),n.get?n.get(u):u},set(m){const g=n.set?n.set(m):m;if(!kt(g,u)&&!(d!==De&&kt(m,d)))return;const _=s.vnode.props;_&&(t in _||i in _||o in _)&&(`onUpdate:${t}`in _||`onUpdate:${i}`in _||`onUpdate:${o}`in _)||(u=m,c()),s.emit(`update:${t}`,g),kt(m,g)&&kt(m,d)&&!kt(g,f)&&c(),d=m,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?r||De:a,done:!1}:{done:!0}}}},a}const uf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${pt(t)}Modifiers`]||e[`${Tt(t)}Modifiers`];function X_(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||De;let i=n;const o=t.startsWith("update:"),r=o&&uf(s,t.slice(7));r&&(r.trim&&(i=n.map(u=>Qe(u)?u.trim():u)),r.number&&(i=n.map(zo)));let a,l=s[a=Do(t)]||s[a=Do(pt(t))];!l&&o&&(l=s[a=Do(Tt(t))]),l&&sn(l,e,6,i);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,sn(c,e,6,i)}}const J_=new WeakMap;function df(e,t,n=!1){const s=n?J_:t.emitsCache,i=s.get(e);if(i!==void 0)return i;const o=e.emits;let r={},a=!1;if(!Ae(e)){const l=c=>{const u=df(c,t,!0);u&&(a=!0,Je(r,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(We(e)&&s.set(e,null),null):(ye(o)?o.forEach(l=>r[l]=null):Je(r,o),We(e)&&s.set(e,r),r)}function ar(e,t){return!e||!Ro(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,Tt(t))||Ne(e,t))}function DF(){}function ff(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:m,ctx:g,inheritAttrs:_}=e,y=Xo(e);let b,v;try{if(n.shapeFlag&4){const S=i||s,E=S;b=Cn(c.call(E,S,u,d,m,f,g)),v=a}else{const S=t;b=Cn(S.length>1?S(d,{attrs:a,slots:r,emit:l}):S(d,null)),v=t.props?a:Z_(a)}}catch(S){qi.length=0,Go(S,e,1),b=se(_t)}let $=b;if(v&&_!==!1){const S=Object.keys(v),{shapeFlag:E}=$;S.length&&E&7&&(o&&S.some(Ha)&&(v=e0(v,o)),$=rs($,v,!1,!0))}return n.dirs&&($=rs($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&Ni($,n.transition),b=$,Xo(y),b}const Z_=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ro(n))&&((t||(t={}))[n]=e[n]);return t},e0=(e,t)=>{const n={};for(const s in e)(!Ha(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function t0(e,t,n){const{props:s,children:i,component:o}=e,{props:r,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?hf(s,r,c):!!r;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(r[f]!==s[f]&&!ar(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===r?!1:s?r?hf(s,r,c):!0:!!r;return!1}function hf(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const o=s[i];if(t[o]!==e[o]&&!ar(n,o))return!0}return!1}function n0({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const pf={},mf=()=>Object.create(pf),vf=e=>Object.getPrototypeOf(e)===pf;function s0(e,t,n,s=!1){const i={},o=mf();e.propsDefaults=Object.create(null),gf(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);n?e.props=s?i:l_(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function i0(e,t,n,s){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=Ie(i),[l]=e.propsOptions;let c=!1;if((s||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(ar(e.emitsOptions,f))continue;const m=t[f];if(l)if(Ne(o,f))m!==o[f]&&(o[f]=m,c=!0);else{const g=pt(f);i[g]=hl(l,a,g,m,e,!1)}else m!==o[f]&&(o[f]=m,c=!0)}}}else{gf(e,t,i,o)&&(c=!0);let u;for(const d in a)(!t||!Ne(t,d)&&((u=Tt(d))===d||!Ne(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=hl(l,a,d,void 0,e,!0)):delete i[d]);if(o!==a)for(const d in o)(!t||!Ne(t,d))&&(delete o[d],c=!0)}c&&Bn(e.attrs,"set","")}function gf(e,t,n,s){const[i,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(Fi(l))continue;const c=t[l];let u;i&&Ne(i,u=pt(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:ar(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,r=!0)}if(o){const l=Ie(n),c=a||De;for(let u=0;u<o.length;u++){const d=o[u];n[d]=hl(i,l,d,c[d],e,!Ne(c,d))}}return r}function hl(e,t,n,s,i,o){const r=e[n];if(r!=null){const a=Ne(r,"default");if(a&&s===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&Ae(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Gi(i);s=c[n]=l.call(null,t),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}r[0]&&(o&&!a?s=!1:r[1]&&(s===""||s===Tt(n))&&(s=!0))}return s}const o0=new WeakMap;function _f(e,t,n=!1){const s=n?o0:t.propsCache,i=s.get(e);if(i)return i;const o=e.props,r={},a=[];let l=!1;if(!Ae(e)){const u=d=>{l=!0;const[f,m]=_f(d,t,!0);Je(r,f),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return We(e)&&s.set(e,qs),qs;if(ye(o))for(let u=0;u<o.length;u++){const d=pt(o[u]);yf(d)&&(r[d]=De)}else if(o)for(const u in o){const d=pt(u);if(yf(d)){const f=o[u],m=r[d]=ye(f)||Ae(f)?{type:f}:Je({},f),g=m.type;let _=!1,y=!0;if(ye(g))for(let b=0;b<g.length;++b){const v=g[b],$=Ae(v)&&v.name;if($==="Boolean"){_=!0;break}else $==="String"&&(y=!1)}else _=Ae(g)&&g.name==="Boolean";m[0]=_,m[1]=y,(_||Ne(m,"default"))&&a.push(d)}}const c=[r,a];return We(e)&&s.set(e,c),c}function yf(e){return e[0]!=="$"&&!Fi(e)}const pl=e=>e==="_"||e==="_ctx"||e==="$stable",ml=e=>ye(e)?e.map(Cn):[Cn(e)],r0=(e,t,n)=>{if(t._n)return t;const s=be((...i)=>ml(t(...i)),n);return s._c=!1,s},bf=(e,t,n)=>{const s=e._ctx;for(const i in e){if(pl(i))continue;const o=e[i];if(Ae(o))t[i]=r0(i,o,s);else if(o!=null){const r=ml(o);t[i]=()=>r}}},wf=(e,t)=>{const n=ml(t);e.slots.default=()=>n},xf=(e,t,n)=>{for(const s in t)(n||!pl(s))&&(e[s]=t[s])},a0=(e,t,n)=>{const s=e.slots=mf();if(e.vnode.shapeFlag&32){const i=t._;i?(xf(s,t,n),n&&Xu(s,"_",i,!0)):bf(t,s)}else t&&wf(e,t)},l0=(e,t,n)=>{const{vnode:s,slots:i}=e;let o=!0,r=De;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:xf(i,t,n):(o=!t.$stable,bf(t,i)),r=t}else t&&(wf(e,t),r={default:1});if(o)for(const a in i)!pl(a)&&r[a]==null&&delete i[a]},Ct=h0;function c0(e){return u0(e)}function u0(e,t){const n=Bo();n.__VUE__=!0;const{insert:s,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:m=yn,insertStaticContent:g}=e,_=(x,M,j,Z=null,I=null,N=null,W=void 0,q=null,ie=!!M.dynamicChildren)=>{if(x===M)return;x&&!Os(x,M)&&(Z=L(x),te(x,I,N,!0),x=null),M.patchFlag===-2&&(ie=!1,M.dynamicChildren=null);const{type:G,ref:de,shapeFlag:le}=M;switch(G){case lr:y(x,M,j,Z);break;case _t:b(x,M,j,Z);break;case _l:x==null&&v(M,j,Z,W);break;case $e:O(x,M,j,Z,I,N,W,q,ie);break;default:le&1?E(x,M,j,Z,I,N,W,q,ie):le&6?R(x,M,j,Z,I,N,W,q,ie):(le&64||le&128)&&G.process(x,M,j,Z,I,N,W,q,ie,J)}de!=null&&I?ji(de,x&&x.ref,N,M||x,!M):de==null&&x&&x.ref!=null&&ji(x.ref,null,N,x,!0)},y=(x,M,j,Z)=>{if(x==null)s(M.el=a(M.children),j,Z);else{const I=M.el=x.el;M.children!==x.children&&c(I,M.children)}},b=(x,M,j,Z)=>{x==null?s(M.el=l(M.children||""),j,Z):M.el=x.el},v=(x,M,j,Z)=>{[x.el,x.anchor]=g(x.children,M,j,Z,x.el,x.anchor)},$=({el:x,anchor:M},j,Z)=>{let I;for(;x&&x!==M;)I=f(x),s(x,j,Z),x=I;s(M,j,Z)},S=({el:x,anchor:M})=>{let j;for(;x&&x!==M;)j=f(x),i(x),x=j;i(M)},E=(x,M,j,Z,I,N,W,q,ie)=>{if(M.type==="svg"?W="svg":M.type==="math"&&(W="mathml"),x==null)F(M,j,Z,I,N,W,q,ie);else{const G=x.el&&x.el._isVueCE?x.el:null;try{G&&G._beginPatch(),z(x,M,I,N,W,q,ie)}finally{G&&G._endPatch()}}},F=(x,M,j,Z,I,N,W,q)=>{let ie,G;const{props:de,shapeFlag:le,transition:he,dirs:_e}=x;if(ie=x.el=r(x.type,N,de&&de.is,de),le&8?u(ie,x.children):le&16&&H(x.children,ie,null,Z,I,vl(x,N),W,q),_e&&Fs(x,null,Z,"created"),P(ie,x,x.scopeId,W,Z),de){for(const Re in de)Re!=="value"&&!Fi(Re)&&o(ie,Re,null,de[Re],N,Z);"value"in de&&o(ie,"value",null,de.value,N),(G=de.onVnodeBeforeMount)&&En(G,Z,x)}_e&&Fs(x,null,Z,"beforeMount");const Te=d0(I,he);Te&&he.beforeEnter(ie),s(ie,M,j),((G=de&&de.onVnodeMounted)||Te||_e)&&Ct(()=>{G&&En(G,Z,x),Te&&he.enter(ie),_e&&Fs(x,null,Z,"mounted")},I)},P=(x,M,j,Z,I)=>{if(j&&m(x,j),Z)for(let N=0;N<Z.length;N++)m(x,Z[N]);if(I){let N=I.subTree;if(M===N||Ef(N.type)&&(N.ssContent===M||N.ssFallback===M)){const W=I.vnode;P(x,W,W.scopeId,W.slotScopeIds,I.parent)}}},H=(x,M,j,Z,I,N,W,q,ie=0)=>{for(let G=ie;G<x.length;G++){const de=x[G]=q?as(x[G]):Cn(x[G]);_(null,de,M,j,Z,I,N,W,q)}},z=(x,M,j,Z,I,N,W)=>{const q=M.el=x.el;let{patchFlag:ie,dynamicChildren:G,dirs:de}=M;ie|=x.patchFlag&16;const le=x.props||De,he=M.props||De;let _e;if(j&&Rs(j,!1),(_e=he.onVnodeBeforeUpdate)&&En(_e,j,M,x),de&&Fs(M,x,j,"beforeUpdate"),j&&Rs(j,!0),(le.innerHTML&&he.innerHTML==null||le.textContent&&he.textContent==null)&&u(q,""),G?C(x.dynamicChildren,G,q,j,Z,vl(M,I),N):W||A(x,M,q,null,j,Z,vl(M,I),N,!1),ie>0){if(ie&16)T(q,le,he,j,I);else if(ie&2&&le.class!==he.class&&o(q,"class",null,he.class,I),ie&4&&o(q,"style",le.style,he.style,I),ie&8){const Te=M.dynamicProps;for(let Re=0;Re<Te.length;Re++){const ke=Te[Re],Xe=le[ke],nt=he[ke];(nt!==Xe||ke==="value")&&o(q,ke,Xe,nt,I,j)}}ie&1&&x.children!==M.children&&u(q,M.children)}else!W&&G==null&&T(q,le,he,j,I);((_e=he.onVnodeUpdated)||de)&&Ct(()=>{_e&&En(_e,j,M,x),de&&Fs(M,x,j,"updated")},Z)},C=(x,M,j,Z,I,N,W)=>{for(let q=0;q<M.length;q++){const ie=x[q],G=M[q],de=ie.el&&(ie.type===$e||!Os(ie,G)||ie.shapeFlag&198)?d(ie.el):j;_(ie,G,de,null,Z,I,N,W,!0)}},T=(x,M,j,Z,I)=>{if(M!==j){if(M!==De)for(const N in M)!Fi(N)&&!(N in j)&&o(x,N,M[N],null,I,Z);for(const N in j){if(Fi(N))continue;const W=j[N],q=M[N];W!==q&&N!=="value"&&o(x,N,q,W,I,Z)}"value"in j&&o(x,"value",M.value,j.value,I)}},O=(x,M,j,Z,I,N,W,q,ie)=>{const G=M.el=x?x.el:a(""),de=M.anchor=x?x.anchor:a("");let{patchFlag:le,dynamicChildren:he,slotScopeIds:_e}=M;_e&&(q=q?q.concat(_e):_e),x==null?(s(G,j,Z),s(de,j,Z),H(M.children||[],j,de,I,N,W,q,ie)):le>0&&le&64&&he&&x.dynamicChildren&&x.dynamicChildren.length===he.length?(C(x.dynamicChildren,he,j,I,N,W,q),(M.key!=null||I&&M===I.subTree)&&gl(x,M,!0)):A(x,M,j,de,I,N,W,q,ie)},R=(x,M,j,Z,I,N,W,q,ie)=>{M.slotScopeIds=q,x==null?M.shapeFlag&512?I.ctx.activate(M,j,Z,W,ie):K(M,j,Z,I,N,W,ie):ee(x,M,ie)},K=(x,M,j,Z,I,N,W)=>{const q=x.component=_0(x,Z,I);if(sr(x)&&(q.ctx.renderer=J),y0(q,!1,W),q.asyncDep){if(I&&I.registerDep(q,V,W),!x.el){const ie=q.subTree=se(_t);b(null,ie,M,j),x.placeholder=ie.el}}else V(q,x,M,j,I,N,W)},ee=(x,M,j)=>{const Z=M.component=x.component;if(t0(x,M,j))if(Z.asyncDep&&!Z.asyncResolved){U(Z,M,j);return}else Z.next=M,Z.update();else M.el=x.el,Z.vnode=M},V=(x,M,j,Z,I,N,W)=>{const q=()=>{if(x.isMounted){let{next:le,bu:he,u:_e,parent:Te,vnode:Re}=x;{const xt=Sf(x);if(xt){le&&(le.el=Re.el,U(x,le,W)),xt.asyncDep.then(()=>{x.isUnmounted||q()});return}}let ke=le,Xe;Rs(x,!1),le?(le.el=Re.el,U(x,le,W)):le=Re,he&&Lo(he),(Xe=le.props&&le.props.onVnodeBeforeUpdate)&&En(Xe,Te,le,Re),Rs(x,!0);const nt=ff(x),ct=x.subTree;x.subTree=nt,_(ct,nt,d(ct.el),L(ct),x,I,N),le.el=nt.el,ke===null&&n0(x,nt.el),_e&&Ct(_e,I),(Xe=le.props&&le.props.onVnodeUpdated)&&Ct(()=>En(Xe,Te,le,Re),I)}else{let le;const{el:he,props:_e}=M,{bm:Te,m:Re,parent:ke,root:Xe,type:nt}=x,ct=ti(M);Rs(x,!1),Te&&Lo(Te),!ct&&(le=_e&&_e.onVnodeBeforeMount)&&En(le,ke,M),Rs(x,!0);{Xe.ce&&Xe.ce._def.shadowRoot!==!1&&Xe.ce._injectChildStyle(nt);const xt=x.subTree=ff(x);_(null,xt,j,Z,x,I,N),M.el=xt.el}if(Re&&Ct(Re,I),!ct&&(le=_e&&_e.onVnodeMounted)){const xt=M;Ct(()=>En(le,ke,xt),I)}(M.shapeFlag&256||ke&&ti(ke.vnode)&&ke.vnode.shapeFlag&256)&&x.a&&Ct(x.a,I),x.isMounted=!0,M=j=Z=null}};x.scope.on();const ie=x.effect=new sd(q);x.scope.off();const G=x.update=ie.run.bind(ie),de=x.job=ie.runIfDirty.bind(ie);de.i=x,de.id=x.uid,ie.scheduler=()=>ol(de),Rs(x,!0),G()},U=(x,M,j)=>{M.component=x;const Z=x.vnode.props;x.vnode=M,x.next=null,i0(x,M.props,Z,j),l0(x,M.children,j),wn(),Td(x),xn()},A=(x,M,j,Z,I,N,W,q,ie=!1)=>{const G=x&&x.children,de=x?x.shapeFlag:0,le=M.children,{patchFlag:he,shapeFlag:_e}=M;if(he>0){if(he&128){ne(G,le,j,Z,I,N,W,q,ie);return}else if(he&256){D(G,le,j,Z,I,N,W,q,ie);return}}_e&8?(de&16&&pe(G,I,N),le!==G&&u(j,le)):de&16?_e&16?ne(G,le,j,Z,I,N,W,q,ie):pe(G,I,N,!0):(de&8&&u(j,""),_e&16&&H(le,j,Z,I,N,W,q,ie))},D=(x,M,j,Z,I,N,W,q,ie)=>{x=x||qs,M=M||qs;const G=x.length,de=M.length,le=Math.min(G,de);let he;for(he=0;he<le;he++){const _e=M[he]=ie?as(M[he]):Cn(M[he]);_(x[he],_e,j,null,I,N,W,q,ie)}G>de?pe(x,I,N,!0,!1,le):H(M,j,Z,I,N,W,q,ie,le)},ne=(x,M,j,Z,I,N,W,q,ie)=>{let G=0;const de=M.length;let le=x.length-1,he=de-1;for(;G<=le&&G<=he;){const _e=x[G],Te=M[G]=ie?as(M[G]):Cn(M[G]);if(Os(_e,Te))_(_e,Te,j,null,I,N,W,q,ie);else break;G++}for(;G<=le&&G<=he;){const _e=x[le],Te=M[he]=ie?as(M[he]):Cn(M[he]);if(Os(_e,Te))_(_e,Te,j,null,I,N,W,q,ie);else break;le--,he--}if(G>le){if(G<=he){const _e=he+1,Te=_e<de?M[_e].el:Z;for(;G<=he;)_(null,M[G]=ie?as(M[G]):Cn(M[G]),j,Te,I,N,W,q,ie),G++}}else if(G>he)for(;G<=le;)te(x[G],I,N,!0),G++;else{const _e=G,Te=G,Re=new Map;for(G=Te;G<=he;G++){const ht=M[G]=ie?as(M[G]):Cn(M[G]);ht.key!=null&&Re.set(ht.key,G)}let ke,Xe=0;const nt=he-Te+1;let ct=!1,xt=0;const zn=new Array(nt);for(G=0;G<nt;G++)zn[G]=0;for(G=_e;G<=le;G++){const ht=x[G];if(Xe>=nt){te(ht,I,N,!0);continue}let Dt;if(ht.key!=null)Dt=Re.get(ht.key);else for(ke=Te;ke<=he;ke++)if(zn[ke-Te]===0&&Os(ht,M[ke])){Dt=ke;break}Dt===void 0?te(ht,I,N,!0):(zn[Dt-Te]=G+1,Dt>=xt?xt=Dt:ct=!0,_(ht,M[Dt],j,null,I,N,W,q,ie),Xe++)}const Ti=ct?f0(zn):qs;for(ke=Ti.length-1,G=nt-1;G>=0;G--){const ht=Te+G,Dt=M[ht],Lt=M[ht+1],ki=ht+1<de?Lt.el||Cf(Lt):Z;zn[G]===0?_(null,Dt,j,ki,I,N,W,q,ie):ct&&(ke<0||G!==Ti[ke]?X(Dt,j,ki,2):ke--)}}},X=(x,M,j,Z,I=null)=>{const{el:N,type:W,transition:q,children:ie,shapeFlag:G}=x;if(G&6){X(x.component.subTree,M,j,Z);return}if(G&128){x.suspense.move(M,j,Z);return}if(G&64){W.move(x,M,j,J);return}if(W===$e){s(N,M,j);for(let le=0;le<ie.length;le++)X(ie[le],M,j,Z);s(x.anchor,M,j);return}if(W===_l){$(x,M,j);return}if(Z!==2&&G&1&&q)if(Z===0)q.beforeEnter(N),s(N,M,j),Ct(()=>q.enter(N),I);else{const{leave:le,delayLeave:he,afterLeave:_e}=q,Te=()=>{x.ctx.isUnmounted?i(N):s(N,M,j)},Re=()=>{N._isLeaving&&N[Vn](!0),le(N,()=>{Te(),_e&&_e()})};he?he(N,Te,Re):Re()}else s(N,M,j)},te=(x,M,j,Z=!1,I=!1)=>{const{type:N,props:W,ref:q,children:ie,dynamicChildren:G,shapeFlag:de,patchFlag:le,dirs:he,cacheIndex:_e}=x;if(le===-2&&(I=!1),q!=null&&(wn(),ji(q,null,j,x,!0),xn()),_e!=null&&(M.renderCache[_e]=void 0),de&256){M.ctx.deactivate(x);return}const Te=de&1&&he,Re=!ti(x);let ke;if(Re&&(ke=W&&W.onVnodeBeforeUnmount)&&En(ke,M,x),de&6)ve(x.component,j,Z);else{if(de&128){x.suspense.unmount(j,Z);return}Te&&Fs(x,null,M,"beforeUnmount"),de&64?x.type.remove(x,M,j,J,Z):G&&!G.hasOnce&&(N!==$e||le>0&&le&64)?pe(G,M,j,!1,!0):(N===$e&&le&384||!I&&de&16)&&pe(ie,M,j),Z&&Y(x)}(Re&&(ke=W&&W.onVnodeUnmounted)||Te)&&Ct(()=>{ke&&En(ke,M,x),Te&&Fs(x,null,M,"unmounted")},j)},Y=x=>{const{type:M,el:j,anchor:Z,transition:I}=x;if(M===$e){ue(j,Z);return}if(M===_l){S(x);return}const N=()=>{i(j),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(x.shapeFlag&1&&I&&!I.persisted){const{leave:W,delayLeave:q}=I,ie=()=>W(j,N);q?q(x.el,N,ie):ie()}else N()},ue=(x,M)=>{let j;for(;x!==M;)j=f(x),i(x),x=j;i(M)},ve=(x,M,j)=>{const{bum:Z,scope:I,job:N,subTree:W,um:q,m:ie,a:G}=x;$f(ie),$f(G),Z&&Lo(Z),I.stop(),N&&(N.flags|=8,te(W,x,M,j)),q&&Ct(q,M),Ct(()=>{x.isUnmounted=!0},M)},pe=(x,M,j,Z=!1,I=!1,N=0)=>{for(let W=N;W<x.length;W++)te(x[W],M,j,Z,I)},L=x=>{if(x.shapeFlag&6)return L(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const M=f(x.anchor||x.el),j=M&&M[Pd];return j?f(j):M};let fe=!1;const ae=(x,M,j)=>{let Z;x==null?M._vnode&&(te(M._vnode,null,null,!0),Z=M._vnode.component):_(M._vnode||null,x,M,null,null,null,j),M._vnode=x,fe||(fe=!0,Td(Z),kd(),fe=!1)},J={p:_,um:te,m:X,r:Y,mt:K,mc:H,pc:A,pbc:C,n:L,o:e};return{render:ae,hydrate:void 0,createApp:Q_(ae)}}function vl({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Rs({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function d0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function gl(e,t,n=!1){const s=e.children,i=t.children;if(ye(s)&&ye(i))for(let o=0;o<s.length;o++){const r=s[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=as(i[o]),a.el=r.el),!n&&a.patchFlag!==-2&&gl(r,a)),a.type===lr&&(a.patchFlag!==-1?a.el=r.el:a.__elIndex=o+(e.type===$e?1:0)),a.type===_t&&!a.el&&(a.el=r.el)}}function f0(e){const t=e.slice(),n=[0];let s,i,o,r,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(o=0,r=n.length-1;o<r;)a=o+r>>1,e[n[a]]<c?o=a+1:r=a;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,r=n[o-1];o-- >0;)n[o]=r,r=t[r];return n}function Sf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Sf(t)}function $f(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Cf(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Cf(t.subTree):null}const Ef=e=>e.__isSuspense;function h0(e,t){t&&t.pendingBranch?ye(e)?t.effects.push(...e):t.effects.push(e):x_(e)}const $e=Symbol.for("v-fgt"),lr=Symbol.for("v-txt"),_t=Symbol.for("v-cmt"),_l=Symbol.for("v-stc"),qi=[];let zt=null;function w(e=!1){qi.push(zt=e?null:[])}function p0(){qi.pop(),zt=qi[qi.length-1]||null}let Ki=1;function cr(e,t=!1){Ki+=e,e<0&&zt&&t&&(zt.hasOnce=!0)}function Af(e){return e.dynamicChildren=Ki>0?zt||qs:null,p0(),Ki>0&&zt&&zt.push(e),e}function k(e,t,n,s,i,o){return Af(p(e,t,n,s,i,o,!0))}function oe(e,t,n,s,i){return Af(se(e,t,n,s,i,!0))}function $n(e){return e?e.__v_isVNode===!0:!1}function Os(e,t){return e.type===t.type&&e.key===t.key}const Tf=({key:e})=>e??null,ur=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Qe(e)||et(e)||Ae(e)?{i:ut,r:e,k:t,f:!!n}:e:null);function p(e,t=null,n=null,s=0,i=null,o=e===$e?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Tf(t),ref:t&&ur(t),scopeId:Fd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ut};return a?(yl(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=Qe(n)?8:16),Ki>0&&!r&&zt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&zt.push(l),l}const se=m0;function m0(e,t=null,n=null,s=0,i=null,o=!1){if((!e||e===Jd)&&(e=_t),$n(e)){const a=rs(e,t,!0);return n&&yl(a,n),Ki>0&&!o&&zt&&(a.shapeFlag&6?zt[zt.indexOf(e)]=a:zt.push(a)),a.patchFlag=-2,a}if($0(e)&&(e=e.__vccOpts),t){t=qn(t);let{class:a,style:l}=t;a&&!Qe(a)&&(t.class=ge(a)),We(l)&&(sl(l)&&!ye(l)&&(l=Je({},l)),t.style=st(l))}const r=Qe(e)?1:Ef(e)?128:Id(e)?64:We(e)?4:Ae(e)?2:0;return p(e,t,n,s,i,r,o,!0)}function qn(e){return e?sl(e)||vf(e)?Je({},e):e:null}function rs(e,t,n=!1,s=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:l}=e,c=t?at(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Tf(c),ref:t&&t.ref?n&&o?ye(o)?o.concat(ur(t)):[o,ur(t)]:ur(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$e?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rs(e.ssContent),ssFallback:e.ssFallback&&rs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Ni(u,l.clone(u)),u}function je(e=" ",t=0){return se(lr,null,e,t)}function re(e="",t=!1){return t?(w(),oe(_t,null,e)):se(_t,null,e)}function Cn(e){return e==null||typeof e=="boolean"?se(_t):ye(e)?se($e,null,e.slice()):$n(e)?as(e):se(lr,null,String(e))}function as(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rs(e)}function yl(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ye(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),yl(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!vf(t)?t._ctx=ut:i===3&&ut&&(ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ae(t)?(t={default:t,_ctx:ut},n=32):(t=String(t),s&64?(n=16,t=[je(t)]):n=8);e.children=t,e.shapeFlag|=n}function at(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=ge([t.class,s.class]));else if(i==="style")t.style=st([t.style,s.style]);else if(Ro(i)){const o=t[i],r=s[i];r&&o!==r&&!(ye(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=s[i])}return t}function En(e,t,n,s=null){sn(e,t,7,[n,s])}const v0=lf();let g0=0;function _0(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||v0,o={uid:g0++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new jg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_f(s,i),emitsOptions:df(s,i),emit:null,emitted:null,propsDefaults:De,inheritAttrs:s.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=X_.bind(null,o),e.ce&&e.ce(o),o}let yt=null;const Yi=()=>yt||ut;let dr,bl;{const e=Bo(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};dr=t("__VUE_INSTANCE_SETTERS__",n=>yt=n),bl=t("__VUE_SSR_SETTERS__",n=>Qi=n)}const Gi=e=>{const t=yt;return dr(e),e.scope.on(),()=>{e.scope.off(),dr(t)}},kf=()=>{yt&&yt.scope.off(),dr(null)};function Mf(e){return e.vnode.shapeFlag&4}let Qi=!1;function y0(e,t=!1,n=!1){t&&bl(t);const{props:s,children:i}=e.vnode,o=Mf(e);s0(e,s,o,t),a0(e,i,n||t);const r=o?b0(e,t):void 0;return t&&bl(!1),r}function b0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,H_);const{setup:s}=n;if(s){wn();const i=e.setupContext=s.length>1?Of(e):null,o=Gi(e),r=Xs(s,e,0,[e.props,i]),a=Gu(r);if(xn(),o(),(a||e.sp)&&!ti(e)&&Kd(e),a){if(r.then(kf,kf),t)return r.then(l=>{Ff(e,l)}).catch(l=>{Go(l,e,0)});e.asyncDep=r}else Ff(e,r)}else Rf(e)}function Ff(e,t,n){Ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:We(t)&&(e.setupState=Sd(t)),Rf(e)}function Rf(e,t,n){const s=e.type;e.render||(e.render=s.render||yn);{const i=Gi(e);wn();try{V_(e)}finally{xn(),i()}}}const w0={get(e,t){return vt(e,"get",""),e[t]}};function Of(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,w0),slots:e.slots,emit:e.emit,expose:t}}function fr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Sd(wd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Vi)return Vi[n](e)},has(t,n){return n in t||n in Vi}})):e.proxy}const x0=/(?:^|[-_])\w/g,S0=e=>e.replace(x0,t=>t.toUpperCase()).replace(/[-_]/g,"");function Pf(e,t=!0){return Ae(e)?e.displayName||e.name:e.name||t&&e.__name}function If(e,t,n=!1){let s=Pf(t);if(!s&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(s=i[1])}if(!s&&e){const i=o=>{for(const r in o)if(o[r]===t)return r};s=i(e.components)||e.parent&&i(e.parent.type.components)||i(e.appContext.components)}return s?S0(s):n?"App":"Anonymous"}function $0(e){return Ae(e)&&"__vccOpts"in e}const ce=(e,t)=>h_(e,t,Qi);function C0(e,t,n){try{cr(-1);const s=arguments.length;return s===2?We(t)&&!ye(t)?$n(t)?se(e,null,[t]):se(e,t):se(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&$n(n)&&(n=[n]),se(e,t,n))}finally{cr(1)}}const E0="3.5.26";let wl;const Df=typeof window<"u"&&window.trustedTypes;if(Df)try{wl=Df.createPolicy("vue",{createHTML:e=>e})}catch{}const Lf=wl?e=>wl.createHTML(e):e=>e,A0="http://www.w3.org/2000/svg",T0="http://www.w3.org/1998/Math/MathML",Kn=typeof document<"u"?document:null,zf=Kn&&Kn.createElement("template"),k0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?Kn.createElementNS(A0,e):t==="mathml"?Kn.createElementNS(T0,e):n?Kn.createElement(e,{is:n}):Kn.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Kn.createTextNode(e),createComment:e=>Kn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Kn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,o){const r=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{zf.innerHTML=Lf(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=zf.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ls="transition",Xi="animation",Ji=Symbol("_vtc"),Bf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},M0=Je({},Nd,Bf),F0=(e=>(e.displayName="Transition",e.props=M0,e))((e,{slots:t})=>C0(M_,R0(e),t)),Ps=(e,t=[])=>{ye(e)?e.forEach(n=>n(...t)):e&&e(...t)},Hf=e=>e?ye(e)?e.some(t=>t.length>1):e.length>1:!1;function R0(e){const t={};for(const O in e)O in Bf||(t[O]=e[O]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=r,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,g=O0(i),_=g&&g[0],y=g&&g[1],{onBeforeEnter:b,onEnter:v,onEnterCancelled:$,onLeave:S,onLeaveCancelled:E,onBeforeAppear:F=b,onAppear:P=v,onAppearCancelled:H=$}=t,z=(O,R,K,ee)=>{O._enterCancelled=ee,Is(O,R?u:a),Is(O,R?c:r),K&&K()},C=(O,R)=>{O._isLeaving=!1,Is(O,d),Is(O,m),Is(O,f),R&&R()},T=O=>(R,K)=>{const ee=O?P:v,V=()=>z(R,O,K);Ps(ee,[R,V]),Nf(()=>{Is(R,O?l:o),Yn(R,O?u:a),Hf(ee)||jf(R,s,_,V)})};return Je(t,{onBeforeEnter(O){Ps(b,[O]),Yn(O,o),Yn(O,r)},onBeforeAppear(O){Ps(F,[O]),Yn(O,l),Yn(O,c)},onEnter:T(!1),onAppear:T(!0),onLeave(O,R){O._isLeaving=!0;const K=()=>C(O,R);Yn(O,d),O._enterCancelled?(Yn(O,f),Wf(O)):(Wf(O),Yn(O,f)),Nf(()=>{O._isLeaving&&(Is(O,d),Yn(O,m),Hf(S)||jf(O,s,y,K))}),Ps(S,[O,K])},onEnterCancelled(O){z(O,!1,void 0,!0),Ps($,[O])},onAppearCancelled(O){z(O,!0,void 0,!0),Ps(H,[O])},onLeaveCancelled(O){C(O),Ps(E,[O])}})}function O0(e){if(e==null)return null;if(We(e))return[xl(e.enter),xl(e.leave)];{const t=xl(e);return[t,t]}}function xl(e){return Ua(e)}function Yn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ji]||(e[Ji]=new Set)).add(t)}function Is(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[Ji];n&&(n.delete(t),n.size||(e[Ji]=void 0))}function Nf(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let P0=0;function jf(e,t,n,s){const i=e._endId=++P0,o=()=>{i===e._endId&&s()};if(n!=null)return setTimeout(o,n);const{type:r,timeout:a,propCount:l}=I0(e,t);if(!r)return s();const c=r+"end";let u=0;const d=()=>{e.removeEventListener(c,f),o()},f=m=>{m.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,f)}function I0(e,t){const n=window.getComputedStyle(e),s=g=>(n[g]||"").split(", "),i=s(`${ls}Delay`),o=s(`${ls}Duration`),r=Uf(i,o),a=s(`${Xi}Delay`),l=s(`${Xi}Duration`),c=Uf(a,l);let u=null,d=0,f=0;t===ls?r>0&&(u=ls,d=r,f=o.length):t===Xi?c>0&&(u=Xi,d=c,f=l.length):(d=Math.max(r,c),u=d>0?r>c?ls:Xi:null,f=u?u===ls?o.length:l.length:0);const m=u===ls&&/\b(?:transform|all)(?:,|$)/.test(s(`${ls}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:m}}function Uf(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Vf(n)+Vf(e[s])))}function Vf(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Wf(e){return(e?e.ownerDocument:document).body.offsetHeight}function D0(e,t,n){const s=e[Ji];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const hr=Symbol("_vod"),qf=Symbol("_vsh"),an={name:"show",beforeMount(e,{value:t},{transition:n}){e[hr]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Zi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Zi(e,!0),s.enter(e)):s.leave(e,()=>{Zi(e,!1)}):Zi(e,t))},beforeUnmount(e,{value:t}){Zi(e,t)}};function Zi(e,t){e.style.display=t?e[hr]:"none",e[qf]=!t}const L0=Symbol(""),z0=/(?:^|;)\s*display\s*:/;function B0(e,t,n){const s=e.style,i=Qe(n);let o=!1;if(n&&!i){if(t)if(Qe(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();n[a]==null&&pr(s,a,"")}else for(const r in t)n[r]==null&&pr(s,r,"");for(const r in n)r==="display"&&(o=!0),pr(s,r,n[r])}else if(i){if(t!==n){const r=s[L0];r&&(n+=";"+r),s.cssText=n,o=z0.test(n)}}else t&&e.removeAttribute("style");hr in e&&(e[hr]=o?s.display:"",e[qf]&&(s.display="none"))}const Kf=/\s*!important$/;function pr(e,t,n){if(ye(n))n.forEach(s=>pr(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=H0(e,t);Kf.test(n)?e.setProperty(Tt(s),n.replace(Kf,""),"important"):e[s]=n}}const Yf=["Webkit","Moz","ms"],Sl={};function H0(e,t){const n=Sl[t];if(n)return n;let s=pt(t);if(s!=="filter"&&s in e)return Sl[t]=s;s=Io(s);for(let i=0;i<Yf.length;i++){const o=Yf[i]+s;if(o in e)return Sl[t]=o}return t}const Gf="http://www.w3.org/1999/xlink";function Qf(e,t,n,s,i,o=Hg(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Gf,t.slice(6,t.length)):e.setAttributeNS(Gf,t,n):n==null||o&&!Zu(n)?e.removeAttribute(t):e.setAttribute(t,o?"":en(n)?String(n):n)}function Xf(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Lf(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Zu(n):n==null&&a==="string"?(n="",r=!0):a==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(i||t)}function Gn(e,t,n,s){e.addEventListener(t,n,s)}function N0(e,t,n,s){e.removeEventListener(t,n,s)}const Jf=Symbol("_vei");function j0(e,t,n,s,i=null){const o=e[Jf]||(e[Jf]={}),r=o[t];if(s&&r)r.value=s;else{const[a,l]=U0(t);if(s){const c=o[t]=q0(s,i);Gn(e,a,c,l)}else r&&(N0(e,a,r,l),o[t]=void 0)}}const Zf=/(?:Once|Passive|Capture)$/;function U0(e){let t;if(Zf.test(e)){t={};let s;for(;s=e.match(Zf);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Tt(e.slice(2)),t]}let $l=0;const V0=Promise.resolve(),W0=()=>$l||(V0.then(()=>$l=0),$l=Date.now());function q0(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;sn(K0(s,n.value),t,5,[s])};return n.value=e,n.attached=W0(),n}function K0(e,t){if(ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const eh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Y0=(e,t,n,s,i,o)=>{const r=i==="svg";t==="class"?D0(e,s,r):t==="style"?B0(e,n,s):Ro(t)?Ha(t)||j0(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):G0(e,t,s,r))?(Xf(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Qf(e,t,s,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Qe(s))?Xf(e,pt(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Qf(e,t,s,r))};function G0(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&eh(t)&&Ae(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return eh(t)&&Qe(n)?!1:t in e}const th={};function Q0(e,t,n){let s=xe(e,t);Oo(s)&&(s=Je({},s,t));class i extends Cl{constructor(r){super(s,r,n)}}return i.def=s,i}const X0=typeof HTMLElement<"u"?HTMLElement:class{};class Cl extends X0{constructor(t,n={},s=ch){super(),this._def=t,this._props=n,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._patching=!1,this._dirty=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==ch?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow(Je({},t.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Cl){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._inheritParentContext(t))}_inheritParentContext(t=this._parent){t&&this._app&&Object.setPrototypeOf(this._app._context.provides,t._instance.provides)}disconnectedCallback(){this._connected=!1,gt(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(t){for(const n of t)this._setAttr(n.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const t=(s,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:o,styles:r}=s;let a;if(o&&!ye(o))for(const l in o){const c=o[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Ua(this._props[l])),(a||(a=Object.create(null)))[pt(l)]=!0)}this._numberProps=a,this._resolveProps(s),this.shadowRoot&&this._applyStyles(r),this._mount(s)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(s=>{s.configureApp=this._def.configureApp,t(this._def=s,!0)}):t(this._def)}_mount(t){this._app=this._createApp(t),this._inheritParentContext(),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const s in n)Ne(this,s)||Object.defineProperty(this,s,{get:()=>h(n[s])})}_resolveProps(t){const{props:n}=t,s=ye(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&s.includes(i)&&this._setProp(i,this[i]);for(const i of s.map(pt))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o,!0,!this._patching)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const n=this.hasAttribute(t);let s=n?this.getAttribute(t):th;const i=pt(t);n&&this._numberProps&&this._numberProps[i]&&(s=Ua(s)),this._setProp(i,s,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,i=!1){if(n!==this._props[t]&&(this._dirty=!0,n===th?delete this._props[t]:(this._props[t]=n,t==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),s)){const o=this._ob;o&&(this._processMutations(o.takeRecords()),o.disconnect()),n===!0?this.setAttribute(Tt(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Tt(t),n+""):n||this.removeAttribute(Tt(t)),o&&o.observe(this,{attributes:!0})}}_update(){const t=this._createVNode();this._app&&(t.appContext=this._app._context),sy(t,this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const n=se(this._def,Je(t,this._props));return this._instance||(n.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const i=(o,r)=>{this.dispatchEvent(new CustomEvent(o,Oo(r[0])?Je({detail:r},r[0]):{detail:r}))};s.emit=(o,...r)=>{i(o,r),Tt(o)!==o&&i(Tt(o),r)},this._setParent()}),n}_applyStyles(t,n){if(!t)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const s=this._nonce;for(let i=t.length-1;i>=0;i--){const o=document.createElement("style");s&&o.setAttribute("nonce",s),o.textContent=t[i],this.shadowRoot.prepend(o)}}_parseSlots(){const t=this._slots={};let n;for(;n=this.firstChild;){const s=n.nodeType===1&&n.getAttribute("slot")||"default";(t[s]||(t[s]=[])).push(n),this.removeChild(n)}}_renderSlots(){const t=this._getSlots(),n=this._instance.type.__scopeId;for(let s=0;s<t.length;s++){const i=t[s],o=i.getAttribute("name")||"default",r=this._slots[o],a=i.parentNode;if(r)for(const l of r){if(n&&l.nodeType===1){const c=n+"-s",u=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=u.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_getSlots(){const t=[this];this._teleportTargets&&t.push(...this._teleportTargets);const n=new Set;for(const s of t){const i=s.querySelectorAll("slot");for(let o=0;o<i.length;o++)n.add(i[o])}return Array.from(n)}_injectChildStyle(t){this._applyStyles(t.styles,t)}_beginPatch(){this._patching=!0,this._dirty=!1}_endPatch(){this._patching=!1,this._dirty&&this._instance&&this._update()}_removeChildStyle(t){}}const cs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ye(t)?n=>Lo(t,n):t};function J0(e){e.target.composing=!0}function nh(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Kt=Symbol("_assign");function sh(e,t,n){return t&&(e=e.trim()),n&&(e=zo(e)),e}const eo={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[Kt]=cs(i);const o=s||i.props&&i.props.type==="number";Gn(e,t?"change":"input",r=>{r.target.composing||e[Kt](sh(e.value,n,o))}),(n||o)&&Gn(e,"change",()=>{e.value=sh(e.value,n,o)}),t||(Gn(e,"compositionstart",J0),Gn(e,"compositionend",nh),Gn(e,"change",nh))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:o}},r){if(e[Kt]=cs(r),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?zo(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===l)||(e.value=l))}},mr={deep:!0,created(e,t,n){e[Kt]=cs(n),Gn(e,"change",()=>{const s=e._modelValue,i=si(e),o=e.checked,r=e[Kt];if(ye(s)){const a=Va(s,i),l=a!==-1;if(o&&!l)r(s.concat(i));else if(!o&&l){const c=[...s];c.splice(a,1),r(c)}}else if(Ys(s)){const a=new Set(s);o?a.add(i):a.delete(i),r(a)}else r(rh(e,o))})},mounted:ih,beforeUpdate(e,t,n){e[Kt]=cs(n),ih(e,t,n)}};function ih(e,{value:t,oldValue:n},s){e._modelValue=t;let i;if(ye(t))i=Va(t,s.props.value)>-1;else if(Ys(t))i=t.has(s.props.value);else{if(t===n)return;i=Es(t,rh(e,!0))}e.checked!==i&&(e.checked=i)}const El={created(e,{value:t},n){e.checked=Es(t,n.props.value),e[Kt]=cs(n),Gn(e,"change",()=>{e[Kt](si(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[Kt]=cs(s),t!==n&&(e.checked=Es(t,s.props.value))}},Al={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=Ys(t);Gn(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>n?zo(si(r)):si(r));e[Kt](e.multiple?i?new Set(o):o:o[0]),e._assigning=!0,gt(()=>{e._assigning=!1})}),e[Kt]=cs(s)},mounted(e,{value:t}){oh(e,t)},beforeUpdate(e,t,n){e[Kt]=cs(n)},updated(e,{value:t}){e._assigning||oh(e,t)}};function oh(e,t){const n=e.multiple,s=ye(t);if(!(n&&!s&&!Ys(t))){for(let i=0,o=e.options.length;i<o;i++){const r=e.options[i],a=si(r);if(n)if(s){const l=typeof a;l==="string"||l==="number"?r.selected=t.some(c=>String(c)===String(a)):r.selected=Va(t,a)>-1}else r.selected=t.has(a);else if(Es(si(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function si(e){return"_value"in e?e._value:e.value}function rh(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Z0=["ctrl","shift","alt","meta"],ey={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Z0.some(n=>e[`${n}Key`]&&!t.includes(n))},Pe=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=((i,...o)=>{for(let r=0;r<t.length;r++){const a=ey[t[r]];if(a&&a(i,t))return}return e(i,...o)}))},ty={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},to=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=(i=>{if(!("key"in i))return;const o=Tt(i.key);if(t.some(r=>r===o||ty[r]===o))return e(i)}))},ny=Je({patchProp:Y0},k0);let ah;function lh(){return ah||(ah=c0(ny))}const sy=((...e)=>{lh().render(...e)}),ch=((...e)=>{const t=lh().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=oy(s);if(!i)return;const o=t._component;!Ae(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=n(i,!1,iy(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t});function iy(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function oy(e){return Qe(e)?document.querySelector(e):e}const Tl=new Map,kl=Symbol("ServiceContainerId");function ry(e,t){Tl.set(e,t)}function ay(e){Tl.delete(e)}function Ce(e){const t=is(kl);if(!t)throw new Error("No VueFinder app instance found. Make sure VueFinder component is mounted and provide the id explicitly or use within a VueFinder component tree.");const n=Tl.get(t);if(!n)throw new Error(`VueFinder app instance with id "${t}" was not found. Make sure the VueFinder component with id="${t}" is mounted.`);return n}function ly(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s?s.push(n):e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&(n?s.splice(s.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var s=e.get(t);s&&s.slice().map(function(i){i(n)}),(s=e.get("*"))&&s.slice().map(function(i){i(t,n)})}}}function cy(e){const t=localStorage.getItem(e+"_storage"),n=Ts(JSON.parse(t??"{}"));Me(n,s);function s(){Object.keys(n).length?localStorage.setItem(e+"_storage",JSON.stringify(n)):localStorage.removeItem(e+"_storage")}function i(l,c){n[l]=c}function o(l){delete n[l]}function r(){Object.keys(n).forEach(l=>o(l))}return{getStore:(l,c=null)=>l in n?n[l]:c,setStore:i,removeStore:o,clearStore:r}}function we(e){let t=qo(),n=e.subscribe(s=>{t.value=s});return nd()&&Ug(n),t}let Ml=1;var uy=class{subscribers;toasts;dismissedToasts;constructor(){this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)});publish=e=>{this.subscribers.forEach(t=>t(e))};addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]};create=e=>{const{message:t,...n}=e,s=typeof e.id=="number"||e.id&&e.id?.length>0?e.id:Ml++,i=this.toasts.find(r=>r.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(r=>r.id===s?(this.publish({...r,...e,id:s,title:t}),{...r,...e,id:s,dismissible:o,title:t}):r):this.addToast({title:t,...n,dismissible:o,id:s}),s};dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e);message=(e,t)=>this.create({...t,message:e,type:"default"});error=(e,t)=>this.create({...t,type:"error",message:e});success=(e,t)=>this.create({...t,type:"success",message:e});info=(e,t)=>this.create({...t,type:"info",message:e});warning=(e,t)=>this.create({...t,type:"warning",message:e});loading=(e,t)=>this.create({...t,type:"loading",message:e});promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,o;const r=s.then(async l=>{if(o=["resolve",l],$n(l))i=!1,this.create({id:n,type:"default",message:l});else if(fy(l)&&!l.ok){i=!1;const u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description,m=typeof u=="object"&&!$n(u)?u:{message:u||"",id:n||""};this.create({id:n,type:"error",description:d,...m})}else if(l instanceof Error){i=!1;const u=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description,m=typeof u=="object"&&!$n(u)?u:{message:u||"",id:n||""};this.create({id:n,type:"error",description:d,...m})}else if(t.success!==void 0){i=!1;const u=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description,m=typeof u=="object"&&!$n(u)?u:{message:u||"",id:n||""};this.create({id:n,type:"success",description:d,...m})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){i=!1;const c=typeof t.error=="function"?await t.error(l):t.error,u=typeof t.description=="function"?await t.description(l):t.description,f=typeof c=="object"&&!$n(c)?c:{message:c||"",id:n||""};this.create({id:n,type:"error",description:u,...f})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),t.finally?.()}),a=()=>new Promise((l,c)=>r.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})};custom=(e,t)=>{const n=t?.id||Ml++,s=this.toasts.find(o=>o.id===n),i=t?.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),s?this.toasts=this.toasts.map(o=>o.id===n?(this.publish({...o,component:e,dismissible:i,id:n,...t}),{...o,component:e,dismissible:i,id:n,...t}):o):this.addToast({component:e,dismissible:i,id:n,...t}),n};getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id))};const Mt=new uy;function dy(e,t){const n=t?.id||Ml++;return Mt.create({message:e,id:n,type:"default",...t}),n}const fy=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",hy=dy,py=()=>Mt.toasts,my=()=>Mt.getActiveToasts(),Ue=Object.assign(hy,{success:Mt.success,info:Mt.info,warning:Mt.warning,error:Mt.error,custom:Mt.custom,message:Mt.message,promise:Mt.promise,dismiss:Mt.dismiss,loading:Mt.loading},{getHistory:py,getToasts:my});function vr(e){return e.label!==void 0}const vy=3,uh="24px",dh="16px",fh=4e3,gy=356,_y=14,yy=45,hh=200;function by(){const e=Q(!1);return Un(()=>{const t=()=>{e.value=document.hidden};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)}),{isDocumentHidden:e}}function us(...e){return e.filter(Boolean).join(" ")}function wy(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}function xy(e,t){const n={};return[e,t].forEach((s,i)=>{const o=i===1,r=o?"--mobile-offset":"--offset",a=o?dh:uh;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${r}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(c=>{s[c]===void 0?n[`${r}-${c}`]=a:n[`${r}-${c}`]=typeof s[c]=="number"?`${s[c]}px`:s[c]}):l(a)}),n}const Sy=["data-rich-colors","data-styled","data-mounted","data-promise","data-swiped","data-removed","data-visible","data-y-position","data-x-position","data-index","data-front","data-swiping","data-dismissible","data-type","data-invert","data-swipe-out","data-swipe-direction","data-expanded","data-testid"],$y=["aria-label","data-disabled","data-close-button-position"];var Cy=xe({__name:"Toast",props:{toast:{},toasts:{},index:{},swipeDirections:{},expanded:{type:Boolean},invert:{type:Boolean},heights:{},gap:{},position:{},closeButtonPosition:{},visibleToasts:{},expandByDefault:{type:Boolean},closeButton:{type:Boolean},interacting:{type:Boolean},style:{},cancelButtonStyle:{},actionButtonStyle:{},duration:{},class:{},unstyled:{type:Boolean},descriptionClass:{},loadingIcon:{},classes:{},icons:{},closeButtonAriaLabel:{},defaultRichColors:{type:Boolean}},emits:["update:heights","update:height","removeToast"],setup(e,{emit:t}){const n=e,s=t,i=Q(null),o=Q(null),r=Q(!1),a=Q(!1),l=Q(!1),c=Q(!1),u=Q(!1),d=Q(0),f=Q(0),m=Q(n.toast.duration||n.duration||fh),g=Q(null),_=Q(null),y=ce(()=>n.index===0),b=ce(()=>n.index+1<=n.visibleToasts),v=ce(()=>n.toast.type),$=ce(()=>n.toast.dismissible!==!1),S=ce(()=>n.toast.class||""),E=ce(()=>n.descriptionClass||""),F=ce(()=>{const L=n.toast.position||n.position,ae=n.heights.filter(J=>J.position===L).findIndex(J=>J.toastId===n.toast.id);return ae>=0?ae:0}),P=ce(()=>{const L=n.toast.position||n.position;return n.heights.filter(ae=>ae.position===L).reduce((ae,J,me)=>me>=F.value?ae:ae+J.height,0)}),H=ce(()=>F.value*n.gap+P.value||0),z=ce(()=>n.toast.closeButton??n.closeButton),C=ce(()=>n.toast.duration||n.duration||fh),T=Q(0),O=Q(0),R=Q(null),K=ce(()=>n.position.split("-")),ee=ce(()=>K.value[0]),V=ce(()=>K.value[1]),U=ce(()=>typeof n.toast.title!="string"),A=ce(()=>typeof n.toast.description!="string"),{isDocumentHidden:D}=by(),ne=ce(()=>v.value&&v.value==="loading");Le(()=>{r.value=!0,m.value=C.value}),Un(async()=>{if(!r.value||!_.value)return;await gt();const L=_.value,fe=L.style.height;L.style.height="auto";const ae=L.getBoundingClientRect().height;L.style.height=fe,f.value=ae,s("update:height",{toastId:n.toast.id,height:ae,position:n.toast.position||n.position})});function X(){a.value=!0,d.value=H.value,setTimeout(()=>{s("removeToast",n.toast)},hh)}function te(){if(ne.value||!$.value)return{};X(),n.toast.onDismiss?.(n.toast)}function Y(L){L.button!==2&&(ne.value||!$.value||(g.value=new Date,d.value=H.value,L.target.setPointerCapture(L.pointerId),L.target.tagName!=="BUTTON"&&(l.value=!0,R.value={x:L.clientX,y:L.clientY})))}function ue(){if(c.value||!$.value)return;R.value=null;const L=Number(_.value?.style.getPropertyValue("--swipe-amount-x").replace("px","")||0),fe=Number(_.value?.style.getPropertyValue("--swipe-amount-y").replace("px","")||0),ae=new Date().getTime()-(g.value?.getTime()||0),J=i.value==="x"?L:fe,me=Math.abs(J)/ae;if(Math.abs(J)>=yy||me>.11){d.value=H.value,n.toast.onDismiss?.(n.toast),i.value==="x"?o.value=L>0?"right":"left":o.value=fe>0?"down":"up",X(),c.value=!0;return}else _.value?.style.setProperty("--swipe-amount-x","0px"),_.value?.style.setProperty("--swipe-amount-y","0px");u.value=!1,l.value=!1,i.value=null}function ve(L){if(!R.value||!$.value||(window?.getSelection()?.toString()?.length??!1))return;const ae=L.clientY-R.value.y,J=L.clientX-R.value.x,me=n.swipeDirections??wy(n.position);!i.value&&(Math.abs(J)>1||Math.abs(ae)>1)&&(i.value=Math.abs(J)>Math.abs(ae)?"x":"y");let x={x:0,y:0};const M=j=>1/(1.5+Math.abs(j)/20);if(i.value==="y"){if(me.includes("top")||me.includes("bottom"))if(me.includes("top")&&ae<0||me.includes("bottom")&&ae>0)x.y=ae;else{const j=ae*M(ae);x.y=Math.abs(j)<Math.abs(ae)?j:ae}}else if(i.value==="x"&&(me.includes("left")||me.includes("right")))if(me.includes("left")&&J<0||me.includes("right")&&J>0)x.x=J;else{const j=J*M(J);x.x=Math.abs(j)<Math.abs(J)?j:J}(Math.abs(x.x)>0||Math.abs(x.y)>0)&&(u.value=!0),_.value?.style.setProperty("--swipe-amount-x",`${x.x}px`),_.value?.style.setProperty("--swipe-amount-y",`${x.y}px`)}Le(()=>{if(r.value=!0,!_.value)return;const L=_.value.getBoundingClientRect().height;f.value=L;const fe=[{toastId:n.toast.id,height:L,position:n.toast.position},...n.heights];s("update:heights",fe)}),Ui(()=>{_.value&&s("removeToast",n.toast)}),Un(L=>{if(n.toast.promise&&v.value==="loading"||n.toast.duration===1/0||n.toast.type==="loading")return;let fe;const ae=()=>{if(O.value<T.value){const me=new Date().getTime()-T.value;m.value=m.value-me}O.value=new Date().getTime()},J=()=>{m.value!==1/0&&(T.value=new Date().getTime(),fe=setTimeout(()=>{n.toast.onAutoClose?.(n.toast),X()},m.value))};n.expanded||n.interacting||D.value?ae():J(),L(()=>{clearTimeout(fe)})}),Me(()=>n.toast.delete,L=>{L!==void 0&&L&&(X(),n.toast.onDismiss?.(n.toast))},{deep:!0});function pe(){l.value=!1,i.value=null,R.value=null}return(L,fe)=>(w(),k("li",{tabindex:"0",ref_key:"toastRef",ref:_,class:ge(h(us)(n.class,S.value,L.classes?.toast,L.toast.classes?.toast,L.classes?.[v.value],L.toast?.classes?.[v.value])),"data-sonner-toast":"","data-rich-colors":L.toast.richColors??L.defaultRichColors,"data-styled":!(L.toast.component||L.toast?.unstyled||L.unstyled),"data-mounted":r.value,"data-promise":!!L.toast.promise,"data-swiped":u.value,"data-removed":a.value,"data-visible":b.value,"data-y-position":ee.value,"data-x-position":V.value,"data-index":L.index,"data-front":y.value,"data-swiping":l.value,"data-dismissible":$.value,"data-type":v.value,"data-invert":L.toast.invert||L.invert,"data-swipe-out":c.value,"data-swipe-direction":o.value,"data-expanded":!!(L.expanded||L.expandByDefault&&r.value),"data-testid":L.toast.testId,style:st({"--index":L.index,"--toasts-before":L.index,"--z-index":L.toasts.length-L.index,"--offset":`${a.value?d.value:H.value}px`,"--initial-height":L.expandByDefault?"auto":`${f.value}px`,...L.style,...n.toast.style}),onDragend:pe,onPointerdown:Y,onPointerup:ue,onPointermove:ve},[z.value&&!L.toast.component&&v.value!=="loading"?(w(),k("button",{key:0,"aria-label":L.closeButtonAriaLabel||"Close toast","data-disabled":ne.value,"data-close-button":"true","data-close-button-position":L.closeButtonPosition,class:ge(h(us)(L.classes?.closeButton,L.toast?.classes?.closeButton)),onClick:te},[L.icons?.close?(w(),oe(rn(L.icons?.close),{key:0})):Oe(L.$slots,"close-icon",{key:1})],10,$y)):re("v-if",!0),L.toast.component?(w(),oe(rn(L.toast.component),at({key:1},L.toast.componentProps,{onCloseToast:te,isPaused:L.$props.expanded||L.$props.interacting||h(D)}),null,16,["isPaused"])):(w(),k($e,{key:2},[v.value!=="default"||L.toast.icon||L.toast.promise?(w(),k("div",{key:0,"data-icon":"",class:ge(h(us)(L.classes?.icon,L.toast?.classes?.icon))},[L.toast.icon?(w(),oe(rn(L.toast.icon),{key:0})):(w(),k($e,{key:1},[v.value==="loading"?Oe(L.$slots,"loading-icon",{key:0}):v.value==="success"?Oe(L.$slots,"success-icon",{key:1}):v.value==="error"?Oe(L.$slots,"error-icon",{key:2}):v.value==="warning"?Oe(L.$slots,"warning-icon",{key:3}):v.value==="info"?Oe(L.$slots,"info-icon",{key:4}):re("v-if",!0)],64))],2)):re("v-if",!0),p("div",{"data-content":"",class:ge(h(us)(L.classes?.content,L.toast?.classes?.content))},[p("div",{"data-title":"",class:ge(h(us)(L.classes?.title,L.toast.classes?.title))},[U.value?(w(),oe(rn(L.toast.title),bn(at({key:0},L.toast.componentProps)),null,16)):(w(),k($e,{key:1},[je(B(L.toast.title),1)],64))],2),L.toast.description?(w(),k("div",{key:0,"data-description":"",class:ge(h(us)(L.descriptionClass,E.value,L.classes?.description,L.toast.classes?.description))},[A.value?(w(),oe(rn(L.toast.description),bn(at({key:0},L.toast.componentProps)),null,16)):(w(),k($e,{key:1},[je(B(L.toast.description),1)],64))],2)):re("v-if",!0)],2),L.toast.cancel?(w(),k("button",{key:1,style:st(L.toast.cancelButtonStyle||L.cancelButtonStyle),class:ge(h(us)(L.classes?.cancelButton,L.toast.classes?.cancelButton)),"data-button":"","data-cancel":"",onClick:fe[0]||(fe[0]=ae=>{h(vr)(L.toast.cancel)&&$.value&&(L.toast.cancel.onClick?.(ae),X())})},B(h(vr)(L.toast.cancel)?L.toast.cancel?.label:L.toast.cancel),7)):re("v-if",!0),L.toast.action?(w(),k("button",{key:2,style:st(L.toast.actionButtonStyle||L.actionButtonStyle),class:ge(h(us)(L.classes?.actionButton,L.toast.classes?.actionButton)),"data-button":"","data-action":"",onClick:fe[1]||(fe[1]=ae=>{h(vr)(L.toast.action)&&(L.toast.action.onClick?.(ae),!ae.defaultPrevented&&X())})},B(h(vr)(L.toast.action)?L.toast.action?.label:L.toast.action),7)):re("v-if",!0)],64))],46,Sy))}}),Ey=Cy,no=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n};const Ay={},Ty={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stoke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function ky(e,t){return w(),k("svg",Ty,t[0]||(t[0]=[p("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),p("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}var My=no(Ay,[["render",ky]]);const Fy=["data-visible"],Ry={class:"sonner-spinner"};var Oy=xe({__name:"Loader",props:{visible:{type:Boolean}},setup(e){const t=Array(12).fill(0);return(n,s)=>(w(),k("div",{class:"sonner-loading-wrapper","data-visible":n.visible},[p("div",Ry,[(w(!0),k($e,null,Ve(h(t),i=>(w(),k("div",{key:`spinner-bar-${i}`,class:"sonner-loading-bar"}))),128))])],8,Fy))}}),Py=Oy;const Iy={},Dy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function Ly(e,t){return w(),k("svg",Dy,t[0]||(t[0]=[p("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"},null,-1)]))}var zy=no(Iy,[["render",Ly]]);const By={},Hy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function Ny(e,t){return w(),k("svg",Hy,t[0]||(t[0]=[p("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z","clip-rule":"evenodd"},null,-1)]))}var jy=no(By,[["render",Ny]]);const Uy={},Vy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"};function Wy(e,t){return w(),k("svg",Vy,t[0]||(t[0]=[p("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null,-1)]))}var qy=no(Uy,[["render",Wy]]);const Ky={},Yy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function Gy(e,t){return w(),k("svg",Yy,t[0]||(t[0]=[p("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"},null,-1)]))}var Qy=no(Ky,[["render",Gy]]);const Xy=["aria-label"],Jy=["data-sonner-theme","dir","data-theme","data-rich-colors","data-y-position","data-x-position"],Zy=typeof window<"u"&&typeof document<"u";function eb(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var tb=xe({name:"Toaster",inheritAttrs:!1,__name:"Toaster",props:{id:{},invert:{type:Boolean,default:!1},theme:{default:"light"},position:{default:"bottom-right"},closeButtonPosition:{default:"top-left"},hotkey:{default:()=>["altKey","KeyT"]},richColors:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},duration:{},gap:{default:_y},visibleToasts:{default:vy},closeButton:{type:Boolean,default:!1},toastOptions:{default:()=>({})},class:{default:""},style:{},offset:{default:uh},mobileOffset:{default:dh},dir:{default:"auto"},swipeDirections:{},icons:{},containerAriaLabel:{default:"Notifications"}},setup(e){const t=e,n=N_(),s=Q([]),i=ce(()=>t.id?s.value.filter(C=>C.toasterId===t.id):s.value.filter(C=>!C.toasterId));function o(C,T){return i.value.filter(O=>!O.position&&T===0||O.position===C)}const r=ce(()=>{const C=i.value.filter(T=>T.position).map(T=>T.position);return C.length>0?Array.from(new Set([t.position].concat(C))):[t.position]}),a=ce(()=>{const C={};return r.value.forEach(T=>{C[T]=s.value.filter(O=>O.position===T)}),C}),l=Q([]),c=Q({}),u=Q(!1);Un(()=>{r.value.forEach(C=>{C in c.value||(c.value[C]=!1)})});const d=Q(t.theme!=="system"?t.theme:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),f=Q(null),m=Q(null),g=Q(!1),_=t.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,"");function y(C){s.value.find(T=>T.id===C.id)?.delete||Mt.dismiss(C.id),s.value=s.value.filter(({id:T})=>T!==C.id),setTimeout(()=>{s.value.find(T=>T.id===C.id)||(l.value=l.value.filter(T=>T.toastId!==C.id))},hh+50)}function b(C){g.value&&!C.currentTarget?.contains?.(C.relatedTarget)&&(g.value=!1,m.value&&(m.value.focus({preventScroll:!0}),m.value=null))}function v(C){C.target instanceof HTMLElement&&C.target.dataset.dismissible==="false"||g.value||(g.value=!0,m.value=C.relatedTarget)}function $(C){C.target&&C.target instanceof HTMLElement&&C.target.dataset.dismissible==="false"||(u.value=!0)}Un(C=>{const T=Mt.subscribe(O=>{if(O.dismiss){requestAnimationFrame(()=>{s.value=s.value.map(R=>R.id===O.id?{...R,delete:!0}:R)});return}gt(()=>{const R=s.value.findIndex(K=>K.id===O.id);R!==-1?s.value=[...s.value.slice(0,R),{...s.value[R],...O},...s.value.slice(R+1)]:s.value=[O,...s.value]})});C(T)}),Un(C=>{if(typeof window>"u")return;if(t.theme!=="system"){d.value=t.theme;return}const T=window.matchMedia("(prefers-color-scheme: dark)"),O=K=>{d.value=K?"dark":"light"};O(T.matches);const R=K=>{O(K.matches)};try{T.addEventListener("change",R)}catch{T.addListener(R)}C(()=>{try{T.removeEventListener("change",R)}catch{T.removeListener(R)}})}),Un(()=>{f.value&&m.value&&(m.value.focus({preventScroll:!0}),m.value=null,g.value=!1)}),Un(()=>{s.value.length<=1&&Object.keys(c.value).forEach(C=>{c.value[C]=!1})}),Un(C=>{function T(O){const R=t.hotkey.every(V=>O[V]||O.code===V),K=Array.isArray(f.value)?f.value[0]:f.value;R&&(r.value.forEach(V=>{c.value[V]=!0}),K?.focus());const ee=document.activeElement===f.value||K?.contains(document.activeElement);O.code==="Escape"&&ee&&r.value.forEach(V=>{c.value[V]=!1})}Zy&&(document.addEventListener("keydown",T),C(()=>{document.removeEventListener("keydown",T)}))});function S(C){const T=C.currentTarget,O=T.getAttribute("data-y-position")+"-"+T.getAttribute("data-x-position");c.value[O]=!0}function E(C){if(!u.value){const T=C.currentTarget,O=T.getAttribute("data-y-position")+"-"+T.getAttribute("data-x-position");c.value[O]=!1}}function F(){Object.keys(c.value).forEach(C=>{c.value[C]=!1})}function P(){u.value=!1}function H(C){l.value=C}function z(C){const T=l.value.findIndex(O=>O.toastId===C.toastId);if(T!==-1)l.value[T]=C;else{const O=l.value.findIndex(R=>R.position===C.position);O!==-1?l.value.splice(O,0,C):l.value.unshift(C)}}return(C,T)=>(w(),k($e,null,[re(" Remove item from normal navigation flow, only available via hotkey "),p("section",{"aria-label":`${C.containerAriaLabel} ${h(_)}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},[(w(!0),k($e,null,Ve(r.value,(O,R)=>(w(),k("ol",at({key:O,ref_for:!0,ref_key:"listRef",ref:f,"data-sonner-toaster":"","data-sonner-theme":d.value,class:t.class,dir:C.dir==="auto"?eb():C.dir,tabIndex:-1,"data-theme":C.theme,"data-rich-colors":C.richColors,"data-y-position":O.split("-")[0],"data-x-position":O.split("-")[1],style:{"--front-toast-height":`${l.value[0]?.height||0}px`,"--width":`${h(gy)}px`,"--gap":`${C.gap}px`,...C.style,...h(n).style,...h(xy)(C.offset,C.mobileOffset)}},{ref_for:!0},C.$attrs,{onBlur:b,onFocus:v,onMouseenter:S,onMousemove:S,onMouseleave:E,onDragend:F,onPointerdown:$,onPointerup:P}),[(w(!0),k($e,null,Ve(o(O,R),(K,ee)=>(w(),oe(Ey,{key:K.id,heights:l.value,icons:C.icons,index:ee,toast:K,defaultRichColors:C.richColors,duration:C.toastOptions?.duration??C.duration,class:ge(C.toastOptions?.class??""),descriptionClass:C.toastOptions?.descriptionClass,invert:C.invert,visibleToasts:C.visibleToasts,closeButton:C.toastOptions?.closeButton??C.closeButton,interacting:u.value,position:O,closeButtonPosition:C.toastOptions?.closeButtonPosition??C.closeButtonPosition,style:st(C.toastOptions?.style),unstyled:C.toastOptions?.unstyled,classes:C.toastOptions?.classes,cancelButtonStyle:C.toastOptions?.cancelButtonStyle,actionButtonStyle:C.toastOptions?.actionButtonStyle,"close-button-aria-label":C.toastOptions?.closeButtonAriaLabel,toasts:a.value[O],expandByDefault:C.expand,gap:C.gap,expanded:c.value[O]||!1,swipeDirections:t.swipeDirections,"onUpdate:heights":H,"onUpdate:height":z,onRemoveToast:y},{"close-icon":be(()=>[Oe(C.$slots,"close-icon",{},()=>[se(My)])]),"loading-icon":be(()=>[Oe(C.$slots,"loading-icon",{},()=>[se(Py,{visible:K.type==="loading"},null,8,["visible"])])]),"success-icon":be(()=>[Oe(C.$slots,"success-icon",{},()=>[se(zy)])]),"error-icon":be(()=>[Oe(C.$slots,"error-icon",{},()=>[se(Qy)])]),"warning-icon":be(()=>[Oe(C.$slots,"warning-icon",{},()=>[se(qy)])]),"info-icon":be(()=>[Oe(C.$slots,"info-icon",{},()=>[se(jy)])]),_:2},1032,["heights","icons","index","toast","defaultRichColors","duration","class","descriptionClass","invert","visibleToasts","closeButton","interacting","position","closeButtonPosition","style","unstyled","classes","cancelButtonStyle","actionButtonStyle","close-button-aria-label","toasts","expandByDefault","gap","expanded","swipeDirections"]))),128))],16,Jy))),128))],8,Xy)],2112))}}),nb=tb;function Ft(e,t="An error occurred"){if(!e)return t;if(typeof e=="string")return e||t;if(e instanceof Error)return e.message||t;if(typeof e=="object"&&e!==null){const n=e;if(typeof n.message=="string"&&n.message)return n.message;if(typeof n.error=="string"&&n.error)return n.error}return t}let ln=[],ds=0;const gr=4;let _r=0;const bt=e=>{let t=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(s){return n.lc=t.push(s),()=>{for(let o=ds+gr;o<ln.length;)ln[o]===s?ln.splice(o,gr):o+=gr;let i=t.indexOf(s);~i&&(t.splice(i,1),--n.lc||n.off())}},notify(s,i){_r++;let o=!ln.length;for(let r of t)ln.push(r,n.value,s,i);if(o){for(ds=0;ds<ln.length;ds+=gr)ln[ds](ln[ds+1],ln[ds+2],ln[ds+3]);ln.length=0}},off(){},set(s){let i=n.value;i!==s&&(n.value=s,n.notify(i))},subscribe(s){let i=n.listen(s);return s(n.value),i},value:e};return n},sb=5,yr=6,br=10;let ib=(e,t,n,s)=>(e.events=e.events||{},e.events[n+br]||(e.events[n+br]=s(i=>{e.events[n].reduceRight((o,r)=>(r(o),o),{shared:{},...i})})),e.events[n]=e.events[n]||[],e.events[n].push(t),()=>{let i=e.events[n],o=i.indexOf(t);i.splice(o,1),i.length||(delete e.events[n],e.events[n+br](),delete e.events[n+br])}),ob=1e3,ph=(e,t)=>ib(e,s=>{let i=t(s);i&&e.events[yr].push(i)},sb,s=>{let i=e.listen;e.listen=(...r)=>(!e.lc&&!e.active&&(e.active=!0,s()),i(...r));let o=e.off;return e.events[yr]=[],e.off=()=>{o(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let r of e.events[yr])r();e.events[yr]=[]}},ob)},()=>{e.listen=i,e.off=o}}),rb=(e,t,n)=>{Array.isArray(e)||(e=[e]);let s,i,o=()=>{if(i===_r)return;i=_r;let c=e.map(u=>u.get());if(!s||c.some((u,d)=>u!==s[d])){s=c;let u=t(...c);u&&u.then&&u.t?u.then(d=>{s===c&&r.set(d)}):(r.set(u),i=_r)}},r=bt(void 0),a=r.get;r.get=()=>(o(),a());let l=o;return ph(r,()=>{let c=e.map(u=>u.listen(l));return o(),()=>{for(let u of c)u()}}),r};const fs=(e,t)=>rb(e,t);let mh=e=>e,ii={},Fl={addEventListener(){},removeEventListener(){}};function ab(){try{return typeof localStorage<"u"}catch{return!1}}ab()&&(ii=localStorage),typeof window<"u"&&(Fl={addEventListener(e,t,n){window.addEventListener("storage",t),window.addEventListener("pageshow",n)},removeEventListener(e,t,n){window.removeEventListener("storage",t),window.removeEventListener("pageshow",n)}});function vh(e,t=void 0,n={}){let s=n.encode||mh,i=n.decode||mh,o=bt(t),r=o.set;o.set=c=>{let u=s(c);typeof u>"u"?delete ii[e]:ii[e]=u,r(c)};function a(c){c.key===e?c.newValue===null?r(t):r(i(c.newValue)):ii[e]||r(t)}function l(){o.set(ii[e]?i(ii[e]):t)}return ph(o,()=>{if(l(),n.listen!==!1)return Fl.addEventListener(e,a,l),()=>{Fl.removeEventListener(e,a,l)}}),o}function lb(e,t){return vh(e,t,{encode:JSON.stringify,decode:JSON.parse})}const Rl=new Map;async function Ol(e,t){const n=t[e];return typeof n=="function"?(await n()).default:n}function cb(e,t,n,s){const i="vuefinder_locale",o="global";let r;if(Rl.has(o))r=Rl.get(o),t&&t!==r.get()&&r.set(t);else{const v=localStorage.getItem(i)?JSON.parse(localStorage.getItem(i)):null;r=lb(i,t||v||"en"),Rl.set(o,r)}const a="vuefinder_translations",l=v=>{try{const $=localStorage.getItem(a);if($)return JSON.parse($)[v]||null}catch{}return null},c=(v,$)=>{try{const S=localStorage.getItem(a),E=S?JSON.parse(S):{};E[v]=$,localStorage.setItem(a,JSON.stringify(E))}catch{}},u=we(r),d=String(u.value),f=l(d),m=Q(f||{});let g=!1;!f&&Object.keys(s).length>0&&Ol(d,s).then(v=>{m.value=v,c(d,v)}).catch(()=>{}),Me(u,async(v,$)=>{if($&&v===$)return;if(!g){g=!0;const E=l(String(v));if(E)m.value=E;else if(Object.keys(s).length>0)try{const F=await Ol(String(v),s);m.value=F,c(String(v),F)}catch{}return}const S=l(String(v));if(S)m.value=S;else try{const E=await Ol(String(v),s);m.value=E,c(String(v),E)}catch(E){const F=Ft(E,"Locale cannot be loaded!");Ue.error(F);return}Object.values(s).length>1&&(Ue.success("The language is set to "+v),n.emit("vf-language-saved"))},{immediate:!1});const _=(v,...$)=>$.length?_(v=v.replace("%s",String($.shift())),...$):v;function y(v,...$){return m.value&&Object.prototype.hasOwnProperty.call(m.value,v)?_(m.value[v]||v,...$):_(v,...$)}const b=ce({get:()=>u.value,set:v=>{r.set(v)}});return Ts({t:y,locale:b,localeAtom:r})}const gh={simple:{search:!0,preview:!0,rename:!0,upload:!0,delete:!0,newfile:!0,newfolder:!0,download:!0},advanced:["edit","newfile","newfolder","preview","archive","unarchive","search","rename","upload","delete","fullscreen","download","language","move","copy","history","theme","pinned"].reduce((e,t)=>(e[t]=!0,e),{})};function _h(){return gh.advanced}function yh(e){return e?e==="simple"||e==="advanced"?{...gh[e]}:{..._h(),...e}:_h()}const ub="4.0.33";function Pl(e,t,n,s,i){return t=Math,n=t.log,s=1024,i=n(e)/n(s)|0,(e/t.pow(s,i)).toFixed(0)+" "+(i?"KMGTPEZY"[--i]+"iB":"B")}function bh(e,t,n,s,i){return t=Math,n=t.log,s=1e3,i=n(e)/n(s)|0,(e/t.pow(s,i)).toFixed(0)+" "+(i?"KMGTPEZY"[--i]+"B":"B")}function db(e){if(typeof e=="number")return e;const t={k:1,m:2,g:3,t:4},s=/(\d+(?:\.\d+)?)\s?(k|m|g|t)?b?/i.exec(e);if(!s)return 0;const i=parseFloat(s[1]||"0"),o=(s[2]||"").toLowerCase(),r=t[o]??0;return Math.round(i*Math.pow(1024,r))}function fb(e){const t=qo(null),n=Q(!1),s=Q(),i=Q(!1);return{visible:n,type:t,data:s,open:(l,c=null)=>{e.get("fullScreen")||(document.querySelector("body").style.overflow="hidden"),n.value=!0,t.value=l,s.value=c},close:()=>{e.get("fullScreen")||(document.querySelector("body").style.overflow=""),n.value=!1,t.value=null},setEditMode:l=>{i.value=l},editMode:i}}const wr={view:"grid",theme:"silver",fullScreen:!1,showTreeView:!1,showHiddenFiles:!0,metricUnits:!1,showThumbnails:!0,persist:!1,path:"",pinnedFolders:[]},xr={initialPath:null,maxFileSize:null,loadingIndicator:"circular",showMenuBar:!0,showToolbar:!0,gridItemWidth:96,gridItemHeight:80,gridItemGap:8,gridIconSize:48,listItemHeight:32,listItemGap:2,listIconSize:16},hb=new Set(Object.keys(xr));function pb(e){return e||"silver"}function wh(e){return hb.has(e)}function xh(e){const t={},n={},s=e;for(const i in s)if(wh(i))n[i]=s[i];else if(i in wr){const o=i;t[o]=s[i]}return{persistenceConfig:t,nonPersistenceConfig:n}}function Sh(e,t){const n={...wr,...t,...e};return n.theme=pb(n.theme),n}function $h(e,t){return{...xr,...t,...e}}const mb=(e,t={})=>{const n=`vuefinder_config_${e}`,{persistenceConfig:s,nonPersistenceConfig:i}=xh(t),o=Sh(s,wr),r=$h(i,xr),a=vh(n,o,{encode:JSON.stringify,decode:JSON.parse}),l=bt(r),c=fs([a,l],(y,b)=>({...y,...b})),u=(y={})=>{const b=a.get(),v=l.get(),{persistenceConfig:$,nonPersistenceConfig:S}=xh(y),E=Sh($,b),F=$h(S,v);a.set(E),l.set(F)},d=y=>wh(y)?l.get()[y]:a.get()[y],f=()=>({...a.get(),...l.get()}),m=(y,b)=>{const v=a.get();typeof y=="object"&&y!==null?a.set({...v,...y}):a.set({...v,[y]:b})};return{state:c,init:u,get:d,set:m,toggle:y=>{const b=a.get();m(y,!b[y])},all:f,reset:()=>{a.set({...wr}),l.set({...xr})}}};function vb(e,t){if(typeof e=="string"&&typeof t=="string")return e.toLowerCase().localeCompare(t.toLowerCase());const n=Number(e)||0,s=Number(t)||0;return n===s?0:n<s?-1:1}const gb=()=>{const e=bt(""),t=bt([]),n=bt(!1),s=bt([]),i=bt({active:!1,column:"",order:""}),o=bt({kind:"all",showHidden:!1}),r=bt(new Set),a=bt({type:"copy",path:"",items:new Set}),l=bt(null),c=bt(0),u=bt(!1),d=bt([]),f=bt(-1),m=fs([e],I=>{const N=(I??"").trim(),W=N.indexOf("://"),q=W>=0?N.slice(0,W):"",G=(W>=0?N.slice(W+3):N).split("/").filter(Boolean);let de="";const le=G.map(he=>(de=de?`${de}/${he}`:he,{basename:he,name:he,path:q?`${q}://${de}`:de,type:"dir"}));return{storage:q,breadcrumb:le,path:N}}),g=fs([s,i,o],(I,N,W)=>{let q=I;W.kind==="files"?q=q.filter(he=>he.type==="file"):W.kind==="folders"&&(q=q.filter(he=>he.type==="dir")),W.showHidden||(q=q.filter(he=>!he.basename.startsWith(".")));const{active:ie,column:G,order:de}=N;if(!ie||!G)return q;const le=de==="asc"?1:-1;return q.slice().sort((he,_e)=>vb(he[G],_e[G])*le)}),_=fs([s,r],(I,N)=>N.size===0?[]:I.filter(W=>N.has(W.path))),y=(I,N)=>{const W=e.get();if((N??!0)&&W!==I){const q=d.get(),ie=f.get();ie<q.length-1&&q.splice(ie+1),q.length===0&&W&&q.push(W),q.push(I),d.set([...q]),f.set(q.length-1)}e.set(I)},b=I=>{s.set(I??[])},v=I=>{t.set(I??[])},$=(I,N)=>{i.set({active:!0,column:I,order:N})},S=I=>{const N=i.get();N.active&&N.column===I?i.set({active:N.order==="asc",column:I,order:"desc"}):i.set({active:!0,column:I,order:"asc"})},E=()=>{i.set({active:!1,column:"",order:""})},F=(I,N)=>{o.set({kind:I,showHidden:N})},P=()=>{o.set({kind:"all",showHidden:!1})},H=(I,N="multiple")=>{const W=new Set(r.get());N==="single"&&W.clear(),W.add(I),r.set(W)},z=(I,N="multiple")=>{const W=new Set(r.get());N==="single"&&W.clear(),I.forEach(q=>W.add(q)),r.set(W)},C=I=>{const N=new Set(r.get());N.delete(I),r.set(N)},T=I=>r.get().has(I),O=(I,N="multiple")=>{const W=new Set(r.get());W.has(I)?W.delete(I):(N==="single"&&W.clear(),W.add(I)),r.set(W)},R=(I="multiple",N)=>{if(I==="single"){const W=s.get()[0];if(W){const q=W.path;r.set(new Set([q])),c.set(1)}}else{if(N?.selectionFilterType||N?.selectionFilterMimeIncludes&&N.selectionFilterMimeIncludes.length>0){const W=s.get().filter(q=>{const ie=N.selectionFilterType,G=N.selectionFilterMimeIncludes;return ie==="files"&&q.type==="dir"||ie==="dirs"&&q.type==="file"?!1:G&&Array.isArray(G)&&G.length>0&&q.type!=="dir"?q.mime_type?G.some(de=>q.mime_type?.startsWith(de)):!1:!0}).map(q=>q.path);r.set(new Set(W))}else{const W=new Set(s.get().map(q=>q.path));r.set(W)}V(r.get().size)}},K=()=>{r.set(new Set),c.set(0)},ee=I=>{const N=new Set(I??[]);r.set(N),c.set(N.size)},V=I=>{c.set(I)},U=I=>{u.set(!!I)},A=()=>u.get(),D=(I,N)=>{const W=s.get().filter(q=>N.has(q.path));a.set({type:I,path:m.get().path,items:new Set(W)})},ne=I=>fs([a],N=>N.type==="cut"&&Array.from(N.items).some(W=>W.path===I)),X=I=>fs([a],N=>N.type==="copy"&&Array.from(N.items).some(W=>W.path===I));return{files:s,storages:t,currentPath:e,sort:i,filter:o,selectedKeys:r,selectedCount:c,loading:u,draggedItem:l,clipboardItems:a,path:m,sortedFiles:g,selectedItems:_,setPath:y,setFiles:b,setStorages:v,setSort:$,toggleSort:S,clearSort:E,setFilter:F,clearFilter:P,select:H,selectMultiple:z,deselect:C,toggleSelect:O,selectAll:R,isSelected:T,clearSelection:K,setSelection:ee,setSelectedCount:V,setLoading:U,isLoading:A,setClipboard:D,createIsCut:ne,createIsCopied:X,isCut:I=>{const N=ne(I);return we(N).value??!1},isCopied:I=>{const N=X(I);return we(N).value??!1},clearClipboard:()=>{a.set({type:"copy",path:"",items:new Set})},getClipboard:()=>a.get(),setDraggedItem:I=>{l.set(I)},getDraggedItem:()=>l.get(),clearDraggedItem:()=>{l.set(null)},setReadOnly:I=>{n.set(I)},getReadOnly:()=>n.get(),isReadOnly:I=>n.get()?!0:I.read_only??!1,goBack:()=>{const I=d.get(),N=f.get();if(N>0){const W=N-1,q=I[W];q&&(f.set(W),y(q,!1))}},goForward:()=>{const I=d.get(),N=f.get();if(N<I.length-1){const W=N+1,q=I[W];q&&(f.set(W),y(q,!1))}},canGoBack:fs([f],I=>I>0),canGoForward:fs([d,f],(I,N)=>N<I.length-1),navigationHistory:d,historyIndex:f}};function Ch(e){const t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}const Eh={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Ah(e){if(e.type)return e.type;const t=e.name?Ch(e.name).extension?.toLowerCase():null;return t&&t in Eh?Eh[t]:"application/octet-stream"}function _b(e){return e.charCodeAt(0).toString(32)}function Th(e){let t="";return e.replace(/[^A-Z0-9]/gi,n=>(t+=`-${_b(n)}`,"/"))+t}function yb(e,t){let n=t||"uppy";return typeof e.name=="string"&&(n+=`-${Th(e.name.toLowerCase())}`),e.type!==void 0&&(n+=`-${e.type}`),e.meta&&typeof e.meta.relativePath=="string"&&(n+=`-${Th(e.meta.relativePath.toLowerCase())}`),e.data?.size!==void 0&&(n+=`-${e.data.size}`),e.data.lastModified!==void 0&&(n+=`-${e.data.lastModified}`),n}function bb(e){return!e.isRemote||!e.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}function wb(e,t){if(bb(e))return e.id;const n=Ah(e);return yb({...e,type:n},t)}function Il(e){return e<10?`0${e}`:e.toString()}function Sr(){const e=new Date,t=Il(e.getHours()),n=Il(e.getMinutes()),s=Il(e.getSeconds());return`${t}:${n}:${s}`}function xb(e,t,n){const s=[];return e.forEach(i=>typeof i!="string"?s.push(i):t[Symbol.split](i).forEach((o,r,a)=>{o!==""&&s.push(o),r<a.length-1&&s.push(n)})),s}function kh(e,t){const n=/\$/g,s="$$$$";let i=[e];if(t==null)return i;for(const o of Object.keys(t))if(o!=="_"){let r=t[o];typeof r=="string"&&(r=n[Symbol.replace](r,s)),i=xb(i,new RegExp(`%\\{${o}\\}`,"g"),r)}return i}const Sb=e=>{throw new Error(`missing string: ${e}`)};class $b{locale;constructor(t,{onMissingKey:n=Sb}={}){this.locale={strings:{},pluralize(s){return s===1?0:1}},Array.isArray(t)?t.forEach(this.#t,this):this.#t(t),this.#e=n}#e;#t(t){if(!t?.strings)return;const n=this.locale;Object.assign(this.locale,{strings:{...n.strings,...t.strings},pluralize:t.pluralize||n.pluralize})}translate(t,n){return this.translateArray(t,n).join("")}translateArray(t,n){let s=this.locale.strings[t];if(s==null&&(this.#e(t),s=t),typeof s=="object"){if(n&&typeof n.smart_count<"u"){const o=this.locale.pluralize(n.smart_count);return kh(s[o],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof s!="string")throw new Error("string was not a string");return kh(s,n)}}const Cb={debug:()=>{},warn:()=>{},error:(...e)=>console.error(`[Uppy] [${Sr()}]`,...e)},Eb={debug:(...e)=>console.debug(`[Uppy] [${Sr()}]`,...e),warn:(...e)=>console.warn(`[Uppy] [${Sr()}]`,...e),error:(...e)=>console.error(`[Uppy] [${Sr()}]`,...e)};var $r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dl,Mh;function Ab(){return Mh||(Mh=1,Dl=function(t){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected a number, got ${typeof t}`);const n=t<0;let s=Math.abs(t);if(n&&(s=-s),s===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.min(Math.floor(Math.log(s)/Math.log(1024)),i.length-1),r=Number(s/1024**o),a=i[o];return`${r>=10||r%1===0?Math.round(r):r.toFixed(1)} ${a}`}),Dl}var Tb=Ab();const Er=Cr(Tb);var Ll,Fh;function kb(){if(Fh)return Ll;Fh=1;function e(t,n){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=n,this.parts=t.split(n)}return e.prototype.match=function(t){var n=!0,s=this.parts,i,o=s.length,r;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)n=!1;else{for(r=(t||"").split(this.separator),i=0;n&&i<o;i++)s[i]!=="*"&&(i<r.length?n=s[i]===r[i]:n=!1);n=n&&r}else if(typeof t.splice=="function")for(n=[],i=t.length;i--;)this.match(t[i])&&(n[n.length]=t[i]);else if(typeof t=="object"){n={};for(var a in t)this.match(a)&&(n[a]=t[a])}return n},Ll=function(t,n,s){var i=new e(t,s||/[\/\.]/);return typeof n<"u"?i.match(n):i},Ll}var zl,Rh;function Mb(){if(Rh)return zl;Rh=1;var e=kb(),t=/[\/\+\.]/;return zl=function(n,s){function i(o){var r=e(o,n,t);return r&&r.length>=2}return s?i(s.split(";")[0]):i},zl}var Fb=Mb();const Rb=Cr(Fb),Ob={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class cn extends Error{isUserFacing;file;constructor(t,n){super(t),this.isUserFacing=n?.isUserFacing??!0,n?.file&&(this.file=n.file)}isRestriction=!0}class Pb{getI18n;getOpts;constructor(t,n){this.getI18n=n,this.getOpts=()=>{const s=t();if(s.restrictions?.allowedFileTypes!=null&&!Array.isArray(s.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return s}}validateAggregateRestrictions(t,n){const{maxTotalFileSize:s,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&t.filter(r=>!r.isGhost).length+n.length>i)throw new cn(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(s){const o=[...t,...n].reduce((r,a)=>r+(a.size??0),0);if(o>s)throw new cn(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Er(s),size:Er(o)}))}}validateSingleFile(t){const{maxFileSize:n,minFileSize:s,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(r=>r.includes("/")?t.type?Rb(t.type.replace(/;.*?$/,""),r):!1:r[0]==="."&&t.extension?t.extension.toLowerCase()===r.slice(1).toLowerCase():!1)){const r=i.join(", ");throw new cn(this.getI18n()("youCanOnlyUploadFileTypes",{types:r}),{file:t})}if(n&&t.size!=null&&t.size>n)throw new cn(this.getI18n()("exceedsSize",{size:Er(n),file:t.name??this.getI18n()("unnamed")}),{file:t});if(s&&t.size!=null&&t.size<s)throw new cn(this.getI18n()("inferiorSize",{size:Er(s)}),{file:t})}validate(t,n){n.forEach(s=>{this.validateSingleFile(s)}),this.validateAggregateRestrictions(t,n)}validateMinNumberOfFiles(t){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(n&&Object.keys(t).length<n)throw new cn(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(t){const n=new cn(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:t.name??this.getI18n()("unnamed")})),{requiredMetaFields:s}=this.getOpts().restrictions,i=[];for(const o of s)(!Object.hasOwn(t.meta,o)||t.meta[o]==="")&&i.push(o);return{missingFields:i,error:n}}}const Ib={version:"5.0.0"};class Db{static VERSION=Ib.version;state={};#e=new Set;getState(){return this.state}setState(t){const n={...this.state},s={...this.state,...t};this.state=s,this.#t(n,s,t)}subscribe(t){return this.#e.add(t),()=>{this.#e.delete(t)}}#t(...t){this.#e.forEach(n=>{n(...t)})}}var Bl,Oh;function Hl(){if(Oh)return Bl;Oh=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Bl=e,Bl}var Nl,Ph;function Lb(){if(Ph)return Nl;Ph=1;var e=typeof $r=="object"&&$r&&$r.Object===Object&&$r;return Nl=e,Nl}var jl,Ih;function Dh(){if(Ih)return jl;Ih=1;var e=Lb(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return jl=n,jl}var Ul,Lh;function zb(){if(Lh)return Ul;Lh=1;var e=Dh(),t=function(){return e.Date.now()};return Ul=t,Ul}var Vl,zh;function Bb(){if(zh)return Vl;zh=1;var e=/\s/;function t(n){for(var s=n.length;s--&&e.test(n.charAt(s)););return s}return Vl=t,Vl}var Wl,Bh;function Hb(){if(Bh)return Wl;Bh=1;var e=Bb(),t=/^\s+/;function n(s){return s&&s.slice(0,e(s)+1).replace(t,"")}return Wl=n,Wl}var ql,Hh;function Nh(){if(Hh)return ql;Hh=1;var e=Dh(),t=e.Symbol;return ql=t,ql}var Kl,jh;function Nb(){if(jh)return Kl;jh=1;var e=Nh(),t=Object.prototype,n=t.hasOwnProperty,s=t.toString,i=e?e.toStringTag:void 0;function o(r){var a=n.call(r,i),l=r[i];try{r[i]=void 0;var c=!0}catch{}var u=s.call(r);return c&&(a?r[i]=l:delete r[i]),u}return Kl=o,Kl}var Yl,Uh;function jb(){if(Uh)return Yl;Uh=1;var e=Object.prototype,t=e.toString;function n(s){return t.call(s)}return Yl=n,Yl}var Gl,Vh;function Ub(){if(Vh)return Gl;Vh=1;var e=Nh(),t=Nb(),n=jb(),s="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function r(a){return a==null?a===void 0?i:s:o&&o in Object(a)?t(a):n(a)}return Gl=r,Gl}var Ql,Wh;function Vb(){if(Wh)return Ql;Wh=1;function e(t){return t!=null&&typeof t=="object"}return Ql=e,Ql}var Xl,qh;function Wb(){if(qh)return Xl;qh=1;var e=Ub(),t=Vb(),n="[object Symbol]";function s(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Xl=s,Xl}var Jl,Kh;function qb(){if(Kh)return Jl;Kh=1;var e=Hb(),t=Hl(),n=Wb(),s=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,r=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return s;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=o.test(c);return d||r.test(c)?a(c.slice(2),d?2:8):i.test(c)?s:+c}return Jl=l,Jl}var Zl,Yh;function Kb(){if(Yh)return Zl;Yh=1;var e=Hl(),t=zb(),n=qb(),s="Expected a function",i=Math.max,o=Math.min;function r(a,l,c){var u,d,f,m,g,_,y=0,b=!1,v=!1,$=!0;if(typeof a!="function")throw new TypeError(s);l=n(l)||0,e(c)&&(b=!!c.leading,v="maxWait"in c,f=v?i(n(c.maxWait)||0,l):f,$="trailing"in c?!!c.trailing:$);function S(R){var K=u,ee=d;return u=d=void 0,y=R,m=a.apply(ee,K),m}function E(R){return y=R,g=setTimeout(H,l),b?S(R):m}function F(R){var K=R-_,ee=R-y,V=l-K;return v?o(V,f-ee):V}function P(R){var K=R-_,ee=R-y;return _===void 0||K>=l||K<0||v&&ee>=f}function H(){var R=t();if(P(R))return z(R);g=setTimeout(H,F(R))}function z(R){return g=void 0,$&&u?S(R):(u=d=void 0,m)}function C(){g!==void 0&&clearTimeout(g),y=0,u=_=d=g=void 0}function T(){return g===void 0?m:z(t())}function O(){var R=t(),K=P(R);if(u=arguments,d=this,_=R,K){if(g===void 0)return E(_);if(v)return clearTimeout(g),g=setTimeout(H,l),S(_)}return g===void 0&&(g=setTimeout(H,l)),m}return O.cancel=C,O.flush=T,O}return Zl=r,Zl}var ec,Gh;function Yb(){if(Gh)return ec;Gh=1;var e=Kb(),t=Hl(),n="Expected a function";function s(i,o,r){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return t(r)&&(a="leading"in r?!!r.leading:a,l="trailing"in r?!!r.trailing:l),e(i,o,{leading:a,maxWait:o,trailing:l})}return ec=s,ec}var Gb=Yb();const Qb=Cr(Gb);var tc,Qh;function Xb(){return Qh||(Qh=1,tc=function(){var t={},n=t._fns={};t.emit=function(r,a,l,c,u,d,f){var m=s(r);m.length&&i(r,m,[a,l,c,u,d,f])},t.on=function(r,a){n[r]||(n[r]=[]),n[r].push(a)},t.once=function(r,a){function l(){a.apply(this,arguments),t.off(r,l)}this.on(r,l)},t.off=function(r,a){var l=[];if(r&&a){var c=this._fns[r],u=0,d=c?c.length:0;for(u;u<d;u++)c[u]!==a&&l.push(c[u])}l.length?this._fns[r]=l:delete this._fns[r]};function s(o){var r=n[o]?n[o]:[],a=o.indexOf(":"),l=a===-1?[o]:[o.substring(0,a),o.substring(a+1)],c=Object.keys(n),u=0,d=c.length;for(u;u<d;u++){var f=c[u];if(f==="*"&&(r=r.concat(n[f])),l.length===2&&l[0]===f){r=r.concat(n[f]);break}}return r}function i(o,r,a){var l=0,c=r.length;for(l;l<c&&r[l];l++)r[l].event=o,r[l].apply(r[l],a)}return t}),tc}var Jb=Xb();const Zb=Cr(Jb);let ew="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",tw=(e=21)=>{let t="",n=e|0;for(;n--;)t+=ew[Math.random()*64|0];return t};const nw={version:"5.2.0"};function sw(e,t){return t.name?t.name:e.split("/")[0]==="image"?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}const iw={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function ow(e){if(e==null&&typeof navigator<"u"&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const s=t[1].split(".",2),i=parseInt(s[0],10),o=parseInt(s[1],10);return i<15||i===15&&o<15063||i>18||i===18&&o>=18218}const Ar={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};class nc{static VERSION=nw.version;#e=Object.create(null);#t;#n;#o=Zb();#s=new Set;#a=new Set;#r=new Set;defaultLocale;locale;opts;store;i18n;i18nArray;scheduledAutoProceed=null;wasOffline=!1;constructor(t){this.defaultLocale=iw;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Ob,meta:{},onBeforeFileAdded:(i,o)=>!Object.hasOwn(o,i.id),onBeforeUpload:i=>i,store:new Db,logger:Cb,infoTimeout:5e3},s={...n,...t};this.opts={...s,restrictions:{...n.restrictions,...t?.restrictions}},t?.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t?.debug&&(this.opts.logger=Eb),this.log(`Using Core v${nc.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Ar,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:ow(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),this.#t=new Pb(()=>this.opts,()=>this.i18n),this.#n=this.store.subscribe((i,o,r)=>{this.emit("state-update",i,o,r),this.updateAll(o)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),this.#C()}emit(t,...n){this.#o.emit(t,...n)}on(t,n){return this.#o.on(t,n),this}once(t,n){return this.#o.once(t,n),this}off(t,n){return this.#o.off(t,n),this}updateAll(t){this.iteratePlugins(n=>{n.update(t)})}setState(t){this.store.setState(t)}getState(){return this.store.getState()}patchFilesState(t){const n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(t).map(([s,i])=>[s,{...n[s],...i}]))}})}setFileState(t,n){if(!this.getState().files[t])throw new Error(`Cant set state for ${t} (the file could have been removed)`);this.patchFilesState({[t]:n})}i18nInit(){const t=s=>this.log(`Missing i18n string: ${s}`,"error"),n=new $b([this.defaultLocale,this.opts.locale],{onMissingKey:t});this.i18n=n.translate.bind(n),this.i18nArray=n.translateArray.bind(n),this.locale=n.locale}setOptions(t){this.opts={...this.opts,...t,restrictions:{...this.opts.restrictions,...t?.restrictions}},t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(n=>{n.setOptions(t)}),this.setState(void 0)}resetProgress(){const t={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},s=Object.create(null);Object.keys(n).forEach(i=>{s[i]={...n[i],progress:{...n[i].progress,...t},tus:void 0,transloadit:void 0}}),this.setState({files:s,...Ar})}clear(){const{capabilities:t,currentUploads:n}=this.getState();if(Object.keys(n).length>0&&!t.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Ar,files:{}})}addPreProcessor(t){this.#s.add(t)}removePreProcessor(t){return this.#s.delete(t)}addPostProcessor(t){this.#r.add(t)}removePostProcessor(t){return this.#r.delete(t)}addUploader(t){this.#a.add(t)}removeUploader(t){return this.#a.delete(t)}setMeta(t){const n={...this.getState().meta,...t},s={...this.getState().files};Object.keys(s).forEach(i=>{s[i]={...s[i],meta:{...s[i].meta,...t}}}),this.log("Adding metadata:"),this.log(t),this.setState({meta:n,files:s})}setFileMeta(t,n){const s={...this.getState().files};if(!s[t]){this.log(`Was trying to set metadata for a file that has been removed: ${t}`);return}const i={...s[t].meta,...n};s[t]={...s[t],meta:i},this.setState({files:s})}getFile(t){return this.getState().files[t]}getFiles(){const{files:t}=this.getState();return Object.values(t)}getFilesByIds(t){return t.map(n=>this.getFile(n))}getObjectOfFilesPerState(){const{files:t,totalProgress:n,error:s}=this.getState(),i=Object.values(t),o=[],r=[],a=[],l=[],c=[],u=[],d=[],f=[],m=[];for(const g of i){const{progress:_}=g;!_.uploadComplete&&_.uploadStarted&&(o.push(g),g.isPaused||f.push(g)),_.uploadStarted||r.push(g),(_.uploadStarted||_.preprocess||_.postprocess)&&a.push(g),_.uploadStarted&&l.push(g),g.isPaused&&c.push(g),_.uploadComplete&&u.push(g),g.error&&d.push(g),(_.preprocess||_.postprocess)&&m.push(g)}return{newFiles:r,startedFiles:a,uploadStartedFiles:l,pausedFiles:c,completeFiles:u,erroredFiles:d,inProgressFiles:o,inProgressNotPausedFiles:f,processingFiles:m,isUploadStarted:l.length>0,isAllComplete:n===100&&u.length===i.length&&m.length===0,isAllErrored:!!s&&d.length===i.length,isAllPaused:o.length!==0&&c.length===o.length,isUploadInProgress:o.length>0,isSomeGhost:i.some(g=>g.isGhost)}}#i(t){for(const r of t)r.isRestriction?this.emit("restriction-failed",r.file,r):this.emit("error",r,r.file),this.log(r,"warning");const n=t.filter(r=>r.isUserFacing),s=4,i=n.slice(0,s),o=n.slice(s);i.forEach(({message:r,details:a=""})=>{this.info({message:r,details:a},"error",this.opts.infoTimeout)}),o.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:o.length})})}validateRestrictions(t,n=this.getFiles()){try{this.#t.validate(n,[t])}catch(s){return s}return null}validateSingleFile(t){try{this.#t.validateSingleFile(t)}catch(n){return n.message}return null}validateAggregateRestrictions(t){const n=this.getFiles();try{this.#t.validateAggregateRestrictions(n,t)}catch(s){return s.message}return null}#f(t){const{missingFields:n,error:s}=this.#t.getMissingRequiredMetaFields(t);return n.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:n,error:s.message}),this.log(s.message),this.emit("restriction-failed",t,s),!1):(n.length===0&&t.missingRequiredMetaFields&&this.setFileState(t.id,{missingRequiredMetaFields:[]}),!0)}#b(t){let n=!0;for(const s of Object.values(t))this.#f(s)||(n=!1);return n}#w(t){const{allowNewUpload:n}=this.getState();if(n===!1){const s=new cn(this.i18n("noMoreFilesAllowed"),{file:t});throw this.#i([s]),s}}checkIfFileAlreadyExists(t){const{files:n}=this.getState();return!!(n[t]&&!n[t].isGhost)}#x(t){const n=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t,meta:{},isRemote:!1,source:void 0,preview:void 0}:t,s=Ah(n),i=sw(s,n),o=Ch(i).extension,r=wb(n,this.getID()),a={...n.meta,name:i,type:s},l=Number.isFinite(n.data.size)?n.data.size:null;return{source:n.source||"",id:r,name:i,extension:o||"",meta:{...this.getState().meta,...a},type:s,progress:{percentage:0,bytesUploaded:!1,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isGhost:!1,...n.isRemote?{isRemote:!0,remote:n.remote,data:n.data}:{isRemote:!1,data:n.data},preview:n.preview}}#h(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))}#p(t){let{files:n}=this.getState(),s={...n};const i=[],o=[];for(const r of t)try{let a=this.#x(r);this.#w(a);const l=n[a.id],c=l?.isGhost;if(c&&!a.isRemote){if(a.data==null)throw new Error("File data is missing");a={...l,isGhost:!1,data:a.data},this.log(`Replaced the blob in the restored ghost file: ${a.name}, ${a.id}`)}const u=this.opts.onBeforeFileAdded(a,s);if(n=this.getState().files,s={...n,...s},!u&&this.checkIfFileAlreadyExists(a.id))throw new cn(this.i18n("noDuplicates",{fileName:a.name??this.i18n("unnamed")}),{file:a});if(u===!1&&!c)throw new cn("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:a});typeof u=="object"&&u!==null&&(a=u),this.#t.validateSingleFile(a),s[a.id]=a,i.push(a)}catch(a){o.push(a)}try{this.#t.validateAggregateRestrictions(Object.values(n),i)}catch(r){return o.push(r),{nextFilesState:n,validFilesToAdd:[],errors:o}}return{nextFilesState:s,validFilesToAdd:i,errors:o}}addFile(t){const{nextFilesState:n,validFilesToAdd:s,errors:i}=this.#p([t]),o=i.filter(a=>a.isRestriction);if(this.#i(o),i.length>0)throw i[0];this.setState({files:n});const[r]=s;return this.emit("file-added",r),this.emit("files-added",s),this.log(`Added file: ${r.name}, ${r.id}, mime type: ${r.type}`),this.#h(),r.id}addFiles(t){const{nextFilesState:n,validFilesToAdd:s,errors:i}=this.#p(t),o=i.filter(a=>a.isRestriction);this.#i(o);const r=i.filter(a=>!a.isRestriction);if(r.length>0){let a=`Multiple errors occurred while adding files:
`;if(r.forEach(l=>{a+=`
 * ${l.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:r.length}),details:a},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(r,a);{const l=new Error(a);throw l.errors=r,l}}this.setState({files:n}),s.forEach(a=>{this.emit("file-added",a)}),this.emit("files-added",s),s.length>5?this.log(`Added batch of ${s.length} files`):Object.values(s).forEach(a=>{this.log(`Added file: ${a.name}
 id: ${a.id}
 type: ${a.type}`)}),s.length>0&&this.#h()}removeFiles(t){const{files:n,currentUploads:s}=this.getState(),i={...n},o={...s},r=Object.create(null);t.forEach(u=>{n[u]&&(r[u]=n[u],delete i[u])});function a(u){return r[u]===void 0}Object.keys(o).forEach(u=>{const d=s[u].fileIDs.filter(a);if(d.length===0){delete o[u];return}const{capabilities:f}=this.getState();if(d.length!==s[u].fileIDs.length&&!f.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");o[u]={...s[u],fileIDs:d}});const l={currentUploads:o,files:i};Object.keys(i).length===0&&(l.allowNewUpload=!0,l.error=null,l.recoveredState=null),this.setState(l),this.#c();const c=Object.keys(r);c.forEach(u=>{this.emit("file-removed",r[u])}),c.length>5?this.log(`Removed ${c.length} files`):this.log(`Removed files: ${c.join(", ")}`)}removeFile(t){this.removeFiles([t])}pauseResume(t){if(!this.getState().capabilities.resumableUploads||this.getFile(t).progress.uploadComplete)return;const n=this.getFile(t),i=!(n.isPaused||!1);return this.setFileState(t,{isPaused:i}),this.emit("upload-pause",n,i),i}pauseAll(){const t={...this.getState().files};Object.keys(t).filter(s=>!t[s].progress.uploadComplete&&t[s].progress.uploadStarted).forEach(s=>{const i={...t[s],isPaused:!0};t[s]=i}),this.setState({files:t}),this.emit("pause-all")}resumeAll(){const t={...this.getState().files};Object.keys(t).filter(s=>!t[s].progress.uploadComplete&&t[s].progress.uploadStarted).forEach(s=>{const i={...t[s],isPaused:!1,error:null};t[s]=i}),this.setState({files:t}),this.emit("resume-all")}#m(){const{files:t}=this.getState();return Object.keys(t).filter(n=>{const s=t[n];return s.error&&(!s.missingRequiredMetaFields||s.missingRequiredMetaFields.length===0)})}async#v(){const t=this.#m(),n={...this.getState().files};if(t.forEach(i=>{n[i]={...n[i],isPaused:!1,error:null}}),this.setState({files:n,error:null}),this.emit("retry-all",this.getFilesByIds(t)),t.length===0)return{successful:[],failed:[]};const s=this.#u(t,{forceAllowNewUpload:!0});return this.#d(s)}async retryAll(){const t=await this.#v();return this.emit("complete",t),t}cancelAll(){this.emit("cancel-all");const{files:t}=this.getState(),n=Object.keys(t);n.length&&this.removeFiles(n),this.setState(Ar)}retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(t));const n=this.#u([t],{forceAllowNewUpload:!0});return this.#d(n)}logout(){this.iteratePlugins(t=>{t.provider?.logout?.()})}#S=(t,n)=>{const s=t?this.getFile(t.id):void 0;if(t==null||!s){this.log(`Not setting progress for a file that has been removed: ${t?.id}`);return}if(s.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${t.id}`);return}const i={bytesTotal:n.bytesTotal,percentage:n.bytesTotal!=null&&Number.isFinite(n.bytesTotal)&&n.bytesTotal>0?Math.round(n.bytesUploaded/n.bytesTotal*100):void 0};s.progress.uploadStarted!=null?this.setFileState(t.id,{progress:{...s.progress,...i,bytesUploaded:n.bytesUploaded}}):this.setFileState(t.id,{progress:{...s.progress,...i}}),this.#c()};#g(){const t=this.#$();let n=null;t!=null&&(n=Math.round(t*100),n>100?n=100:n<0&&(n=0)),this.emit("progress",n??0),this.setState({totalProgress:n??0})}#c=Qb(()=>this.#g(),500,{leading:!0,trailing:!0});[Symbol.for("uppy test: updateTotalProgress")](){return this.#g()}#$(){const n=this.getFiles().filter(l=>l.progress.uploadStarted||l.progress.preprocess||l.progress.postprocess);if(n.length===0)return 0;if(n.every(l=>l.progress.uploadComplete))return 1;const s=l=>l.progress.bytesTotal!=null&&l.progress.bytesTotal!==0,i=n.filter(s),o=n.filter(l=>!s(l));if(i.every(l=>l.progress.uploadComplete)&&o.length>0&&!o.every(l=>l.progress.uploadComplete))return null;const r=i.reduce((l,c)=>l+(c.progress.bytesTotal??0),0),a=i.reduce((l,c)=>l+(c.progress.bytesUploaded||0),0);return r===0?0:a/r}#C(){const t=(i,o,r)=>{let a=i.message||"Unknown error";i.details&&(a+=` ${i.details}`),this.setState({error:a}),o!=null&&o.id in this.getState().files&&this.setFileState(o.id,{error:a,response:r})};this.on("error",t),this.on("upload-error",(i,o,r)=>{if(t(o,i,r),typeof o=="object"&&o.message){this.log(o.message,"error");const a=new Error(this.i18n("failedToUpload",{file:i?.name??""}));a.isUserFacing=!0,a.details=o.message,o.details&&(a.details+=` ${o.details}`),this.#i([a])}else this.#i([o])});let n=null;this.on("upload-stalled",(i,o)=>{const{message:r}=i,a=o.map(l=>l.meta.name).join(", ");n||(this.info({message:r,details:a},"warning",this.opts.infoTimeout),n=setTimeout(()=>{n=null},this.opts.infoTimeout)),this.log(`${r} ${a}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const s=i=>{const o=i.filter(a=>{const l=a!=null&&this.getFile(a.id);return l||this.log(`Not setting progress for a file that has been removed: ${a?.id}`),l}),r=Object.fromEntries(o.map(a=>[a.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:a.size}}]));this.patchFilesState(r)};this.on("upload-start",s),this.on("upload-progress",this.#S),this.on("upload-success",(i,o)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}const r=this.getFile(i.id).progress,a=this.#r.size>0;this.setFileState(i.id,{progress:{...r,postprocess:a?{mode:"indeterminate"}:void 0,uploadComplete:!0,...!a&&{complete:!0},percentage:100,bytesUploaded:r.bytesTotal},response:o,uploadURL:o.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:o.bytesUploaded||r.bytesTotal}),this.#c()}),this.on("preprocess-progress",(i,o)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:o}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}const o={...this.getState().files};o[i.id]={...o[i.id],progress:{...o[i.id].progress}},delete o[i.id].progress.preprocess,this.setState({files:o})}),this.on("postprocess-progress",(i,o)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:o}})}),this.on("postprocess-complete",i=>{const o=i&&this.getFile(i.id);if(o==null){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}const{postprocess:r,...a}=o.progress;this.patchFilesState({[o.id]:{progress:{...a,complete:!0}}})}),this.on("restored",()=>{this.#c()}),this.on("dashboard:file-edit-complete",i=>{i&&this.#f(i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",this.#l),window.addEventListener("offline",this.#l),setTimeout(this.#l,3e3))}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}#l=this.updateOnlineStatus.bind(this);getID(){return this.opts.id}use(t,...n){if(typeof t!="function"){const r=`Expected a plugin class, but got ${t===null?"null":typeof t}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(r)}const s=new t(this,...n),i=s.id;if(!i)throw new Error("Your plugin must have an id");if(!s.type)throw new Error("Your plugin must have a type");const o=this.getPlugin(i);if(o){const r=`Already found a plugin named '${o.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(r)}return t.VERSION&&this.log(`Using ${i} v${t.VERSION}`),s.type in this.#e?this.#e[s.type].push(s):this.#e[s.type]=[s],s.install(),this.emit("plugin-added",s),this}getPlugin(t){for(const n of Object.values(this.#e)){const s=n.find(i=>i.id===t);if(s!=null)return s}}[Symbol.for("uppy test: getPlugins")](t){return this.#e[t]}iteratePlugins(t){Object.values(this.#e).flat(1).forEach(t)}removePlugin(t){this.log(`Removing plugin ${t.id}`),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();const n=this.#e[t.type],s=n.findIndex(r=>r.id===t.id);s!==-1&&n.splice(s,1);const o={plugins:{...this.getState().plugins,[t.id]:void 0}};this.setState(o)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),this.#n(),this.iteratePlugins(t=>{this.removePlugin(t)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",this.#l),window.removeEventListener("offline",this.#l))}hideInfo(){const{info:t}=this.getState();this.setState({info:t.slice(1)}),this.emit("info-hidden")}info(t,n="info",s=3e3){const i=typeof t=="object";this.setState({info:[...this.getState().info,{type:n,message:i?t.message:t,details:i?t.details:null}]}),setTimeout(()=>this.hideInfo(),s),this.emit("info-visible")}log(t,n){const{logger:s}=this.opts;switch(n){case"error":s.error(t);break;case"warning":s.warn(t);break;default:s.debug(t);break}}#_=new Map;registerRequestClient(t,n){this.#_.set(t,n)}getRequestClientForFile(t){if(!("remote"in t&&t.remote))throw new Error(`Tried to get RequestClient for a non-remote file ${t.id}`);const n=this.#_.get(t.remote.requestClientId);if(n==null)throw new Error(`requestClientId "${t.remote.requestClientId}" not registered for file "${t.id}"`);return n}async restore(t){this.log(`Core: Running restored upload "${t}"`);const n=await this.#d(t);return this.emit("complete",n),n}#u(t,n={}){const{forceAllowNewUpload:s=!1}=n,{allowNewUpload:i,currentUploads:o}=this.getState();if(!i&&!s)throw new Error("Cannot create a new upload: already uploading.");const r=tw();return this.emit("upload",r,this.getFilesByIds(t)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...o,[r]:{fileIDs:t,step:0,result:{}}}}),r}[Symbol.for("uppy test: createUpload")](...t){return this.#u(...t)}#E(t){const{currentUploads:n}=this.getState();return n[t]}addResultData(t,n){if(!this.#E(t)){this.log(`Not setting result for an upload that has been removed: ${t}`);return}const{currentUploads:s}=this.getState(),i={...s[t],result:{...s[t].result,...n}};this.setState({currentUploads:{...s,[t]:i}})}#y(t){const{[t]:n,...s}=this.getState().currentUploads;this.setState({currentUploads:s})}async#d(t){const n=()=>{const{currentUploads:r}=this.getState();return r[t]};let s=n();if(!s)throw new Error("Nonexistent upload");const i=[...this.#s,...this.#a,...this.#r];try{for(let r=s.step||0;r<i.length;r++){const a=i[r];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...s,step:r}}});const{fileIDs:l}=s;if(await a(l,t),s=n(),!s)break}}catch(r){throw this.#y(t),r}if(s){s.fileIDs.forEach(c=>{const u=this.getFile(c);u?.progress.postprocess&&this.emit("postprocess-complete",u)});const r=s.fileIDs.map(c=>this.getFile(c)),a=r.filter(c=>!c.error),l=r.filter(c=>c.error);this.addResultData(t,{successful:a,failed:l,uploadID:t}),s=n()}let o;return s&&(o=s.result,this.#y(t)),o==null&&(this.log(`Not setting result for an upload that has been removed: ${t}`),o={successful:[],failed:[],uploadID:t}),o}async upload(){this.#e.uploader?.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();if(this.#m().length>0){const i=await this.#v();if(!(this.getFiles().filter(r=>r.progress.uploadStarted==null).length>0))return this.emit("complete",i),i;({files:t}=this.getState())}const s=this.opts.onBeforeUpload(t);if(s===!1)throw new Error("Not starting the upload because onBeforeUpload returned false");s&&typeof s=="object"&&(t=s,this.setState({files:t}));try{if(this.#t.validateMinNumberOfFiles(t),!this.#b(t))throw new cn(this.i18n("missingRequiredMetaField"));const{currentUploads:i}=this.getState(),o=Object.values(i).flatMap(c=>c.fileIDs),r=Object.keys(t).filter(c=>{const u=this.getFile(c);return u&&!u.progress.uploadStarted&&!o.includes(c)}),a=this.#u(r),l=await this.#d(a);return this.emit("complete",l),l}catch(i){throw this.#i([i]),i}}}var Tr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rw={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},aw=class{#e=rw;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},sc=new aw;function lw(e){setTimeout(e,0)}var kr=typeof window>"u"||"Deno"in globalThis;function un(){}function cw(e,t){return typeof e=="function"?e(t):e}function uw(e){return typeof e=="number"&&e>=0&&e!==1/0}function dw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ic(e,t){return typeof e=="function"?e(t):e}function fw(e,t){return typeof e=="function"?e(t):e}function Xh(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:o,queryKey:r,stale:a}=e;if(r){if(s){if(t.queryHash!==oc(r,t.options))return!1}else if(!io(t.queryKey,r))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function Jh(e,t){const{exact:n,status:s,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(so(t.options.mutationKey)!==so(o))return!1}else if(!io(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function oc(e,t){return(t?.queryKeyHashFn||so)(e)}function so(e){return JSON.stringify(e,(t,n)=>rc(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function io(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>io(e[n],t[n])):!1}var hw=Object.prototype.hasOwnProperty;function Zh(e,t){if(e===t)return e;const n=ep(e)&&ep(t);if(!n&&!(rc(e)&&rc(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),r=o.length,a=n?new Array(r):{};let l=0;for(let c=0;c<r;c++){const u=n?c:o[c],d=e[u],f=t[u];if(d===f){a[u]=d,(n?c<i:hw.call(e,u))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){a[u]=f;continue}const m=Zh(d,f);a[u]=m,m===d&&l++}return i===r&&l===i?e:a}function ep(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rc(e){if(!tp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!tp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tp(e){return Object.prototype.toString.call(e)==="[object Object]"}function pw(e){return new Promise(t=>{sc.setTimeout(t,e)})}function mw(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Zh(e,t):t}function vw(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function gw(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var ac=Symbol();function np(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ac?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _w(e,t,n){let s=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),s||(s=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var yw=class extends Tr{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!kr&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},sp=new yw;function bw(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var ww=lw;function xw(){let e=[],t=0,n=a=>{a()},s=a=>{a()},i=ww;const o=a=>{t?e.push(a):i(()=>{n(a)})},r=()=>{const a=e;e=[],a.length&&i(()=>{s(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||r()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{i=a}}}var Et=xw(),Sw=class extends Tr{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!kr&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Mr=new Sw;function $w(e){return Math.min(1e3*2**e,3e4)}function ip(e){return(e??"online")==="online"?Mr.isOnline():!0}var lc=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function op(e){let t=!1,n=0,s;const i=bw(),o=()=>i.status!=="pending",r=_=>{if(!o()){const y=new lc(_);f(y),e.onCancel?.(y)}},a=()=>{t=!0},l=()=>{t=!1},c=()=>sp.isFocused()&&(e.networkMode==="always"||Mr.isOnline())&&e.canRun(),u=()=>ip(e.networkMode)&&e.canRun(),d=_=>{o()||(s?.(),i.resolve(_))},f=_=>{o()||(s?.(),i.reject(_))},m=()=>new Promise(_=>{s=y=>{(o()||c())&&_(y)},e.onPause?.()}).then(()=>{s=void 0,o()||e.onContinue?.()}),g=()=>{if(o())return;let _;const y=n===0?e.initialPromise:void 0;try{_=y??e.fn()}catch(b){_=Promise.reject(b)}Promise.resolve(_).then(d).catch(b=>{if(o())return;const v=e.retry??(kr?0:3),$=e.retryDelay??$w,S=typeof $=="function"?$(n,b):$,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,b);if(t||!E){f(b);return}n++,e.onFail?.(n,b),pw(S).then(()=>c()?void 0:m()).then(()=>{t?f(b):g()})})};return{promise:i,status:()=>i.status,cancel:r,continue:()=>(s?.(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():m().then(g),i)}}var rp=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uw(this.gcTime)&&(this.#e=sc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(sc.clearTimeout(this.#e),this.#e=void 0)}},Cw=class extends rp{#e;#t;#n;#o;#s;#a;#r;constructor(e){super(),this.#r=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#o=e.client,this.#n=this.#o.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=lp(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=lp(this.options);t.data!==void 0&&(this.setState(ap(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=mw(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(un).catch(un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>fw(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ac||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ic(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!dw(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#r?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,s=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#r=!0,n.signal)})},i=()=>{const a=np(this.options,t),c=(()=>{const u={client:this.#o,queryKey:this.queryKey,meta:this.meta};return s(u),u})();return this.#r=!1,this.options.persister?this.options.persister(a,c,this):a(c)},r=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#o,state:this.state,fetchFn:i};return s(a),a})();this.options.behavior?.onFetch(r,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==r.fetchOptions?.meta)&&this.#i({type:"fetch",meta:r.fetchOptions?.meta}),this.#s=op({initialPromise:t?.initialPromise,fn:r.fetchFn,onCancel:a=>{a instanceof lc&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,l)=>{this.#i({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:r.options.retry,retryDelay:r.options.retryDelay,networkMode:r.options.networkMode,canRun:()=>!0});try{const a=await this.#s.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof lc){if(a.silent)return this.#s.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#i({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ew(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...ap(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?s:void 0,s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Ew(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ip(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ap(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function lp(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function cp(e){return{onFetch:(t,n)=>{const s=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],r=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=g=>{_w(g,()=>t.signal,()=>u=!0)},f=np(t.options,t.fetchOptions),m=async(g,_,y)=>{if(u)return Promise.reject();if(_==null&&g.pages.length)return Promise.resolve(g);const v=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:_,direction:y?"backward":"forward",meta:t.options.meta};return d(F),F})(),$=await f(v),{maxPages:S}=t.options,E=y?gw:vw;return{pages:E(g.pages,$,S),pageParams:E(g.pageParams,_,S)}};if(i&&o.length){const g=i==="backward",_=g?Aw:up,y={pages:o,pageParams:r},b=_(s,y);a=await m(y,b,g)}else{const g=e??o.length;do{const _=l===0?r[0]??s.initialPageParam:up(s,a);if(l>0&&_==null)break;a=await m(a,_),l++}while(l<g)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function up(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Aw(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Tw=class extends rp{#e;#t;#n;#o;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||kw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#o?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#o=op({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,r)=>{this.#s({type:"failed",failureCount:o,error:r})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",i=!this.#o.canStart();try{if(s)t();else{this.#s({type:"pending",variables:e,isPaused:i}),await this.#n.config.onMutate?.(e,this,n);const r=await this.options.onMutate?.(e,n);r!==this.state.context&&this.#s({type:"pending",context:r,variables:e,isPaused:i})}const o=await this.#o.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#s({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,e,this.state.context,this,n)}catch(r){Promise.reject(r)}try{await this.options.onError?.(o,e,this.state.context,n)}catch(r){Promise.reject(r)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(r){Promise.reject(r)}try{await this.options.onSettled?.(void 0,o,e,this.state.context,n)}catch(r){Promise.reject(r)}throw this.#s({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Et.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function kw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dp=class extends Tr{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,n,s){const i=new Tw({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){this.#e.add(t);const n=Fr(t);if(typeof n=="string"){const s=this.#t.get(n);s?s.push(t):this.#t.set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const n=Fr(t);if(typeof n=="string"){const s=this.#t.get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&this.#t.delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Fr(t);if(typeof n=="string"){const i=this.#t.get(n)?.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){const n=Fr(t);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Et.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Jh(n,s))}findAll(t={}){return this.getAll().filter(n=>Jh(t,n))}notify(t){Et.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Et.batch(()=>Promise.all(t.map(n=>n.continue().catch(un))))}};function Fr(e){return e.options.scope?.id}var fp=class extends Tr{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,n,s){const i=n.queryKey,o=n.queryHash??oc(i,n);let r=this.get(o);return r||(r=new Cw({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(r)),r}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=this.#e.get(t.queryHash);n&&(t.destroy(),n===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Et.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Xh(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Xh(t,s)):n}notify(t){Et.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mw=class{#e;#t;#n;#o;#s;#a;#r;#i;constructor(t={}){this.#e=t.queryCache||new fp,this.#t=t.mutationCache||new dp,this.#n=t.defaultOptions||{},this.#o=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#r=sp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Mr.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#r?.(),this.#r=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const n=this.defaultQueryOptions({queryKey:t});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(t){const n=this.defaultQueryOptions(t),s=this.#e.build(this,n),i=s.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(ic(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:n,state:s})=>{const i=s.data;return[n,i]})}setQueryData(t,n,s){const i=this.defaultQueryOptions({queryKey:t}),r=this.#e.get(i.queryHash)?.state.data,a=cw(n,r);if(a!==void 0)return this.#e.build(this,i).setData(a,{...s,manual:!0})}setQueriesData(t,n,s){return Et.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,s)]))}getQueryState(t){const n=this.defaultQueryOptions({queryKey:t});return this.#e.get(n.queryHash)?.state}removeQueries(t){const n=this.#e;Et.batch(()=>{n.findAll(t).forEach(s=>{n.remove(s)})})}resetQueries(t,n){const s=this.#e;return Et.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},n)))}cancelQueries(t,n={}){const s={revert:!0,...n},i=Et.batch(()=>this.#e.findAll(t).map(o=>o.cancel(s)));return Promise.all(i).then(un).catch(un)}invalidateQueries(t,n={}){return Et.batch(()=>(this.#e.findAll(t).forEach(s=>{s.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},n)))}refetchQueries(t,n={}){const s={...n,cancelRefetch:n.cancelRefetch??!0},i=Et.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let r=o.fetch(void 0,s);return s.throwOnError||(r=r.catch(un)),o.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(un)}fetchQuery(t){const n=this.defaultQueryOptions(t);n.retry===void 0&&(n.retry=!1);const s=this.#e.build(this,n);return s.isStaleByTime(ic(n.staleTime,s))?s.fetch(n):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(un).catch(un)}fetchInfiniteQuery(t){return t.behavior=cp(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(un).catch(un)}ensureInfiniteQueryData(t){return t.behavior=cp(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Mr.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,n){this.#o.set(so(t),{queryKey:t,defaultOptions:n})}getQueryDefaults(t){const n=[...this.#o.values()],s={};return n.forEach(i=>{io(t,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(t,n){this.#s.set(so(t),{mutationKey:t,defaultOptions:n})}getMutationDefaults(t){const n=[...this.#s.values()],s={};return n.forEach(i=>{io(t,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const n={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return n.queryHash||(n.queryHash=oc(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===ac&&(n.enabled=!1),n}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};function cc(e,t,n="",s=0){if(t){const i=t(e,n,s);if(i===void 0&&et(e)||i!==void 0)return i}if(Array.isArray(e))return e.map((i,o)=>cc(i,t,String(o),s+1));if(typeof e=="object"&&Rw(e)){const i=Object.entries(e).map(([o,r])=>[o,cc(r,t,o,s+1)]);return Object.fromEntries(i)}return e}function Fw(e,t){return cc(e,t)}function Fe(e,t=!1){return Fw(e,(n,s,i)=>{if(i===1&&s==="queryKey")return Fe(n,!0);if(t&&Ow(n))return Fe(n(),t);if(et(n))return Fe(h(n),t)})}function Rw(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Ow(e){return typeof e=="function"}var Pw=class extends fp{find(e){return super.find(Fe(e))}findAll(e={}){return super.findAll(Fe(e))}},Iw=class extends dp{find(e){return super.find(Fe(e))}findAll(e={}){return super.findAll(Fe(e))}},Dw=class extends Mw{constructor(e={}){const t={defaultOptions:e.defaultOptions,queryCache:e.queryCache||new Pw,mutationCache:e.mutationCache||new Iw};super(t),this.isRestoring=Q(!1)}isFetching(e={}){return super.isFetching(Fe(e))}isMutating(e={}){return super.isMutating(Fe(e))}getQueryData(e){return super.getQueryData(Fe(e))}ensureQueryData(e){return super.ensureQueryData(Fe(e))}getQueriesData(e){return super.getQueriesData(Fe(e))}setQueryData(e,t,n={}){return super.setQueryData(Fe(e),t,Fe(n))}setQueriesData(e,t,n={}){return super.setQueriesData(Fe(e),t,Fe(n))}getQueryState(e){return super.getQueryState(Fe(e))}removeQueries(e={}){return super.removeQueries(Fe(e))}resetQueries(e={},t={}){return super.resetQueries(Fe(e),Fe(t))}cancelQueries(e={},t={}){return super.cancelQueries(Fe(e),Fe(t))}invalidateQueries(e={},t={}){const n=Fe(e),s=Fe(t);if(super.invalidateQueries({...n,refetchType:"none"},s),n.refetchType==="none")return Promise.resolve();const i={...n,type:n.refetchType??n.type??"active"};return gt().then(()=>super.refetchQueries(i,s))}refetchQueries(e={},t={}){return super.refetchQueries(Fe(e),Fe(t))}fetchQuery(e){return super.fetchQuery(Fe(e))}prefetchQuery(e){return super.prefetchQuery(Fe(e))}fetchInfiniteQuery(e){return super.fetchInfiniteQuery(Fe(e))}prefetchInfiniteQuery(e){return super.prefetchInfiniteQuery(Fe(e))}setDefaultOptions(e){super.setDefaultOptions(Fe(e))}setQueryDefaults(e,t){super.setQueryDefaults(Fe(e),Fe(t))}getQueryDefaults(e){return super.getQueryDefaults(Fe(e))}setMutationDefaults(e,t){super.setMutationDefaults(Fe(e),Fe(t))}getMutationDefaults(e){return super.getMutationDefaults(Fe(e))}};const hp={list:e=>["adapter","list",e],search:(e,t,n,s)=>["adapter","search",e,t,n,s],delete:e=>["adapter","delete",e],rename:()=>["adapter","rename"],copy:()=>["adapter","copy"],move:()=>["adapter","move"],archive:()=>["adapter","archive"],unarchive:()=>["adapter","unarchive"],createFile:()=>["adapter","createFile"],createFolder:()=>["adapter","createFolder"]};class Lw{driver;queryClient;config;onBeforeOpen;onAfterOpen;constructor(t,n={}){this.driver=t,this.onBeforeOpen=n.onBeforeOpen,this.onAfterOpen=n.onAfterOpen,this.queryClient=n.queryClient||new Dw({defaultOptions:{queries:{refetchOnWindowFocus:n.refetchOnWindowFocus??!1,staleTime:n.staleTime??3e5,retry:n.retry??2},mutations:{retry:n.retry??1}}}),this.config={queryClient:this.queryClient,refetchOnWindowFocus:n.refetchOnWindowFocus??!1,staleTime:n.staleTime??3e5,cacheTime:n.cacheTime??6e5,retry:n.retry??2,onBeforeOpen:this.onBeforeOpen??(()=>{}),onAfterOpen:this.onAfterOpen??(()=>{})}}getDriver(){return this.driver}getQueryClient(){return this.queryClient}async list(t){const n=hp.list(t);return await this.queryClient.fetchQuery({queryKey:n,queryFn:()=>this.driver.list({path:t}),staleTime:this.config.staleTime})}async open(t){this.onBeforeOpen&&this.onBeforeOpen();const n=await this.list(t);return this.onAfterOpen&&this.onAfterOpen(n),n}async delete(t){const n=await this.driver.delete(t);return this.invalidateListQueries(),n}async rename(t){const n=await this.driver.rename(t);return this.invalidateListQueries(),n}async copy(t){const n=await this.driver.copy(t);return this.invalidateListQueries(),n}async move(t){const n=await this.driver.move(t);return this.invalidateListQueries(),n}async archive(t){const n=await this.driver.archive(t);return this.invalidateListQueries(),n}async unarchive(t){const n=await this.driver.unarchive(t);return this.invalidateListQueries(),n}async createFile(t){const n=await this.driver.createFile(t);return this.invalidateListQueries(),n}async createFolder(t){const n=await this.driver.createFolder(t);return this.invalidateListQueries(),n}async getContent(t){const n=["adapter","content",t.path];return await this.queryClient.fetchQuery({queryKey:n,queryFn:()=>this.driver.getContent(t),staleTime:this.config.staleTime})}getPreviewUrl(t){return this.driver.getPreviewUrl(t)}getDownloadUrl(t){return this.driver.getDownloadUrl(t)}async search(t){const n=hp.search(t.path,t.filter,t.deep,t.size);return await this.queryClient.fetchQuery({queryKey:n,queryFn:()=>this.driver.search(t),staleTime:this.config.staleTime})}async save(t){const n=await this.driver.save(t);return this.invalidateListQueries(),n}invalidateListQueries(){this.queryClient.invalidateQueries({queryKey:["adapter"],exact:!1})}invalidateListQuery(t){this.queryClient.invalidateQueries({queryKey:["adapter","list",t],exact:!0})}clearCache(){this.queryClient.clear()}}function zw(e){const t=we(e.state);return{current:ce(()=>t.value.theme||"silver"),set:i=>{e.set("theme",i)}}}const Bw=(e,t)=>{const n=cy(e.id??"vf"),s=ly(),i=t.i18n??{},o=e.locale??t.locale,r=mb(e.id??"vf",e.config??{}),a=gb();if(!e.driver)throw new Error("Driver is required for VueFinder");const l=new Lw(e.driver);return Ts({version:ub,config:r,theme:(()=>{const c=zw(r);return{current:c.current,set:c.set}})(),fs:a,root:null,debug:e.debug??!1,emitter:s,storage:n,i18n:cb(n,o,s,i),modal:fb(r),adapter:wd(l),features:yh(e.features),selectionMode:e.selectionMode||"multiple",selectionFilterType:ce(()=>e.selectionFilterType||"both"),selectionFilterMimeIncludes:ce(()=>e.selectionFilterMimeIncludes||[]),treeViewData:[],filesize:r.get("metricUnits")?bh:Pl,contextMenuItems:e.contextMenuItems,customUploader:e.customUploader})},Hw=["data-theme"],Nw={class:"vuefinder__modal-layout__container"},jw={class:"vuefinder__modal-layout__content"},Uw={key:0,class:"vuefinder__modal-layout__footer"},Vw={key:0,class:"vuefinder__modal-drag-overlay"},Ww={class:"vuefinder__modal-drag-message"},Bt=xe({__name:"ModalLayout",props:{showDragOverlay:{type:Boolean},dragOverlayText:{}},setup(e){const t=Q(null),n=Ce();n.config;const s=e;Le(()=>{const o=document.querySelector(".v-f-modal input");o&&o.focus(),gt(()=>{if(document.querySelector(".v-f-modal input")&&window.innerWidth<768&&t.value){const r=t.value.getBoundingClientRect().bottom+16;window.scrollTo({top:r,left:0,behavior:"smooth"})}})});const i=o=>{o.target.classList.contains("vuefinder__modal-layout__wrapper")&&(o.preventDefault(),o.stopPropagation())};return(o,r)=>(w(),oe(Hi,{to:"body"},[p("div",{"data-theme":h(n).theme.current,class:"vuefinder__themer vuefinder__modal-layout","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",tabindex:"0",onKeyup:r[1]||(r[1]=to(a=>h(n).modal.close(),["esc"]))},[r[2]||(r[2]=p("div",{class:"vuefinder__modal-layout__overlay"},null,-1)),p("div",Nw,[p("div",{class:"vuefinder__modal-layout__wrapper",onContextmenu:i,onMousedown:r[0]||(r[0]=Pe(a=>h(n).modal.close(),["self"]))},[p("div",{ref_key:"modalBody",ref:t,class:"vuefinder__modal-layout__body"},[p("div",jw,[Oe(o.$slots,"default")]),o.$slots.buttons?(w(),k("div",Uw,[Oe(o.$slots,"buttons")])):re("",!0)],512)],32)]),s.showDragOverlay?(w(),k("div",Vw,[p("div",Ww,B(s.dragOverlayText||"Drag and drop the files/folders to here."),1)])):re("",!0)],40,Hw)]))}}),qw={class:"vuefinder__modal-header"},Kw={class:"vuefinder__modal-header__icon-container"},Yw={id:"modal-title",class:"vuefinder__modal-header__title"},Yt=xe({__name:"ModalHeader",props:{title:{},icon:{}},setup(e){return(t,n)=>(w(),k("div",qw,[p("div",Kw,[(w(),oe(rn(e.icon),{class:"vuefinder__modal-header__icon"}))]),p("div",Yw,B(e.title),1)]))}}),Gw={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"1.8",viewBox:"0 0 24 24"};function Qw(e,t){return w(),k("svg",Gw,[...t[0]||(t[0]=[p("circle",{cx:"12",cy:"12",r:"9"},null,-1),p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8.2h.01M10.75 11.25H12v4.5m0 0h1.25m-1.25 0h-2"},null,-1)])])}const pp={render:Qw},Xw={class:"vuefinder__about-modal__content"},Jw={class:"vuefinder__about-modal__main"},Zw={class:"vuefinder__about-modal__tab-content"},e1={class:"vuefinder__about-modal__lead"},t1={class:"vuefinder__about-modal__description"},n1={class:"vuefinder__about-modal__links"},s1={href:"https://vuefinder.ozdemir.be",class:"vuefinder__about-modal__link-btn",target:"_blank",rel:"noopener noreferrer"},i1={class:"vuefinder__about-modal__meta"},o1={class:"vuefinder__about-modal__meta-item"},r1={class:"vuefinder__about-modal__meta-label"},a1={class:"vuefinder__about-modal__meta-value"},l1={class:"vuefinder__about-modal__meta-item"},c1={class:"vuefinder__about-modal__meta-label"},mp=xe({__name:"ModalAbout",setup(e){const t=Ce(),{t:n}=t.i18n;return(s,i)=>(w(),oe(Bt,null,{buttons:be(()=>[p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:i[0]||(i[0]=o=>h(t).modal.close())},B(h(n)("Close")),1)]),default:be(()=>[p("div",Xw,[se(Yt,{icon:h(pp),title:"Vuefinder "+h(t).version},null,8,["icon","title"]),p("div",Jw,[p("div",Zw,[p("div",e1,B(h(n)("A modern, customizable file manager component built for Vue.")),1),p("div",t1,B(h(n)("If you like it, please follow and  star on GitHub.")),1),p("div",n1,[p("a",s1,B(h(n)("Project Home")),1),i[1]||(i[1]=p("a",{href:"https://github.com/n1crack/vuefinder",class:"vuefinder__about-modal__link-btn",target:"_blank",rel:"noopener noreferrer"}," GitHub ",-1))]),p("div",i1,[p("div",o1,[p("span",r1,B(h(n)("Version")),1),p("span",a1,B(h(t).version),1)]),p("div",l1,[p("span",c1,B(h(n)("License")),1),i[2]||(i[2]=p("span",{class:"vuefinder__about-modal__meta-value"},"MIT",-1))])])])])])]),_:1}))}}),u1={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"};function d1(e,t){return w(),k("svg",u1,[...t[0]||(t[0]=[p("path",{d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21q.512.078 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48 48 0 0 0-3.478-.397m-12 .562q.51-.089 1.022-.165m0 0a48 48 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a52 52 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a49 49 0 0 0-7.5 0"},null,-1)])])}const vp={render:d1},f1={class:"vuefinder__delete-modal__content"},h1={class:"vuefinder__delete-modal__form"},p1={class:"vuefinder__delete-modal__description"},m1={class:"vuefinder__delete-modal__files vf-scrollbar"},v1={key:0,class:"vuefinder__delete-modal__icon vuefinder__delete-modal__icon--dir",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},g1={key:1,class:"vuefinder__delete-modal__icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},_1={class:"vuefinder__delete-modal__file-name"},y1={class:"vuefinder__delete-modal__confirmation"},b1={class:"vuefinder__delete-modal__confirmation-label"},w1={class:"vuefinder__delete-modal__confirmation-text"},x1=["disabled"],Rr=xe({__name:"ModalDelete",setup(e){const t=Ce(),{t:n}=t.i18n,s=t.fs,i=we(s.path),o=Q(t.modal.data.items),r=Q(!1),a=()=>{o.value.length&&r.value&&t.adapter.delete({path:i.value.path,items:o.value.map(({path:l,type:c})=>({path:l,type:c}))}).then(l=>{Ue.success(n("Files deleted.")),t.fs.setFiles(l.files),t.modal.close()}).catch(l=>{Ue.error(Ft(l,n("Failed to delete files")))})};return(l,c)=>(w(),oe(Bt,null,{buttons:be(()=>[p("div",y1,[p("label",b1,[Ke(p("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),type:"checkbox",class:"vuefinder__delete-modal__checkbox"},null,512),[[mr,r.value]]),p("span",w1,B(h(n)("I'm sure delete it, This action cannot be undone.")),1)])]),p("button",{type:"button",class:"vf-btn vf-btn-danger",disabled:!r.value,onClick:a},B(h(n)("Yes, Delete!")),9,x1),p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:c[1]||(c[1]=u=>h(t).modal.close())},B(h(n)("Cancel")),1)]),default:be(()=>[p("div",null,[se(Yt,{icon:h(vp),title:h(n)("Delete files")},null,8,["icon","title"]),p("div",f1,[p("div",h1,[p("p",p1,B(h(n)("Are you sure you want to delete these files?")),1),p("div",m1,[(w(!0),k($e,null,Ve(o.value,u=>(w(),k("p",{key:u.path,class:"vuefinder__delete-modal__file"},[u.type==="dir"?(w(),k("svg",v1,[...c[2]||(c[2]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)])])):(w(),k("svg",g1,[...c[3]||(c[3]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)])])),p("span",_1,B(u.basename),1)]))),128))])])])])]),_:1}))}}),S1={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"};function $1(e,t){return w(),k("svg",S1,[...t[0]||(t[0]=[p("path",{d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},null,-1)])])}const gp={render:$1},C1={class:"vuefinder__rename-modal__content"},E1={class:"vuefinder__rename-modal__item"},A1={class:"vuefinder__rename-modal__item-info"},T1={key:0,class:"vuefinder__rename-modal__icon vuefinder__rename-modal__icon--dir",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},k1={key:1,class:"vuefinder__rename-modal__icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},M1={class:"vuefinder__rename-modal__item-name"},Or=xe({__name:"ModalRename",setup(e){const t=Ce(),{t:n}=t.i18n,s=t.fs,i=we(s.path),o=Q(t.modal.data.items[0]),r=Q(o.value.basename),a=()=>{r.value!=o.value.basename&&t.adapter.rename({path:i.value.path,item:o.value.path,name:r.value}).then(l=>{Ue.success(n("%s is renamed.",r.value)),t.fs.setFiles(l.files),t.modal.close()}).catch(l=>{Ue.error(Ft(l,n("Failed to rename")))})};return(l,c)=>(w(),oe(Bt,null,{buttons:be(()=>[p("button",{type:"button",class:"vf-btn vf-btn-primary",onClick:a},B(h(n)("Rename")),1),p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:c[1]||(c[1]=u=>h(t).modal.close())},B(h(n)("Cancel")),1)]),default:be(()=>[p("div",null,[se(Yt,{icon:h(gp),title:h(n)("Rename")},null,8,["icon","title"]),p("div",C1,[p("div",E1,[p("p",A1,[o.value.type==="dir"?(w(),k("svg",T1,[...c[2]||(c[2]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)])])):(w(),k("svg",k1,[...c[3]||(c[3]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)])])),p("span",M1,B(o.value.basename),1)]),Ke(p("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),class:"vuefinder__rename-modal__input",placeholder:"Name",type:"text",onKeyup:to(a,["enter"])},null,544),[[eo,r.value]])])])])]),_:1}))}});function dn(){const e=Ce(),t=ce(()=>e.features);return{enabled:s=>t.value[s]??!1}}const F1={class:"vuefinder__text-preview"},R1={class:"vuefinder__text-preview__header"},O1=["title"],P1={class:"vuefinder__text-preview__actions"},I1={key:0,class:"vuefinder__text-preview__content"},D1={key:1},L1=xe({__name:"Text",emits:["success"],setup(e,{emit:t}){const n=t,s=Q(""),i=Q(""),o=Q(null),r=Q(!1),a=Ce(),{enabled:l}=dn(),{t:c}=a.i18n;Le(async()=>{try{const f=await a.adapter.getContent({path:a.modal.data.item.path});s.value=f.content,n("success")}catch(f){Ft(f,"Failed to load text content"),n("success")}});const u=()=>{r.value=!r.value,i.value=s.value,a.modal.setEditMode(r.value)},d=async()=>{try{const f=a.modal.data.item.path;await a.adapter.save({path:f,content:i.value}),s.value=i.value,Ue.success(c("Updated.")),n("success"),r.value=!r.value}catch(f){Ue.error(Ft(f,c("Failed to save file")))}};return(f,m)=>(w(),k("div",F1,[p("div",R1,[p("div",{id:"modal-title",class:"vuefinder__text-preview__title",title:h(a).modal.data.item.path},B(h(a).modal.data.item.basename),9,O1),p("div",P1,[r.value?(w(),k("button",{key:0,class:"vuefinder__text-preview__save-button",onClick:d},B(h(c)("Save")),1)):re("",!0),h(l)("edit")?(w(),k("button",{key:1,class:"vuefinder__text-preview__edit-button",onClick:m[0]||(m[0]=g=>u())},B(r.value?h(c)("Cancel"):h(c)("Edit")),1)):re("",!0)])]),p("div",null,[r.value?(w(),k("div",D1,[Ke(p("textarea",{ref_key:"editInput",ref:o,"onUpdate:modelValue":m[1]||(m[1]=g=>i.value=g),class:"vuefinder__text-preview__textarea",name:"text",cols:"30",rows:"10"},null,512),[[eo,i.value]])])):(w(),k("pre",I1,B(s.value),1))])]))}}),uc=async(e,t)=>{if(t){if(t.isFile){const n=await new Promise(s=>{t.file(s)});e(t,n)}if(t.isDirectory){const n=t.createReader(),s=await new Promise(i=>{n.readEntries(i)});for(const i of s)await uc(e,i)}}},it={PENDING:0,CANCELED:1,UPLOADING:2,ERROR:3,DONE:10};function _p(e){const t=Ce(),{t:n}=t.i18n,s=t.fs,i=we(s.path),o=t.config,r=Q({QUEUE_ENTRY_STATUS:it}),a=Q(null),l=Q(null),c=Q(null),u=Q(null),d=Q(null),f=Q([]),m=Q(""),g=Q(!1),_=Q(!1),y=Q(null);let b;const v=U=>{U.preventDefault(),U.stopPropagation(),_.value=!0},$=U=>{U.preventDefault(),U.stopPropagation(),_.value=!0},S=U=>{U.preventDefault(),U.stopPropagation(),(!U.relatedTarget||U.relatedTarget===document.body)&&(_.value=!1)},E=U=>{U.preventDefault(),U.stopPropagation(),_.value=!1;const A=/^[/\\](.+)/,D=U.dataTransfer;D&&(D.items&&D.items.length?Array.from(D.items).forEach(ne=>{if(ne.kind==="file"){const X=ne.webkitGetAsEntry?.();if(X)uc((te,Y)=>{const ue=A.exec(te?.fullPath||"");P(Y,ue?ue[1]:Y.name)},X);else{const te=ne.getAsFile?.();te&&P(te)}}}):D.files&&D.files.length&&Array.from(D.files).forEach(ne=>P(ne)))},F=U=>f.value.findIndex(A=>A.id===U),P=(U,A)=>b.addFile({name:A||U.name,type:U.type,data:U,source:"Local"}),H=U=>U.status===it.DONE?"text-green-600":U.status===it.ERROR||U.status===it.CANCELED?"text-red-600":"",z=U=>U.status===it.DONE?"":U.status===it.ERROR||U.status===it.CANCELED?"!":"...",C=()=>u.value?.click(),T=()=>t.modal.close(),O=U=>{if(g.value||!f.value.filter(A=>A.status!==it.DONE).length){g.value||(m.value=n("Please select file to upload first."));return}m.value="",y.value=U||i.value,b.upload()},R=()=>{b.cancelAll(),f.value.forEach(U=>{U.status!==it.DONE&&(U.status=it.CANCELED,U.statusName=n("Canceled"))}),g.value=!1},K=U=>{g.value||(b.removeFile(U.id),f.value.splice(F(U.id),1))},ee=U=>{if(!g.value)if(b.cancelAll(),U){const A=f.value.filter(D=>D.status!==it.DONE);f.value=[],A.forEach(D=>P(D.originalFile,D.name))}else f.value=[]},V=U=>{U.forEach(A=>{P(A)})};return Le(()=>{b=new nc({debug:t.debug,restrictions:{maxFileSize:db(o.get("maxFileSize")??"10mb")},locale:t.i18n.t("uppy"),onBeforeFileAdded:(ne,X)=>{if(X[ne.id]!=null){const Y=F(ne.id);f.value[Y]?.status===it.PENDING&&(m.value=b.i18n("noDuplicates",{fileName:ne.name})),f.value=f.value.filter(ue=>ue.id!==ne.id)}return f.value.push({id:ne.id,name:ne.name,size:t.filesize(ne.size),status:it.PENDING,statusName:n("Pending upload"),percent:null,originalFile:ne.data}),!0}});const U={getTargetPath:()=>(y.value||i.value).path};if(e)e(b,U);else if(t.adapter.getDriver().configureUploader)t.adapter.getDriver().configureUploader(b,U);else throw new Error("No uploader configured");b.on("restriction-failed",(ne,X)=>{const te=f.value[F(ne.id)];te&&K(te),m.value=X.message}),b.on("upload-start",ne=>{ne.forEach(X=>{const te=f.value[F(X.id)];te&&(te.status=it.UPLOADING,te.statusName=n("Uploading"),te.percent="0%")})}),b.on("upload-progress",(ne,X)=>{const te=X.bytesTotal??1,Y=Math.floor(X.bytesUploaded/te*100),ue=F(ne.id);ue!==-1&&f.value[ue]&&(f.value[ue].percent=`${Y}%`)}),b.on("upload-success",ne=>{const X=f.value[F(ne.id)];X&&(X.status=it.DONE,X.statusName=n("Done"))}),b.on("upload-error",(ne,X)=>{const te=f.value[F(ne.id)];te&&(te.percent=null,te.status=it.ERROR,te.statusName=X?.isNetworkError?n("Network Error, Unable establish connection to the server or interrupted."):X?.message||n("Unknown Error"))}),b.on("error",ne=>{m.value=ne.message,g.value=!1}),b.on("complete",ne=>{g.value=!1;const X=y.value||i.value;t.adapter.invalidateListQuery(X.path),t.adapter.open(X.path);const te=f.value.filter(Y=>Y.status===it.DONE&&ne.successful.includes(Y.id)).map(Y=>Y.name);t.emitter.emit("vf-upload-complete",te)}),u.value?.addEventListener("click",()=>l.value?.click()),d.value?.addEventListener("click",()=>c.value?.click());const A={capture:!0};document.addEventListener("dragover",v,A),document.addEventListener("dragenter",$,A),document.addEventListener("dragleave",S,A),document.addEventListener("drop",E,A);const D=ne=>{const X=ne.target,te=X.files;if(te){for(const Y of te)P(Y);X.value=""}};l.value?.addEventListener("change",D),c.value?.addEventListener("change",D)}),rt(()=>{const U={capture:!0};document.removeEventListener("dragover",v,U),document.removeEventListener("dragenter",$,U),document.removeEventListener("dragleave",S,U),document.removeEventListener("drop",E,U)}),{container:a,internalFileInput:l,internalFolderInput:c,pickFiles:u,pickFolders:d,queue:f,message:m,uploading:g,hasFilesInDropArea:_,definitions:r,openFileSelector:C,upload:O,cancel:R,remove:K,clear:ee,close:T,getClassNameForEntry:H,getIconForEntry:z,addExternalFiles:V}}function yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,s)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yp(Object(n),!0).forEach((function(s){Gt(e,s,n[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))}))}return e}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z1(e,t){if(e==null)return{};var n,s,i=(function(r,a){if(r==null)return{};var l,c,u={},d=Object.keys(r);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=r[l]);return u})(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ds(e){return(function(t){if(Array.isArray(t))return dc(t)})(e)||(function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)})(e)||(function(t,n){if(t){if(typeof t=="string")return dc(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return dc(t,n)}})(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function dc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var bp,B1,Pr,ot=(bp=function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var r=typeof o;if(r==="string"||r==="number")s.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&s.push(a)}}else if(r==="object")if(o.toString===Object.prototype.toString)for(var l in o)t.call(o,l)&&o[l]&&s.push(l);else s.push(o.toString())}}return s.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()},bp(Pr={path:B1,exports:{},require:function(e,t){return(function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")})(t==null&&Pr.path)}},Pr.exports),Pr.exports),fn=function(e){return function(t,n){if(!t)return e;var s;typeof t=="string"?s=t:n=t;var i=e;return s&&(i+="__"+s),i+(n?Object.keys(n).reduce((function(o,r){var a=n[r];return a&&(o+=" "+(typeof a=="boolean"?i+"--"+r:i+"--"+r+"_"+a)),o}),""):"")}};function fc(e,t,n){var s,i,o,r,a;function l(){var u=Date.now()-r;u<t&&u>=0?s=setTimeout(l,t-u):(s=null,n||(a=e.apply(o,i),o=i=null))}t==null&&(t=100);var c=function(){o=this,i=arguments,r=Date.now();var u=n&&!s;return s||(s=setTimeout(l,t)),u&&(a=e.apply(o,i),o=i=null),a};return c.clear=function(){s&&(clearTimeout(s),s=null)},c.flush=function(){s&&(a=e.apply(o,i),o=i=null,clearTimeout(s),s=null)},c}fc.debounce=fc;var hc=fc,Se=function(){return Se=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Se.apply(this,arguments)};function wp(e,t){var n,s;return e&&t?(n=""+e+t[0].toUpperCase()+t.slice(1),s=e+"-"+t):(n=e||t,s=e||t),{name:n,classname:s}}function xp(e){return/^blob:/.test(e)}function Sp(e){return xp(e)||(function(t){return/^data:/.test(t)})(e)}function oi(e){return!!(e&&e.constructor&&e.call&&e.apply)}function lt(e){return e===void 0}function Ir(e){return typeof e=="object"&&e!==null}function pc(e,t,n){var s={};return Ir(e)?(Object.keys(t).forEach((function(i){lt(e[i])?s[i]=t[i]:Ir(t[i])?Ir(e[i])?s[i]=pc(e[i],t[i],n[i]):s[i]=e[i]?t[i]:n[i]:t[i]===!0||t[i]===!1?s[i]=!!e[i]:s[i]=e[i]})),s):e?t:n}function Dr(e){var t=Number(e);return Number.isNaN(t)?e:t}function $p(e){return typeof(e=="number"||(function(t){return typeof t=="object"&&t!==null})(e)&&toString.call(e)=="[object Number]")&&!Cp(e)}function Cp(e){return e!=e}function Ep(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var oo=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},H1=function(e,t){t===void 0&&(t={}),this.type="resize",this.directions=e,this.params=t},mc=function(e){this.type="move",this.directions=e},N1=(function(){function e(t,n,s,i,o){this.type="drag",this.nativeEvent=t,this.position=s,this.previousPosition=i,this.element=n,this.anchor=o}return e.prototype.shift=function(){var t=this,n=t.element,s=t.anchor,i=t.position;if(n){var o=n.getBoundingClientRect(),r=o.left,a=o.top;return{left:i.left-r-s.left,top:i.top-a-s.top}}return{left:0,top:0}},e})(),vc={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&e.touches.length===1&&(this.touches=Ds(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce((function(t,n){return{clientX:t.clientX+n.clientX/e.touches.length,clientY:t.clientY+n.clientY/e.touches.length}}),{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),n=t.left,s=t.right,i=t.bottom,o=t.top;this.anchor={left:e.clientX-n,top:e.clientY-o,bottom:i-e.clientY,right:s-e.clientX}},processMove:function(e,t){var n=Ds(t);if(this.touches.length){if(this.touches.length===1&&n.length===1){var s=this.$refs.draggable;this.$emit("drag",new N1(e,s,{left:n[0].clientX,top:n[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=n}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};vc.render=function(e,t,n,s,i,o){return w(),oe("div",{ref:"draggable",class:n.classname,onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onMouseover:t[3]||(t[3]=function(){return o.onMouseOver&&o.onMouseOver.apply(o,arguments)}),onMouseleave:t[4]||(t[4]=function(){return o.onMouseLeave&&o.onMouseLeave.apply(o,arguments)})},[Oe(e.$slots,"default")],34)};var gc=fn("vue-handler-wrapper"),Ap={name:"HandlerWrapper",components:{DraggableElement:vc},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,n=wp(this.horizontalPosition,this.verticalPosition);e=gc((Gt(t={},n.classname,!0),Gt(t,"disabled",this.disabled),t))}else e=gc({disabled:this.disabled});return{root:e,draggable:gc("draggable")}}},emits:["leave","enter","drag","drag-end"]};Ap.render=function(e,t,n,s,i,o){var r=on("DraggableElement");return w(),oe("div",{class:o.classes.root},[se(r,{class:o.classes.draggable,onDrag:t[1]||(t[1]=function(a){return e.$emit("drag",a)}),onDragEnd:t[2]||(t[2]=function(a){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(a){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(a){return e.$emit("enter")})},{default:be((function(){return[Oe(e.$slots,"default")]})),_:3},8,["class"])],2)};var j1=fn("vue-line-wrapper"),Tp={name:"LineWrapper",components:{DraggableElement:vc},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return j1((Gt(e={},this.position,!0),Gt(e,"disabled",this.disabled),e))}},emits:["leave","enter","drag","drag-end"]};Tp.render=function(e,t,n,s,i,o){var r=on("DraggableElement");return w(),oe(r,{class:o.classname,onDrag:t[1]||(t[1]=function(a){return e.$emit("drag",a)}),onDragEnd:t[2]||(t[2]=function(a){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(a){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(a){return e.$emit("enter")})},{default:be((function(){return[Oe(e.$slots,"default")]})),_:3},8,["class"])};var An=["left","right","top","bottom"],U1=["left","right"],V1=["top","bottom"],W1=["left","top"],q1=["fill-area","fit-area","stencil","none"],kp={left:0,top:0,width:0,height:0};function Mp(e,t,n){return!(n=n||["width","height","left","top"]).some((function(s){return e[s]!==t[s]}))}function Tn(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function ri(e,t){return{left:e.left-t.left,top:e.top-t.top}}function dt(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function ro(e,t){var n={left:0,top:0,right:0,bottom:0};return An.forEach((function(s){var i=t[s],o=Tn(e)[s];n[s]=i!==void 0&&o!==void 0?s==="left"||s==="top"?Math.max(0,i-o):Math.max(0,o-i):0})),n}function kn(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function Lr(e){return{left:-e.left,top:-e.top}}function Rt(e,t){return Se(Se({},e),{left:e.left+t.left,top:e.top+t.top})}function Qt(e,t,n,s){if(t!==1){if(n){var i=dt(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(n.left-i.left)*(1-t),top:e.top+e.height*(1-t)/2+(n.top-i.top)*(1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function Be(e){return e.width/e.height}function ai(e,t){return Math.min(t.right!==void 0&&t.left!==void 0?(t.right-t.left)/e.width:1/0,t.bottom!==void 0&&t.top!==void 0?(t.bottom-t.top)/e.height:1/0)}function li(e,t){var n={left:0,top:0},s=ro(e,t);return s.left&&s.left>0?n.left=s.left:s.right&&s.right>0&&(n.left=-s.right),s.top&&s.top>0?n.top=s.top:s.bottom&&s.bottom>0&&(n.top=-s.bottom),n}function _c(e,t){var n;return t.minimum&&e<t.minimum?n=t.minimum:t.maximum&&e>t.maximum&&(n=t.maximum),n}function Fp(e,t){var n=Be(e),s=Be(t);return t.width<1/0&&t.height<1/0?n>s?{width:t.width,height:t.width/n}:{width:t.height*n,height:t.height}:t.width<1/0?{width:t.width,height:t.width/n}:t.height<1/0?{width:t.height*n,height:t.height}:e}function Rp(e,t){var n=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(n))+Math.abs(e.height*Math.sin(n)),height:Math.abs(e.width*Math.sin(n))+Math.abs(e.height*Math.cos(n))}}function hs(e,t){var n=t*Math.PI/180;return{left:e.left*Math.cos(n)-e.top*Math.sin(n),top:e.left*Math.sin(n)+e.top*Math.cos(n)}}function zr(e,t){var n=ro(ft(e,t),t);return n.left+n.right+n.top+n.bottom?n.left+n.right>n.top+n.bottom?Math.min((e.width+n.left+n.right)/e.width,ai(e,t)):Math.min((e.height+n.top+n.bottom)/e.height,ai(e,t)):1}function ft(e,t,n){n===void 0&&(n=!1);var s=li(e,t);return Rt(e,n?Lr(s):s)}function yc(e){return{width:e.right!==void 0&&e.left!==void 0?e.right-e.left:1/0,height:e.bottom!==void 0&&e.top!==void 0?e.bottom-e.top:1/0}}function K1(e,t){return Se(Se({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}function Op(e,t,n){n===void 0&&(n=!0);var s={};return An.forEach((function(i){var o=e[i],r=t[i];o!==void 0&&r!==void 0?s[i]=i==="left"||i==="top"?n?Math.max(o,r):Math.min(o,r):n?Math.min(o,r):Math.max(o,r):r!==void 0?s[i]=r:o!==void 0&&(s[i]=o)})),s}function Br(e,t){return Op(e,t,!0)}function Pp(e){var t=e.size,n=e.aspectRatio,s=e.ignoreMinimum,i=e.sizeRestrictions;return!!((t.correctRatio||Be(t)>=n.minimum&&Be(t)<=n.maximum)&&t.height<=i.maxHeight&&t.width<=i.maxWidth&&t.width&&t.height&&(s||t.height>=i.minHeight&&t.width>=i.minWidth))}function Ip(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function Qn(e){var t=e.width,n=e.height,s=e.sizeRestrictions,i={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},o={width:Math.max(s.minWidth,Math.min(s.maxWidth,t)),height:Math.max(s.minHeight,Math.min(s.maxHeight,n))};function r(c,u){return u===void 0&&(u=!1),c.reduce((function(d,f){return Pp({size:f,aspectRatio:i,sizeRestrictions:s,ignoreMinimum:u})&&(!d||Ip(f,{width:t,height:n})<Ip(d,{width:t,height:n}))?f:d}),null)}var a=[];i&&[i.minimum,i.maximum].forEach((function(c){c&&a.push({width:o.width,height:o.width/c,correctRatio:!0},{width:o.height*c,height:o.height,correctRatio:!0})})),Pp({size:o,aspectRatio:i,sizeRestrictions:s})&&a.push(o);var l=r(a)||r(a,!0);return l&&{width:l.width,height:l.height}}function bc(e){var t=e.event,n=e.coordinates,s=e.positionRestrictions,i=s===void 0?{}:s,o=Rt(n,t.directions);return Rt(o,li(o,i))}function Y1(e){var t=e.coordinates,n=e.transform,s=e.imageSize,i=e.sizeRestrictions,o=e.positionRestrictions,r=e.aspectRatio,a=e.visibleArea,l=function(u,d){return bc({coordinates:u,positionRestrictions:o,event:new mc({left:d.left-u.left,top:d.top-u.top})})},c=Se({},t);return(Array.isArray(n)?n:[n]).forEach((function(u){var d={};lt((d=typeof u=="function"?u({coordinates:c,imageSize:s,visibleArea:a}):u).width)&&lt(d.height)||(c=(function(f,m){var g=Se(Se(Se({},f),Qn({width:m.width,height:m.height,sizeRestrictions:i,aspectRatio:r})),{left:0,top:0});return l(g,{left:f.left,top:f.top})})(c,Se(Se({},c),d))),lt(d.left)&&lt(d.top)||(c=l(c,Se(Se({},c),d)))})),c}function G1(e){e.event;var t=e.getAreaRestrictions,n=e.boundaries,s=e.coordinates,i=e.visibleArea;e.aspectRatio;var o=e.stencilSize,r=e.sizeRestrictions,a=e.positionRestrictions;e.stencilReference;var l,c,u,d=Se({},s),f=Se({},i),m=Se({},o);l=Be(m),c=Be(d),u===void 0&&(u=.001),(l===0||c===0?Math.abs(c-l)<u:Math.abs(c/l)<1+u&&Math.abs(c/l)>1-u)||(d=Se(Se({},d),Qn({sizeRestrictions:r,width:d.width,height:d.height,aspectRatio:{minimum:Be(m),maximum:Be(m)}})));var g=zr(f=Qt(f,d.width*n.width/(f.width*m.width)),t({visibleArea:f,type:"resize"}));return g!==1&&(f=Qt(f,g),d=Qt(d,g)),f=ft(f=Rt(f,ri(dt(d),dt(f))),t({visibleArea:f,type:"move"})),{coordinates:d=ft(d,Br(Tn(f),a)),visibleArea:f}}function Q1(e){var t=e.event,n=e.getAreaRestrictions,s=e.boundaries,i=e.coordinates,o=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var r=e.positionRestrictions;e.stencilReference;var a=Se({},i),l=Se({},o);if(i&&o&&t.type!=="manipulateImage"){var c={width:0,height:0};l.width,s.width,Be(s)>Be(a)?(c.height=.8*s.height,c.width=c.height*Be(a)):(c.width=.8*s.width,c.height=c.width*Be(a));var u=zr(l=Qt(l,a.width*s.width/(l.width*c.width)),n({visibleArea:l,type:"resize"}));l=Qt(l,u),u!==1&&(c.height/=u,c.width/=u),l=ft(l=Rt(l,ri(dt(a),dt(l))),n({visibleArea:l,type:"move"})),a=ft(a,Br(Tn(l),r))}return{coordinates:a,visibleArea:l}}function X1(e){var t=e.event,n=e.coordinates,s=e.visibleArea,i=e.getAreaRestrictions,o=Se({},s),r=Se({},n);if(t.type==="setCoordinates"){var a=Math.max(0,r.width-o.width),l=Math.max(0,r.height-o.height);a>l?o=Qt(o,Math.min(r.width/o.width,ai(o,i({visibleArea:o,type:"resize"})))):l>a&&(o=Qt(o,Math.min(r.height/o.height,ai(o,i({visibleArea:o,type:"resize"}))))),o=ft(o=Rt(o,Lr(li(r,Tn(o)))),i({visibleArea:o,type:"move"}))}return{visibleArea:o,coordinates:r}}function J1(e){var t=e.imageSize,n=e.visibleArea,s=e.coordinates,i=n||t;return{left:(n?n.left:0)+i.width/2-s.width/2,top:(n?n.top:0)+i.height/2-s.height/2}}function Z1(e){var t=e.imageSize,n=e.visibleArea,s=e.aspectRatio,i=e.sizeRestrictions,o=n||t,r=Math.min(s.maximum||1/0,Math.max(s.minimum||0,Be(o))),a=o.width<o.height?{width:.8*o.width,height:.8*o.width/r}:{height:.8*o.height,width:.8*o.height*r};return Qn(Se(Se({},a),{aspectRatio:s,sizeRestrictions:i}))}function e2(e){var t,n,s=e.imageSize,i=e.visibleArea,o=e.boundaries,r=e.aspectRatio,a=e.sizeRestrictions,l=e.stencilSize,c=i||s;return Be(c)>Be(o)?n=(t=l.height*c.height/o.height)*Be(l):t=(n=l.width*c.width/o.width)/Be(l),Qn({width:n,height:t,aspectRatio:r,sizeRestrictions:a})}function t2(e){var t=e.getAreaRestrictions,n=e.coordinates,s=e.imageSize,i=Be(e.boundaries);if(n){var o={height:Math.max(n.height,s.height),width:Math.max(n.width,s.width)},r=Fp({width:Be(o)>i?o.width:o.height*i,height:Be(o)>i?o.width/i:o.height},yc(t())),a={left:n.left+n.width/2-r.width/2,top:n.top+n.height/2-r.height/2,width:r.width,height:r.height},l=ro(n,Tn(Se({left:0,top:0},s))),c={};return!l.left&&!l.right&&a.width<=s.width&&(c.left=0,c.right=s.width),!l.top&&!l.bottom&&a.height<=s.height&&(c.top=0,c.bottom=s.height),ft(a,c)}var u=Be(s);return r={height:u>i?s.height:s.width/i,width:u>i?s.height*i:s.width},{left:s.width/2-r.width/2,top:s.height/2-r.height/2,width:r.width,height:r.height}}function Hr(e,t){return Op(e,Tn(t))}function n2(e){var t=e.event,n=e.coordinates,s=e.visibleArea,i=e.sizeRestrictions,o=e.getAreaRestrictions,r=e.positionRestrictions,a=e.adjustStencil,l=t.scale,c=t.move,u=Se({},s),d=Se({},n),f=1,m=1,g=l.factor&&Math.abs(l.factor-1)>.001;u=Rt(u,{left:c.left||0,top:c.top||0});var _={stencil:{minimum:Math.max(i.minWidth?i.minWidth/d.width:0,i.minHeight?i.minHeight/d.height:0),maximum:Math.min(i.maxWidth?i.maxWidth/d.width:1/0,i.maxHeight?i.maxHeight/d.height:1/0,ai(d,r))},area:{maximum:ai(u,o({visibleArea:u,type:"resize"}))}};l.factor&&g&&(l.factor<1?(m=Math.max(l.factor,_.stencil.minimum))>1&&(m=1):l.factor>1&&(m=Math.min(l.factor,Math.min(_.area.maximum,_.stencil.maximum)))<1&&(m=1)),m&&(u=Qt(u,m,l.center));var y=n.left-s.left,b=s.width+s.left-(n.width+n.left),v=n.top-s.top,$=s.height+s.top-(n.height+n.top);return u=ft(u=Rt(u,li(u,{left:r.left!==void 0?r.left-y*m:void 0,top:r.top!==void 0?r.top-v*m:void 0,bottom:r.bottom!==void 0?r.bottom+$*m:void 0,right:r.right!==void 0?r.right+b*m:void 0})),o({visibleArea:u,type:"move"})),d.width=d.width*m,d.height=d.height*m,d.left=u.left+y*m,d.top=u.top+v*m,d=ft(d,Br(Tn(u),r)),l.factor&&g&&a&&(l.factor>1?f=Math.min(_.area.maximum,l.factor)/m:l.factor<1&&(f=Math.max(d.height/u.height,d.width/u.width,l.factor/m)),f!==1&&(u=Rt(u=ft(u=Qt(u,f,l.factor>1?l.center:dt(d)),o({visibleArea:u,type:"move"})),Lr(li(d,Tn(u)))))),{coordinates:d,visibleArea:u}}function s2(e){var t=e.aspectRatio,n=e.getAreaRestrictions,s=e.coordinates,i=e.visibleArea,o=e.sizeRestrictions,r=e.positionRestrictions,a=e.imageSize,l=e.previousImageSize,c=e.angle,u=Se({},s),d=Se({},i),f=hs(dt(Se({left:0,top:0},l)),c);return(u=Se(Se({},Qn({sizeRestrictions:o,aspectRatio:t,width:u.width,height:u.height})),hs(dt(u),c))).left-=f.left-a.width/2+u.width/2,u.top-=f.top-a.height/2+u.height/2,d=Qt(d,zr(d,n({visibleArea:d,type:"resize"}))),{coordinates:u=ft(u,r),visibleArea:d=ft(d=Rt(d,ri(dt(u),dt(s))),n({visibleArea:d,type:"move"}))}}function i2(e){var t=e.flip,n=e.previousFlip,s=e.rotate,i=e.getAreaRestrictions,o=e.coordinates,r=e.visibleArea,a=e.imageSize,l=Se({},o),c=Se({},r),u=n.horizontal!==t.horizontal,d=n.vertical!==t.vertical;if(u||d){var f=hs({left:a.width/2,top:a.height/2},-s),m=hs(dt(l),-s),g=hs({left:u?f.left-(m.left-f.left):m.left,top:d?f.top-(m.top-f.top):m.top},s);l=Rt(l,ri(g,dt(l))),m=hs(dt(c),-s),c=ft(c=Rt(c,ri(g=hs({left:u?f.left-(m.left-f.left):m.left,top:d?f.top-(m.top-f.top):m.top},s),dt(c))),i({visibleArea:c,type:"move"}))}return{coordinates:l,visibleArea:c}}function Dp(e){var t=e.directions,n=e.coordinates,s=e.positionRestrictions,i=s===void 0?{}:s,o=e.sizeRestrictions,r=e.preserveRatio,a=e.compensate,l=Se({},t),c=kn(n,l).width,u=kn(n,l).height;c<0&&(l.left<0&&l.right<0?(l.left=-(n.width-o.minWidth)/(l.left/l.right),l.right=-(n.width-o.minWidth)/(l.right/l.left)):l.left<0?l.left=-(n.width-o.minWidth):l.right<0&&(l.right=-(n.width-o.minWidth))),u<0&&(l.top<0&&l.bottom<0?(l.top=-(n.height-o.minHeight)/(l.top/l.bottom),l.bottom=-(n.height-o.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(n.height-o.minHeight):l.bottom<0&&(l.bottom=-(n.height-o.minHeight)));var d=ro(kn(n,l),i);a&&(d.left&&d.left>0&&d.right===0?(l.right+=d.left,l.left-=d.left):d.right&&d.right>0&&d.left===0&&(l.left+=d.right,l.right-=d.right),d.top&&d.top>0&&d.bottom===0?(l.bottom+=d.top,l.top-=d.top):d.bottom&&d.bottom>0&&d.top===0&&(l.top+=d.bottom,l.bottom-=d.bottom),d=ro(kn(n,l),i));var f={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(An.forEach((function(_){var y=d[_];y&&l[_]&&(f[_]=Math.max(0,1-y/l[_]))})),r){var m=Math.min.apply(null,An.map((function(_){return f[_]})));m!==1/0&&An.forEach((function(_){l[_]*=m}))}else An.forEach((function(_){f[_]!==1/0&&(l[_]*=f[_])}));if(c=kn(n,l).width,u=kn(n,l).height,l.right+l.left&&(c>o.maxWidth?f.width=(o.maxWidth-n.width)/(l.right+l.left):c<o.minWidth&&(f.width=(o.minWidth-n.width)/(l.right+l.left))),l.bottom+l.top&&(u>o.maxHeight?f.height=(o.maxHeight-n.height)/(l.bottom+l.top):u<o.minHeight&&(f.height=(o.minHeight-n.height)/(l.bottom+l.top))),r){var g=Math.min(f.width,f.height);g!==1/0&&An.forEach((function(_){l[_]*=g}))}else f.width!==1/0&&U1.forEach((function(_){l[_]*=f.width})),f.height!==1/0&&V1.forEach((function(_){l[_]*=f.height}));return l}function Nr(e,t,n){return t==0&&n==0?e/2:t==0?0:n==0?e:e*Math.abs(t/(t+n))}var o2=fn("vue-simple-handler"),r2=fn("vue-simple-handler-wrapper"),wc={name:"SimpleHandler",components:{HandlerWrapper:Ap},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(Gt(e={},this.horizontalPosition,!!this.horizontalPosition),Gt(e,this.verticalPosition,!!this.verticalPosition),Gt(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),Gt(e,"hover",this.hover),e);return{default:ot(o2(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:ot(r2(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};wc.render=function(e,t,n,s,i,o){var r=on("HandlerWrapper");return w(),oe(r,{class:o.classes.wrapper,"vertical-position":n.verticalPosition,"horizontal-position":n.horizontalPosition,disabled:n.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:be((function(){return[se("div",{class:o.classes.default},null,2)]})),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var a2=fn("vue-simple-line"),l2=fn("vue-simple-line-wrapper"),xc={name:"SimpleLine",components:{LineWrapper:Tp},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:ot(a2(Gt({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:ot(l2(Gt({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};xc.render=function(e,t,n,s,i,o){var r=on("LineWrapper");return w(),oe(r,{class:o.classes.wrapper,position:n.position,disabled:n.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:be((function(){return[se("div",{class:o.classes.root},null,2)]})),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var Sc=fn("vue-bounding-box"),c2=["east","west",null],u2=["south","north",null],Lp={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return wc}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return xc}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return c2.forEach((function(t){u2.forEach((function(n){if(t!==n){var s=wp(t,n),i=s.name,o=s.classname;e.push({name:i,classname:o,verticalDirection:n,horizontalDirection:t})}}))})),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,n=this.linesClasses,s=this.linesWrappersClasses;return{root:Sc(),handlers:e,handlersWrappers:t,lines:n,linesWrappers:s}},lineNodes:function(){var e=this,t=[];return this.points.forEach((function(n){n.horizontalDirection&&n.verticalDirection||!e.lines[n.name]||t.push({name:n.name,component:e.linesComponent,class:ot(e.classes.lines.default,e.classes.lines[n.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:ot(e.classes.linesWrappers.default,e.classes.linesWrappers[n.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!e.resizable})})),t},handlerNodes:function(){var e=this,t=[],n=this.width,s=this.height;return this.points.forEach((function(i){if(e.handlers[i.name]){var o={name:i.name,component:e.handlersComponent,class:ot(e.classes.handlers.default,e.classes.handlers[i.name]),wrapperClass:ot(e.classes.handlersWrappers.default,e.classes.handlersWrappers[i.name]),hoverClass:e.classes.handlers.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.resizable};if(n&&s){var r=i.horizontalDirection,a=i.verticalDirection,l=r==="east"?n:r==="west"?0:n/2,c=a==="south"?s:a==="north"?0:s/2;o.wrapperClass=Sc("handler"),o.wrapperStyle={transform:"translate(".concat(l,"px, ").concat(c,"px)")},e.transitions&&e.transitions.enabled&&(o.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else o.wrapperClass=Sc("handler",Gt({},i.classname,!0));t.push(o)}})),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,n){var s,i=e.shift(),o=i.left,r=i.top,a={left:0,right:0,top:0,bottom:0};t==="west"?a.left-=o:t==="east"&&(a.right+=o),n==="north"?a.top-=r:n==="south"&&(a.bottom+=r),!n&&t?s="width":n&&!t&&(s="height"),this.resizable&&this.$emit("resize",new H1(a,{allowedDirections:{left:t==="west"||!t,right:t==="east"||!t,bottom:n==="south"||!n,top:n==="north"||!n},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:s}))}},emits:["resize","resize-end"]};Lp.render=function(e,t,n,s,i,o){return w(),oe("div",{ref:"box",class:o.classes.root,style:o.style},[Oe(e.$slots,"default"),se("div",null,[(w(!0),oe($e,null,Ve(o.lineNodes,(function(r){return w(),oe(rn(r.component),{key:r.name,"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,position:r.name,disabled:r.disabled,onDrag:function(a){return o.onHandlerDrag(a,r.horizontalDirection,r.verticalDirection)},onDragEnd:t[1]||(t[1]=function(a){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])})),128))]),(w(!0),oe($e,null,Ve(o.handlerNodes,(function(r){return w(),oe("div",{key:r.name,style:r.wrapperStyle,class:r.wrapperClass},[(w(),oe(rn(r.component),{"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,"horizontal-position":r.horizontalDirection,"vertical-position":r.verticalDirection,disabled:r.disabled,onDrag:function(a){return o.onHandlerDrag(a,r.horizontalDirection,r.verticalDirection)},onDragEnd:t[2]||(t[2]=function(a){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)})),128))],6)};var d2=fn("vue-draggable-area"),zp={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:d2()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&e.touches.length===1;t&&(this.touches=Ds(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):Ep({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&e.button===0){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),n=t.left,s=t.top;this.anchor={x:e.clientX-n,y:e.clientY-s}},processMove:function(e,t){var n=Ds(t);if(this.touches.length){var s=this.$refs.container.getBoundingClientRect(),i=s.left,o=s.top;this.touches.length===1&&n.length===1&&this.$emit("move",new mc({left:n[0].clientX-(i+this.anchor.x),top:n[0].clientY-(o+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};zp.render=function(e,t,n,s,i,o){return w(),oe("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)})},[Oe(e.$slots,"default")],544)};function $c(e){var t,n;return{rotate:e.rotate||0,flip:{horizontal:((t=e?.flip)===null||t===void 0?void 0:t.horizontal)||!1,vertical:((n=e?.flip)===null||n===void 0?void 0:n.vertical)||!1}}}function f2(e){return new Promise((function(t,n){try{if(e)if(/^data:/i.test(e))t((function(l){l=l.replace(/^data:([^;]+);base64,/gim,"");for(var c=atob(l),u=c.length,d=new ArrayBuffer(u),f=new Uint8Array(d),m=0;m<u;m++)f[m]=c.charCodeAt(m);return d})(e));else if(/^blob:/i.test(e)){var s=new FileReader;s.onload=function(l){t(l.target.result)},o=e,r=function(l){s.readAsArrayBuffer(l)},(a=new XMLHttpRequest).open("GET",o,!0),a.responseType="blob",a.onload=function(){this.status!=200&&this.status!==0||r(this.response)},a.send()}else{var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===4&&(i.status===200||i.status===0?t(i.response):n("Warning: could not load an image to parse its orientation"),i=null)},i.onprogress=function(){i.getResponseHeader("content-type")!=="image/jpeg"&&i.abort()},i.withCredentials=!1,i.open("GET",e,!0),i.responseType="arraybuffer",i.send(null)}else n("Error: the image is empty")}catch(l){n(l)}var o,r,a}))}function Bp(e){var t=e.rotate,n=e.flip,s=e.scaleX,i=e.scaleY,o="";return o+=" rotate("+t+"deg) ",o+=" scaleX("+s*(n.horizontal?-1:1)+") ",o+=" scaleY("+i*(n.vertical?-1:1)+") "}function h2(e){try{var t,n=new DataView(e),s=void 0,i=void 0,o=void 0,r=void 0;if(n.getUint8(0)===255&&n.getUint8(1)===216)for(var a=n.byteLength,l=2;l+1<a;){if(n.getUint8(l)===255&&n.getUint8(l+1)===225){o=l;break}l++}if(o&&(s=o+10,(function(m,g,_){var y,b="";for(y=g,_+=g;y<_;y++)b+=String.fromCharCode(m.getUint8(y));return b})(n,o+4,4)==="Exif")){var c=n.getUint16(s);if(((i=c===18761)||c===19789)&&n.getUint16(s+2,i)===42){var u=n.getUint32(s+4,i);u>=8&&(r=s+u)}}if(r){for(var d=n.getUint16(r,i),f=0;f<d;f++)if(l=r+12*f+2,n.getUint16(l,i)===274){l+=8,t=n.getUint16(l,i),n.setUint16(l,1,i);break}}return t}catch{return null}}function Hp(e,t){var n=t.getBoundingClientRect(),s=n.left,i=n.top,o={left:0,top:0},r=0;return e.forEach((function(a){o.left+=(a.clientX-s)/e.length,o.top+=(a.clientY-i)/e.length})),e.forEach((function(a){r+=Ep({x:o.left,y:o.top},{x:a.clientX-s,y:a.clientY-i})})),{centerMass:o,spread:r,count:e.length}}var Np={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=hc(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(this.touches.length===1&&t.length===1)this.$emit("move",new oo({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var n=Hp(t,this.$refs.container),s=this.oldGeometricProperties;s.count===n.count&&s.count>1&&this.$emit("resize",new oo({left:s.centerMass.left-n.centerMass.left,top:s.centerMass.top-n.centerMass.top},{factor:s.spread/n.spread,center:n.centerMass})),this.oldGeometricProperties=n}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?this.eventsFilter(e,this.transforming)!==!1:(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,n=t.getBoundingClientRect(),s=n.left,i=n.top,o=n.bottom,r=n.right;this.touches=Ds(e.touches).filter((function(a){return a.clientX>s&&a.clientX<r&&a.clientY>i&&a.clientY<o})),this.oldGeometricProperties=Hp(this.touches,t)}},onTouchEnd:function(e){e.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var n=Ds(e.touches).filter((function(s){return!s.identifier||t.touches.find((function(i){return i.identifier===s.identifier}))}));this.processEvent(e)&&(this.processMove(e,n),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&e.buttons===1&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),n=t.left,s=t.top,i=1+this.wheelResize.ratio*(r=e.deltaY||e.detail||e.wheelDelta,(a=+r)==0||Cp(a)?a:a>0?1:-1),o={left:e.clientX-n,top:e.clientY-s};this.$emit("resize",new oo({},{factor:i,center:o})),this.touches.length||this.debouncedProcessEnd()}var r,a}},emits:["resize","move","transform-end"]};Np.render=function(e,t,n,s,i,o){return w(),oe("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onWheel:t[3]||(t[3]=function(){return o.onWheel&&o.onWheel.apply(o,arguments)})},[Oe(e.$slots,"default")],544)};var Cc={components:{TransformableImage:Np},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};Cc.render=function(e,t,n,s,i,o){var r=on("transformable-image");return w(),oe(r,{"touch-move":n.touchMove,"touch-resize":n.touchResize,"mouse-move":n.mouseMove,"wheel-resize":n.wheelResize,onMove:t[1]||(t[1]=function(a){return e.$emit("move",a)}),onResize:t[2]||(t[2]=function(a){return e.$emit("resize",a)})},{default:be((function(){return[Oe(e.$slots,"default")]})),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var jr=fn("vue-preview"),jp={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:jr({fill:this.fill}),wrapper:jr("wrapper"),imageWrapper:jr("image-wrapper"),image:ot(jr("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=ze(ze({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),n=this.imageSize.width,s=this.imageSize.height,i=Rp({width:n,height:s},t.rotate),o={width:"".concat(n,"px"),height:"".concat(s,"px"),left:"0px",top:"0px"},r={rotate:{left:(n-i.width)*t.scaleX/2,top:(s-i.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*n/2,top:(1-t.scaleY)*s/2}};return o.transform=`translate(
				`.concat(-this.coordinates.left/e-r.rotate.left-r.scale.left,"px,").concat(-this.coordinates.top/e-r.rotate.top-r.scale.top,"px) ")+Bp(t),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",(function(){e.refreshImage()})),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}}};jp.render=function(e,t,n,s,i,o){return w(),oe("div",{ref:"root",class:o.classes.root,style:o.style},[se("div",{ref:"wrapper",class:o.classes.wrapper,style:o.wrapperStyle},[Ke(se("img",{ref:"image",src:n.image&&n.image.src,class:o.classes.image,style:o.imageStyle},null,14,["src"]),[[an,n.image&&n.image.src]])],6)],6)};var Up={components:{Preview:jp},inheritAttrs:!1};Up.render=function(e,t,n,s,i,o){var r=on("preview");return w(),oe(r,at(e.$attrs,{fill:!0}),null,16)};var Ec=fn("vue-rectangle-stencil"),Vp={name:"RectangleStencil",components:{StencilPreview:Up,BoundingBox:Lp,DraggableArea:zp},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return wc}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return xc}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:ot(Ec({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:ot(Ec("preview"),this.previewClass),boundingBox:ot(Ec("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,n=e.width,s=e.left,i=e.top,o={width:"".concat(n,"px"),height:"".concat(t,"px"),transform:"translate(".concat(s,"px, ").concat(i,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};Vp.render=function(e,t,n,s,i,o){var r=on("stencil-preview"),a=on("draggable-area"),l=on("bounding-box");return w(),oe("div",{class:o.classes.stencil,style:o.style},[se(l,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:o.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:o.onResize,onResizeEnd:o.onResizeEnd},{default:be((function(){return[se(a,{movable:n.movable,onMove:o.onMove,onMoveEnd:o.onMoveEnd},{default:be((function(){return[se(r,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:o.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]})),_:1},8,["movable","onMove","onMoveEnd"])]})),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var p2=["transitions"],Xn=fn("vue-advanced-cropper"),Wp={name:"Cropper",components:{BackgroundWrapper:Cc},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return Vp}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Cc}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return q1.indexOf(e)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!(typeof e=="string"&&e!=="fill"&&e!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,n=e.coordinates,s=e.aspectRatio,i=e.positionRestrictions,o=e.sizeRestrictions,r=Se(Se({},n),{right:n.left+n.width,bottom:n.top+n.height}),a=t.params||{},l=Se({},t.directions),c=a.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};o.widthFrozen&&(l.left=0,l.right=0),o.heightFrozen&&(l.top=0,l.bottom=0),An.forEach((function(S){c[S]||(l[S]=0)}));var u=kn(r,l=Dp({coordinates:r,directions:l,sizeRestrictions:o,positionRestrictions:i})).width,d=kn(r,l).height,f=a.preserveRatio?Be(r):_c(u/d,s);if(f){var m=a.respectDirection;if(m||(m=r.width>=r.height||f===1?"width":"height"),m==="width"){var g=u/f-r.height;if(c.top&&c.bottom){var _=l.top,y=l.bottom;l.bottom=Nr(g,y,_),l.top=Nr(g,_,y)}else c.bottom?l.bottom=g:c.top?l.top=g:c.right?l.right=0:c.left&&(l.left=0)}else if(m==="height"){var b=r.width-d*f;if(c.left&&c.right){var v=l.left,$=l.right;l.left=-Nr(b,v,$),l.right=-Nr(b,$,v)}else c.left?l.left=-b:c.right?l.right=-b:c.top?l.top=0:c.bottom&&(l.bottom=0)}l=Dp({directions:l,coordinates:r,sizeRestrictions:o,positionRestrictions:i,preserveRatio:!0,compensate:a.compensate})}return u=kn(r,l).width,d=kn(r,l).height,(f=a.preserveRatio?Be(r):_c(u/d,s))&&Math.abs(f-u/d)>.001&&An.forEach((function(S){c[S]||(l[S]=0)})),bc({event:new mc({left:-l.left,top:-l.top}),coordinates:{width:n.width+l.right+l.left,height:n.height+l.top+l.bottom,left:n.left,top:n.top},positionRestrictions:i})}},moveAlgorithm:{type:Function,default:bc},initStretcher:{type:Function,default:function(e){var t=e.stretcher,n=e.imageSize,s=Be(n);t.style.width=n.width+"px",t.style.height=t.clientWidth/s+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,n=e.coordinates,s=e.aspectRatio,i=e.sizeRestrictions,o=e.positionRestrictions,r=Se(Se({},n),Qn({width:n.width,height:n.height,aspectRatio:s,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,i.minHeight),minWidth:Math.min(t.width,i.minWidth)}}));return r=ft(r=Rt(r,ri(dt(n),dt(r))),Br(Tn(t),o))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,n=e.boundaries,s=e.getAreaRestrictions,i=e.coordinates,o=Se({},t);o.height=o.width/Be(n),o.top+=(t.height-o.height)/2,(i.height-o.height>0||i.width-o.width>0)&&(o=Qt(o,Math.max(i.height/o.height,i.width/o.width)));var r=Lr(li(i,Tn(o=Qt(o,zr(o,s({visibleArea:o,type:"resize"}))))));return o.width<i.width&&(r.left=0),o.height<i.height&&(r.top=0),o=ft(o=Rt(o,r),s({visibleArea:o,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,n=e.boundaries,s=e.imageSize,i=e.imageRestriction,o=e.type,r={};return i==="fill-area"?r={left:0,top:0,right:s.width,bottom:s.height}:i==="fit-area"&&(Be(n)>Be(s)?(r={top:0,bottom:s.height},t&&o==="move"&&(t.width>s.width?(r.left=-(t.width-s.width)/2,r.right=s.width-r.left):(r.left=0,r.right=s.width))):(r={left:0,right:s.width},t&&o==="move"&&(t.height>s.height?(r.top=-(t.height-s.height)/2,r.bottom=s.height-r.top):(r.top=0,r.bottom=s.height)))),r}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,n={};return e.imageRestriction!=="none"&&(n={left:0,top:0,right:t.width,bottom:t.height}),n}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:ze({},kp)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=(function(t){return t*Math.PI/180})(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var e=pc(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:pc(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:lt(this.minWidth)?0:Dr(this.minWidth),minHeight:lt(this.minHeight)?0:Dr(this.minHeight),maxWidth:lt(this.maxWidth)?1/0:Dr(this.maxWidth),maxHeight:lt(this.maxHeight)?1/0:Dr(this.maxHeight)});if(e=(function(s){var i=s.areaRestrictions,o=s.sizeRestrictions,r=s.boundaries,a=s.positionRestrictions,l=Se(Se({},o),{minWidth:o.minWidth!==void 0?o.minWidth:0,minHeight:o.minHeight!==void 0?o.minHeight:0,maxWidth:o.maxWidth!==void 0?o.maxWidth:1/0,maxHeight:o.maxHeight!==void 0?o.maxHeight:1/0});a.left!==void 0&&a.right!==void 0&&(l.maxWidth=Math.min(l.maxWidth,a.right-a.left)),a.bottom!==void 0&&a.top!==void 0&&(l.maxHeight=Math.min(l.maxHeight,a.bottom-a.top));var c=yc(i),u=Fp(r,c);return c.width<1/0&&(!l.maxWidth||l.maxWidth>u.width)&&(l.maxWidth=Math.min(l.maxWidth,u.width)),c.height<1/0&&(!l.maxHeight||l.maxHeight>u.height)&&(l.maxHeight=Math.min(l.maxHeight,u.height)),l.minWidth>l.maxWidth&&(l.minWidth=l.maxWidth,l.widthFrozen=!0),l.minHeight>l.maxHeight&&(l.minHeight=l.maxHeight,l.heightFrozen=!0),l})({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),n=yc(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,n.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,n.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:Xn(),image:ot(Xn("image"),this.imageClass),stencil:Xn("stencil"),boundaries:ot(Xn("boundaries"),this.boundariesClass),stretcher:ot(Xn("stretcher")),background:ot(Xn("background"),this.backgroundClass),foreground:ot(Xn("foreground"),this.foregroundClass),imageWrapper:ot(Xn("image-wrapper")),cropperWrapper:ot(Xn("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,n=e.height,s=e.left,i=e.top;return{width:t/this.coefficient,height:n/this.coefficient,left:(s-this.visibleArea.left)/this.coefficient,top:(i-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t={left:(e.width-this.imageSize.width)/(2*this.coefficient),top:(e.height-this.imageSize.height)/(2*this.coefficient)},n={left:(1-1/this.coefficient)*e.width/2,top:(1-1/this.coefficient)*e.height/2},s=ze(ze({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),i={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t.left-n.left-this.imageTransforms.translateX,"px, ").concat(-t.top-n.top-this.imageTransforms.translateY,"px)")+Bp(s)};return this.transitionsOptions.enabled&&(i.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),i}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick((function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()}))},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find((function(n){return e[n]!==t[n]}))&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=hc(this.update,this.debounce),this.debouncedDisableTransitions=hc(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(ze({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:ze({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?ze({},this.visibleArea):null,imageTransforms:t,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?ze({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;this.onManipulateImage(new oo({},{factor:1/e,center:t}),{normalize:!1,transitions:i})},move:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;this.onManipulateImage(new oo({left:e||0,top:t||0}),{normalize:!1,transitions:i})},setCoordinates:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.autoZoom,i=s===void 0||s,o=n.transitions,r=o===void 0||o;this.$nextTick((function(){t.imageLoaded?(t.transitionsActive||(r&&t.enableTransitions(),t.coordinates=t.applyTransform(e),i&&t.runAutoZoom("setCoordinates"),r&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e}))},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then((function(){e.onChange()})):this.resetVisibleArea().then((function(){e.onChange()}))},reset:function(){var e=this;return this.resetVisibleArea().then((function(){e.onChange(!1)}))},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick((function(){e(),t.awaiting=!1})))},prepareResult:function(e){return this.roundResult?(function(t){var n=t.coordinates,s=t.sizeRestrictions,i=t.positionRestrictions,o={width:Math.round(n.width),height:Math.round(n.height),left:Math.round(n.left),top:Math.round(n.top)};return o.width>s.maxWidth?o.width=Math.floor(n.width):o.width<s.minWidth&&(o.width=Math.ceil(n.width)),o.height>s.maxHeight?o.height=Math.floor(n.height):o.height<s.minHeight&&(o.height=Math.ceil(n.height)),ft(o,i)})(ze(ze({},this.getPublicProperties()),{},{positionRestrictions:Hr(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,n,s){var i=this.autoZoomAlgorithm;i||(i=this.stencilSize?G1:this.autoZoom?Q1:X1);var o=i({event:{type:e,params:s},visibleArea:t,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return ze(ze({},o),{},{changed:!Mp(o.visibleArea,t)||!Mp(o.coordinates,n)})},runAutoZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.transitions,s=n!==void 0&&n,i=z1(t,p2),o=this.processAutoZoom(e,this.visibleArea,this.coordinates,i),r=o.visibleArea,a=o.coordinates,l=o.changed;s&&l&&this.enableTransitions(),this.visibleArea=r,this.coordinates=a,s&&l&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return(function(t){var n=t.event,s=t.visibleArea,i=t.coefficient;if(n.type==="manipulateImage")return Se(Se({},n),{move:{left:n.move&&n.move.left?i*n.move.left:0,top:n.move&&n.move.top?i*n.move.top:0},scale:{factor:n.scale&&n.scale.factor?n.scale.factor:1,center:n.scale&&n.scale.center?{left:n.scale.center.left*i+s.left,top:n.scale.center.top*i+s.top}:null}});if(n.type==="resize"){var o=Se(Se({},n),{directions:Se({},n.directions)});return An.forEach((function(a){o.directions[a]*=i})),o}if(n.type==="move"){var r=Se(Se({},n),{directions:Se({},n.directions)});return W1.forEach((function(a){r.directions[a]*=i})),r}return n})(ze(ze({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,n=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?(function(a,l,c){var u=c.rotate,d=c.flip,f={width:l.naturalWidth,height:l.naturalHeight},m=Rp(f,u),g=a.getContext("2d");a.height=m.height,a.width=m.width,g.save();var _=hs(dt(Se({left:0,top:0},f)),u);return g.translate(-(_.left-m.width/2),-(_.top-m.height/2)),g.rotate(u*Math.PI/180),g.translate(d.horizontal?f.width:0,d.vertical?f.height:0),g.scale(d.horizontal?-1:1,d.vertical?-1:1),g.drawImage(l,0,0,f.width,f.height),g.restore(),a})(this.$refs.sourceCanvas,t,this.imageTransforms):t,s=ze({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),i=function(a){return a.find((function(l){return c=l,!Number.isNaN(parseFloat(c))&&isFinite(c);var c}))},o=Qn({sizeRestrictions:{minWidth:i([s.width,s.minWidth])||0,minHeight:i([s.height,s.minHeight])||0,maxWidth:i([s.width,s.maxWidth])||1/0,maxHeight:i([s.height,s.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(s.maxArea&&o.width*o.height>s.maxArea){var r=Math.sqrt(s.maxArea/(o.width*o.height));o={width:Math.round(r*o.width),height:Math.round(r*o.height)}}return(function(a,l,c,u,d){a.width=u?u.width:c.width,a.height=u?u.height:c.height;var f=a.getContext("2d");f.clearRect(0,0,a.width,a.height),d&&(d.imageSmoothingEnabled&&(f.imageSmoothingEnabled=d.imageSmoothingEnabled),d.imageSmoothingQuality&&(f.imageSmoothingQuality=d.imageSmoothingQuality),d.fillColor&&(f.fillStyle=d.fillColor,f.fillRect(0,0,a.width,a.height),f.save()));var m=c.left<0?-c.left:0,g=c.top<0?-c.top:0;f.drawImage(l,c.left+m,c.top+g,c.width,c.height,m*(a.width/c.width),g*(a.height/c.height),a.width,a.height)})(e,n,this.coordinates,o,s),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.visibleArea&&t?K1(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,s=this.visibleArea&&t?Hr(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return Y1({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:n,positionRestrictions:s,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?e2:Z1);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var s=oi(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,i=this.defaultPosition||J1,o=[s,function(r){var a=r.coordinates;return ze({},oi(i)?i({coordinates:a,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&o.push.apply(o,Ds(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(o,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout((function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}}),this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,n=this.$refs.cropper;return this.initStretcher({cropper:n,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then((function(){var s={cropper:n,imageSize:e.imageSize};if(oi(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(s):e.defaultBoundaries==="fit"?e.boundaries=(function(i){var o=i.cropper,r=i.imageSize,a=o.clientHeight,l=o.clientWidth,c=a,u=r.width*a/r.height;return u>l&&(u=l,c=r.height*l/r.width),{width:u,height:c}})(s):e.boundaries=(function(i){var o=i.cropper;return{width:o.clientWidth,height:o.clientHeight}})(s),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")}))},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=ze(ze({},this.defaultImageTransforms),{},{flip:ze({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then((function(){e.priority!=="visible-area"&&(e.visibleArea=null,e.resetCoordinates());var t,n,s,i,o,r,a=e.defaultVisibleArea||t2;e.visibleArea=oi(a)?a({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:e.priority!=="visible-area"?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions},n=t.visibleArea,s=t.boundaries,i=t.getAreaRestrictions,o=Se({},n),r=Be(s),o.width/o.height!==r&&(o.height=o.width/r),ft(o,i({visibleArea:o,type:"move"}))),e.priority==="visible-area"?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")})).catch((function(){e.visibleArea=null}))},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then((function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")})).catch((function(){e.visibleArea=null}))},onChange:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];e&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if((function(i){if(Sp(i))return!1;var o=window.location,r=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(i)||[],a={protocol:r[1]||"",host:r[2]||"",port:r[3]||""},l=function(c){return c.port||((c.protocol||o.protocol)==="http"?80:433)};return!(!a.protocol&&!a.host&&!a.port||a.protocol&&a.protocol==o.protocol&&a.host&&a.host==o.host&&a.host&&l(a)==l(o))})(this.src)){var n=lt(this.crossOrigin)?this.canvas:this.crossOrigin;n===!0&&(n="anonymous"),this.imageAttributes.crossOrigin=n||null}if(this.checkOrientation){var s=(e=this.src,new Promise((function(i){f2(e).then((function(o){var r=h2(o);i(o?{source:e,arrayBuffer:o,orientation:r}:{source:e,arrayBuffer:null,orientation:null})})).catch((function(o){console.warn(o),i({source:e,arrayBuffer:null,orientation:null})}))})));setTimeout((function(){s.then(t.onParseImage)}),this.transitionTime)}else setTimeout((function(){t.onParseImage({source:t.src})}),this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then((function(){e.$emit("ready"),e.onChange(!1)})))},onParseImage:function(e){var t=this,n=e.source,s=e.arrayBuffer,i=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,s&&i&&i>1?xp(n)||!Sp(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([s])),this.imageAttributes.revoke=!0):this.imageAttributes.src=(function(o){for(var r=[],a=new Uint8Array(o);a.length>0;){var l=a.subarray(0,8192);r.push(String.fromCharCode.apply(null,Array.from?Array.from(l):l.slice())),a=a.subarray(8192)}return"data:image/jpeg;base64,"+btoa(r.join(""))})(s):this.imageAttributes.src=n,oi(this.defaultTransforms)?this.appliedImageTransforms=$c(this.defaultTransforms()):Ir(this.defaultTransforms)?this.appliedImageTransforms=$c(this.defaultTransforms):this.appliedImageTransforms=(function(o){var r=$c({});if(o)switch(o){case 2:r.flip.horizontal=!0;break;case 3:r.rotate=-180;break;case 4:r.flip.vertical=!0;break;case 5:r.rotate=90,r.flip.vertical=!0;break;case 6:r.rotate=90;break;case 7:r.rotate=90,r.flip.horizontal=!0;break;case 8:r.rotate=-90}return r})(i),this.defaultImageTransforms=ze(ze({},this.appliedImageTransforms),{},{flip:ze({},this.appliedImageTransforms.flip)}),this.$nextTick((function(){var o=t.$refs.image;o&&o.complete&&((function(r){return!!r.naturalWidth})(o)?t.onSuccessLoadImage():t.onFailLoadImage())}))},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender((function(){t.coordinates=t.moveAlgorithm(ze(ze({},t.getPublicProperties()),{},{positionRestrictions:Hr(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()}))},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender((function(){var n=t.sizeRestrictions,s=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(ze(ze({},t.getPublicProperties()),{},{positionRestrictions:Hr(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,t.visibleArea.width),maxHeight:Math.min(n.maxHeight,t.visibleArea.height),minWidth:Math.max(n.minWidth,s),minHeight:Math.max(n.minHeight,s)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1}))},onManipulateImage:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=t.transitions,s=n!==void 0&&n,i=t.normalize,o=i===void 0||i;s&&this.enableTransitions();var r=n2(ze(ze({},this.getPublicProperties()),{},{event:o?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),a=r.visibleArea,l=r.coordinates;this.visibleArea=a,this.coordinates=l,this.runAutoZoom("manipulateImage"),this.onChange(),s&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.visibleArea,n=e.type,s=n===void 0?"move":n;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:s})},getAspectRatio:function(e){var t,n,s=this.stencilProps,i=s.aspectRatio,o=s.minAspectRatio,r=s.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var a=this.$refs.stencil.aspectRatios();t=a.minimum,n=a.maximum}if(lt(t)&&(t=lt(i)?o:i),lt(n)&&(n=lt(i)?r:i),!e&&(lt(t)||lt(n))){var l=this.getStencilSize(),c=l?Be(l):null;lt(t)&&(t=$p(c)?c:void 0),lt(n)&&(n=$p(c)?c:void 0)}return{minimum:t,maximum:n}},getStencilSize:function(){if(this.stencilSize)return e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},t=e.boundaries,n=e.stencilSize,s=e.aspectRatio,_c(Be(i=oi(n)?n({boundaries:t,aspectRatio:s}):n),s)&&(i=Qn({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:i.width,height:i.height,aspectRatio:{minimum:s.minimum,maximum:s.maximum}})),(i.width>t.width||i.height>t.height)&&(i=Qn({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:i.width,height:i.height,aspectRatio:{minimum:Be(i),maximum:Be(i)}})),i;var e,t,n,s,i},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return ze({},kp)},flip:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;if(!this.transitionsActive){i&&this.enableTransitions();var o=ze({},this.imageTransforms.flip),r=i2({flip:{horizontal:e?!o.horizontal:o.horizontal,vertical:t?!o.vertical:o.vertical},previousFlip:o,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=r.visibleArea,l=r.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=a,this.coordinates=l,this.onChange(),i&&this.debouncedDisableTransitions()}},rotate:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.transitions,s=n===void 0||n;if(!this.transitionsActive){s&&this.enableTransitions();var i=ze({},this.imageSize);this.appliedImageTransforms.rotate+=e;var o=s2({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:i,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),r=o.visibleArea,a=o.coordinates,l=this.processAutoZoom("rotateImage",r,a);r=l.visibleArea,a=l.coordinates,this.visibleArea=r,this.coordinates=a,this.onChange(),s&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},m2={key:0,ref:"canvas",style:{display:"none"}},v2={key:1,ref:"sourceCanvas",style:{display:"none"}};Wp.render=function(e,t,n,s,i,o){return w(),oe("div",{ref:"cropper",class:o.classes.cropper},[se("div",{ref:"stretcher",class:o.classes.stretcher},null,2),se("div",{class:o.classes.boundaries,style:o.boundariesStyle},[(w(),oe(rn(n.backgroundWrapperComponent),{class:o.classes.cropperWrapper,"wheel-resize":o.settings.resizeImage.wheel,"touch-resize":o.settings.resizeImage.touch,"touch-move":o.settings.moveImage.touch,"mouse-move":o.settings.moveImage.mouse,onMove:o.onManipulateImage,onResize:o.onManipulateImage},{default:be((function(){return[se("div",{class:o.classes.background,style:o.boundariesStyle},null,6),se("div",{class:o.classes.imageWrapper},[se("img",{ref:"image",crossorigin:i.imageAttributes.crossOrigin,src:i.imageAttributes.src,class:o.classes.image,style:o.imageStyle,onMousedown:t[1]||(t[1]=Pe((function(){}),["prevent"]))},null,46,["crossorigin","src"])],2),se("div",{class:o.classes.foreground,style:o.boundariesStyle},null,6),Ke((w(),oe(rn(n.stencilComponent),at({ref:"stencil",image:o.image,coordinates:i.coordinates,"stencil-coordinates":o.stencilCoordinates,transitions:o.transitionsOptions},n.stencilProps,{onResize:o.onResize,onResizeEnd:o.onResizeEnd,onMove:o.onMove,onMoveEnd:o.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[an,i.imageLoaded]]),n.canvas?(w(),oe("canvas",m2,null,512)):re("",!0),n.canvas?(w(),oe("canvas",v2,null,512)):re("",!0)]})),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const ps=typeof window<"u",qp=ps&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),Kp=ps&&window.devicePixelRatio>1,g2={elements_selector:".lazy",container:qp||ps?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},Yp=e=>Object.assign({},g2,e),Gp=function(e,t){let n;const s="LazyLoad::Initialized",i=new e(t);try{n=new CustomEvent(s,{detail:{instance:i}})}catch{n=document.createEvent("CustomEvent"),n.initCustomEvent(s,!1,!1,{instance:i})}window.dispatchEvent(n)},_2=(e,t)=>{if(t)if(t.length)for(let n,s=0;n=t[s];s+=1)Gp(e,n);else Gp(e,t)},Jn="src",Ac="srcset",Tc="sizes",Qp="poster",ao="llOriginalAttrs",Xp="data",kc="loading",Jp="loaded",Zp="applied",y2="entered",Mc="error",em="native",tm="data-",nm="ll-status",Ot=(e,t)=>e.getAttribute(tm+t),b2=(e,t,n)=>{const s=tm+t;n!==null?e.setAttribute(s,n):e.removeAttribute(s)},lo=e=>Ot(e,nm),Ls=(e,t)=>b2(e,nm,t),Ur=e=>Ls(e,null),Fc=e=>lo(e)===null,w2=e=>lo(e)===kc,x2=e=>lo(e)===Mc,Rc=e=>lo(e)===em,S2=[kc,Jp,Zp,Mc],$2=e=>S2.indexOf(lo(e))>=0,ms=(e,t,n,s)=>{e&&typeof e=="function"&&(s===void 0?n===void 0?e(t):e(t,n):e(t,n,s))},ci=(e,t)=>{ps&&t!==""&&e.classList.add(t)},Mn=(e,t)=>{ps&&t!==""&&e.classList.remove(t)},C2=e=>{e.llTempImage=document.createElement("IMG")},E2=e=>{delete e.llTempImage},sm=e=>e.llTempImage,Vr=(e,t)=>{if(!t)return;const n=t._observer;n&&n.unobserve(e)},A2=e=>{e.disconnect()},T2=(e,t,n)=>{t.unobserve_entered&&Vr(e,n)},Oc=(e,t)=>{e&&(e.loadingCount+=t)},k2=e=>{e&&(e.toLoadCount-=1)},im=(e,t)=>{e&&(e.toLoadCount=t)},M2=e=>e.loadingCount>0,F2=e=>e.toLoadCount>0,om=e=>{let t=[];for(let n,s=0;n=e.children[s];s+=1)n.tagName==="SOURCE"&&t.push(n);return t},Pc=(e,t)=>{const n=e.parentNode;n&&n.tagName==="PICTURE"&&om(n).forEach(t)},rm=(e,t)=>{om(e).forEach(t)},Wr=[Jn],am=[Jn,Qp],co=[Jn,Ac,Tc],lm=[Xp],qr=e=>!!e[ao],cm=e=>e[ao],um=e=>delete e[ao],ui=(e,t)=>{if(qr(e))return;const n={};t.forEach((s=>{n[s]=e.getAttribute(s)})),e[ao]=n},R2=e=>{qr(e)||(e[ao]={backgroundImage:e.style.backgroundImage})},zs=(e,t)=>{if(!qr(e))return;const n=cm(e);t.forEach((s=>{((i,o,r)=>{r?i.setAttribute(o,r):i.removeAttribute(o)})(e,s,n[s])}))},O2=e=>{if(!qr(e))return;const t=cm(e);e.style.backgroundImage=t.backgroundImage},dm=(e,t,n)=>{ci(e,t.class_applied),Ls(e,Zp),n&&(t.unobserve_completed&&Vr(e,t),ms(t.callback_applied,e,n))},fm=(e,t,n)=>{ci(e,t.class_loading),Ls(e,kc),n&&(Oc(n,1),ms(t.callback_loading,e,n))},vs=(e,t,n)=>{n&&e.setAttribute(t,n)},hm=(e,t)=>{vs(e,Tc,Ot(e,t.data_sizes)),vs(e,Ac,Ot(e,t.data_srcset)),vs(e,Jn,Ot(e,t.data_src))},P2=(e,t)=>{Pc(e,(n=>{ui(n,co),hm(n,t)})),ui(e,co),hm(e,t)},I2=(e,t)=>{ui(e,Wr),vs(e,Jn,Ot(e,t.data_src))},D2=(e,t)=>{rm(e,(n=>{ui(n,Wr),vs(n,Jn,Ot(n,t.data_src))})),ui(e,am),vs(e,Qp,Ot(e,t.data_poster)),vs(e,Jn,Ot(e,t.data_src)),e.load()},L2=(e,t)=>{ui(e,lm),vs(e,Xp,Ot(e,t.data_src))},z2=(e,t,n)=>{const s=Ot(e,t.data_bg),i=Ot(e,t.data_bg_hidpi),o=Kp&&i?i:s;o&&(e.style.backgroundImage=`url("${o}")`,sm(e).setAttribute(Jn,o),fm(e,t,n))},B2=(e,t,n)=>{const s=Ot(e,t.data_bg_multi),i=Ot(e,t.data_bg_multi_hidpi),o=Kp&&i?i:s;o&&(e.style.backgroundImage=o,dm(e,t,n))},H2=(e,t,n)=>{const s=Ot(e,t.data_bg_set);if(!s)return;let i=s.split("|").map((o=>`image-set(${o})`));e.style.backgroundImage=i.join(),dm(e,t,n)},pm={IMG:P2,IFRAME:I2,VIDEO:D2,OBJECT:L2},N2=(e,t)=>{const n=pm[e.tagName];n&&n(e,t)},j2=(e,t,n)=>{const s=pm[e.tagName];s&&(s(e,t),fm(e,t,n))},U2=["IMG","IFRAME","VIDEO","OBJECT"],V2=e=>U2.indexOf(e.tagName)>-1,mm=(e,t)=>{!t||M2(t)||F2(t)||ms(e.callback_finish,t)},vm=(e,t,n)=>{e.addEventListener(t,n),e.llEvLisnrs[t]=n},W2=(e,t,n)=>{e.removeEventListener(t,n)},Ic=e=>!!e.llEvLisnrs,q2=(e,t,n)=>{Ic(e)||(e.llEvLisnrs={});const s=e.tagName==="VIDEO"?"loadeddata":"load";vm(e,s,t),vm(e,"error",n)},Dc=e=>{if(!Ic(e))return;const t=e.llEvLisnrs;for(let n in t){const s=t[n];W2(e,n,s)}delete e.llEvLisnrs},gm=(e,t,n)=>{E2(e),Oc(n,-1),k2(n),Mn(e,t.class_loading),t.unobserve_completed&&Vr(e,n)},K2=(e,t,n,s)=>{const i=Rc(t);gm(t,n,s),ci(t,n.class_loaded),Ls(t,Jp),ms(n.callback_loaded,t,s),i||mm(n,s)},Y2=(e,t,n,s)=>{const i=Rc(t);gm(t,n,s),ci(t,n.class_error),Ls(t,Mc),ms(n.callback_error,t,s),n.restore_on_error&&zs(t,co),i||mm(n,s)},Lc=(e,t,n)=>{const s=sm(e)||e;Ic(s)||q2(s,(i=>{K2(0,e,t,n),Dc(s)}),(i=>{Y2(0,e,t,n),Dc(s)}))},zc=(e,t,n)=>{V2(e)?((s,i,o)=>{Lc(s,i,o),j2(s,i,o)})(e,t,n):((s,i,o)=>{C2(s),Lc(s,i,o),R2(s),z2(s,i,o),B2(s,i,o),H2(s,i,o)})(e,t,n)},G2=(e,t,n)=>{e.setAttribute("loading","lazy"),Lc(e,t,n),N2(e,t),Ls(e,em)},_m=e=>{e.removeAttribute(Jn),e.removeAttribute(Ac),e.removeAttribute(Tc)},Q2=e=>{Pc(e,(t=>{_m(t)})),_m(e)},ym=e=>{Pc(e,(t=>{zs(t,co)})),zs(e,co)},X2=e=>{rm(e,(t=>{zs(t,Wr)})),zs(e,am),e.load()},J2=e=>{zs(e,Wr)},Z2=e=>{zs(e,lm)},ex={IMG:ym,IFRAME:J2,VIDEO:X2,OBJECT:Z2},tx=(e,t)=>{(n=>{const s=ex[n.tagName];s?s(n):O2(n)})(e),((n,s)=>{Fc(n)||Rc(n)||(Mn(n,s.class_entered),Mn(n,s.class_exited),Mn(n,s.class_applied),Mn(n,s.class_loading),Mn(n,s.class_loaded),Mn(n,s.class_error))})(e,t),Ur(e),um(e)},nx=(e,t,n,s)=>{n.cancel_on_exit&&w2(e)&&e.tagName==="IMG"&&(Dc(e),Q2(e),ym(e),Mn(e,n.class_loading),Oc(s,-1),Ur(e),ms(n.callback_cancel,e,t,s))},sx=(e,t,n,s)=>{const i=$2(e);Ls(e,y2),ci(e,n.class_entered),Mn(e,n.class_exited),T2(e,n,s),ms(n.callback_enter,e,t,s),i||zc(e,n,s)},ix=(e,t,n,s)=>{Fc(e)||(ci(e,n.class_exited),nx(e,t,n,s),ms(n.callback_exit,e,t,s))},ox=["IMG","IFRAME","VIDEO"],bm=e=>e.use_native&&"loading"in HTMLImageElement.prototype,rx=(e,t,n)=>{e.forEach((s=>{ox.indexOf(s.tagName)!==-1&&G2(s,t,n)})),im(n,0)},ax=e=>e.isIntersecting||e.intersectionRatio>0,lx=(e,t)=>{t.forEach((n=>{e.observe(n)}))},cx=(e,t)=>{A2(e),lx(e,t)},ux=(e,t)=>{bm(e)||(t._observer=new IntersectionObserver((n=>{((s,i,o)=>{s.forEach((r=>ax(r)?sx(r.target,r,i,o):ix(r.target,r,i,o)))})(n,e,t)}),(n=>({root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"}))(e)))},wm=e=>Array.prototype.slice.call(e),Kr=e=>e.container.querySelectorAll(e.elements_selector),dx=e=>wm(e).filter(Fc),fx=e=>x2(e),hx=e=>wm(e).filter(fx),xm=(e,t)=>dx(e||Kr(t)),px=(e,t)=>{hx(Kr(e)).forEach((n=>{Mn(n,e.class_error),Ur(n)})),t.update()},mx=(e,t)=>{ps&&(t._onlineHandler=()=>{px(e,t)},window.addEventListener("online",t._onlineHandler))},vx=e=>{ps&&window.removeEventListener("online",e._onlineHandler)},di=function(e,t){const n=Yp(e);this._settings=n,this.loadingCount=0,ux(n,this),mx(n,this),this.update(t)};di.prototype={update:function(e){const t=this._settings,n=xm(e,t);im(this,n.length),qp?this.loadAll(n):bm(t)?rx(n,t,this):cx(this._observer,n)},destroy:function(){this._observer&&this._observer.disconnect(),vx(this),Kr(this._settings).forEach((e=>{um(e)})),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){const t=this._settings;xm(e,t).forEach((n=>{Vr(n,this),zc(n,t,this)}))},restoreAll:function(){const e=this._settings;Kr(e).forEach((t=>{tx(t,e)}))}},di.load=(e,t)=>{const n=Yp(t);zc(e,n)},di.resetStatus=e=>{Ur(e)},ps&&_2(di,window.lazyLoadOptions);const gx={class:"vuefinder__image-preview"},_x={class:"vuefinder__image-preview__header"},yx=["title"],bx={class:"vuefinder__image-preview__actions"},wx={class:"vuefinder__image-preview__image-container"},xx=["src"],Sx=xe({name:"ImagePreview",__name:"Image",emits:["success"],setup(e,{emit:t}){const n=t,s=Ce(),{enabled:i}=dn(),{t:o}=s.i18n,r=Q(!1),a=Q(s.modal.data.item.previewUrl??s.adapter.getPreviewUrl({path:s.modal.data.item.path})),l=Q(a.value),{addExternalFiles:c,upload:u,queue:d}=_p(s.customUploader),f=s.fs,m=we(f.path),g=ei("cropperRef"),_=async()=>{r.value=!r.value,s.modal.setEditMode(r.value)},y=async()=>{const v=g.value?.getResult({size:{width:795,height:341},fillColor:"#ffffff"})?.canvas;if(!v)return;let $=v;if(v.width>1200||v.height>1200){const H=Math.min(1200/v.width,1200/v.height),z=document.createElement("canvas");z.width=Math.floor(v.width*H),z.height=Math.floor(v.height*H);const C=z.getContext("2d");C&&(C.drawImage(v,0,0,z.width,z.height),$=z)}const S=s.modal.data.item.basename,E=S.split(".").pop()?.toLowerCase()||"jpg",F=E==="png"?"image/png":E==="gif"?"image/gif":"image/jpeg",P=await new Promise(H=>{$.toBlob(z=>H(z),F)});if(!P){Ue.error(o("Failed to save image"));return}try{const H=new File([P],S,{type:F}),C=s.modal.data.item.path.split("/");C.pop();const O={path:C.join("/")||(m.value?.path??"")};c([H]),await new Promise(V=>setTimeout(V,100));const R=d.value.find(V=>V.name===H.name);if(!R)throw new Error("File was not added to upload queue");u(O);let K=0;for(;K<150;){await new Promise(U=>setTimeout(U,200));const V=d.value.find(U=>U.id===R.id);if(V?.status===it.DONE)break;if(V?.status===it.ERROR)throw new Error(V.statusName||"Upload failed");K++}Ue.success(o("Updated.")),await fetch(a.value,{cache:"reload",mode:"no-cors"});const ee=s.root?.querySelector?.('[data-src="'+a.value+'"]');ee&&ee instanceof HTMLElement&&di.resetStatus(ee),s.emitter.emit("vf-refresh-thumbnails"),await _(),n("success")}catch(H){Ue.error(Ft(H,o("Failed to save image")))}};return Le(()=>{n("success")}),(b,v)=>(w(),k("div",gx,[p("div",_x,[p("h3",{id:"modal-title",class:"vuefinder__image-preview__title",title:h(s).modal.data.item.path},B(h(s).modal.data.item.basename),9,yx),p("div",bx,[r.value?(w(),k("button",{key:0,class:"vuefinder__image-preview__crop-button",onClick:y},B(h(o)("Crop")),1)):re("",!0),h(i)("edit")?(w(),k("button",{key:1,class:"vuefinder__image-preview__edit-button",onClick:v[0]||(v[0]=$=>_())},B(r.value?h(o)("Cancel"):h(o)("Edit")),1)):re("",!0)])]),p("div",wx,[r.value?(w(),oe(h(Wp),{key:1,ref_key:"cropperRef",ref:g,class:"h-full w-full",crossorigin:"anonymous",src:l.value,"auto-zoom":!0,priority:"image",transitions:!0},null,8,["src"])):(w(),k("img",{key:0,style:{},src:h(s).modal.data.item.previewUrl??h(s).adapter.getPreviewUrl({path:h(s).modal.data.item.path}),class:"vuefinder__image-preview__image h-full w-full"},null,8,xx))])]))}}),$x={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function Cx(e,t){return w(),k("svg",$x,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 0 0 2-2V9.414a1 1 0 0 0-.293-.707l-5.414-5.414A1 1 0 0 0 12.586 3H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2"},null,-1)])])}const uo={render:Cx},Ex={class:"vuefinder__default-preview"},Ax={class:"vuefinder__default-preview__content"},Tx={class:"vuefinder__default-preview__header"},kx=["title"],Mx={class:"vuefinder__default-preview__icon-container"},Fx=["title"],Rx=xe({__name:"Default",emits:["success"],setup(e,{emit:t}){const n=Ce(),s=t;return Le(()=>{s("success")}),(i,o)=>(w(),k("div",Ex,[p("div",Ax,[p("div",Tx,[p("h3",{id:"modal-title",class:"vuefinder__default-preview__title",title:h(n).modal.data.item.path},B(h(n).modal.data.item.basename),9,kx)]),p("div",Mx,[se(h(uo),{class:"vuefinder__default-preview__file-icon"}),p("div",{id:"modal-title",class:"vuefinder__default-preview__file-name",title:h(n).modal.data.item.path},B(h(n).modal.data.item.basename),9,Fx)])])]))}}),Ox={class:"vuefinder__video-preview"},Px=["title"],Ix={class:"vuefinder__video-preview__video",preload:"metadata",controls:""},Dx=["src"],Lx=xe({__name:"Video",emits:["success"],setup(e,{emit:t}){const n=Ce(),s=t,i=()=>n.adapter.getPreviewUrl({path:n.modal.data.item.path});return Le(()=>{s("success")}),(o,r)=>(w(),k("div",Ox,[p("h3",{id:"modal-title",class:"vuefinder__video-preview__title",title:h(n).modal.data.item.path},B(h(n).modal.data.item.basename),9,Px),p("div",null,[p("video",Ix,[p("source",{src:i(),type:"video/mp4"},null,8,Dx),r[0]||(r[0]=je(" Your browser does not support the video tag. ",-1))])])]))}}),zx={class:"vuefinder__audio-preview"},Bx=["title"],Hx={class:"vuefinder__audio-preview__audio",controls:""},Nx=["src"],jx=xe({__name:"Audio",emits:["success"],setup(e,{emit:t}){const n=t,s=Ce(),i=()=>{const o=Ce();return o.adapter.getPreviewUrl({path:o.modal.data.item.path})};return Le(()=>{n("success")}),(o,r)=>(w(),k("div",zx,[p("h3",{id:"modal-title",class:"vuefinder__audio-preview__title",title:h(s).modal.data.item.path},B(h(s).modal.data.item.basename),9,Bx),p("div",null,[p("audio",Hx,[p("source",{src:i(),type:"audio/mpeg"},null,8,Nx),r[0]||(r[0]=je(" Your browser does not support the audio element. ",-1))])])]))}}),Ux={class:"vuefinder__pdf-preview"},Vx=["title"],Wx=["data"],qx=["src"],Kx=xe({__name:"Pdf",emits:["success"],setup(e,{emit:t}){const n=Ce(),s=t,i=()=>{const o=Ce();return o.adapter.getPreviewUrl({path:o.modal.data.item.path})};return Le(()=>{s("success")}),(o,r)=>(w(),k("div",Ux,[p("h3",{id:"modal-title",class:"vuefinder__pdf-preview__title",title:h(n).modal.data.item.path},B(h(n).modal.data.item.basename),9,Vx),p("div",null,[p("object",{class:"vuefinder__pdf-preview__object",data:i(),type:"application/pdf",width:"100%",height:"100%"},[p("iframe",{class:"vuefinder__pdf-preview__iframe",src:i(),width:"100%",height:"100%"}," Your browser does not support PDFs ",8,qx)],8,Wx)])]))}});function Yx(e,t=null){return new Date(e*1e3).toLocaleString(t??navigator.language??"en-US")}const Gx={key:0,class:"vuefinder__preview-modal__nav-overlay"},Qx=["disabled","title"],Xx=["disabled","title"],Jx={class:"vuefinder__preview-modal__content"},Zx={key:0},eS={class:"vuefinder__preview-modal__loading"},tS={key:0,class:"vuefinder__preview-modal__loading-indicator"},nS={class:"vuefinder__preview-modal__details"},sS={class:"font-bold"},iS={class:"pl-2 font-bold"},oS={key:0,class:"vuefinder__preview-modal__note"},rS=["download","href"],Yr=xe({__name:"ModalPreview",setup(e){const t=Ce(),{enabled:n}=dn(),{t:s}=t.i18n,i=Q(!1),o=v=>{const $=(v||"").split("/").pop()||"",S=$.lastIndexOf(".");return S>=0?$.slice(S+1).toLowerCase():""},r=(v,$)=>{if(!$)return!1;const S=new Set(["png","jpg","jpeg","gif","webp","svg","bmp","ico","avif"]),E=new Set(["mp4","webm","ogg","ogv","mov","m4v"]),F=new Set(["mp3","wav","ogg","oga","m4a","flac","aac"]),P=new Set(["txt","md","json","js","ts","css","scss","html","xml","csv","log","yml","yaml"]);return v==="image"?S.has($):v==="video"?E.has($):v==="audio"?F.has($):v==="text"?P.has($):v==="application/pdf"?$==="pdf":!1},a=v=>{const $=t.modal.data.item.mime_type;if($&&typeof $=="string")return $.startsWith(v);const S=o(t.modal.data.item.path);return r(v,S)},l=n("preview");l||(i.value=!0);const c=ce(()=>t.modal.data.item),u=we(t.fs.sortedFiles),d=ce(()=>u.value.filter(v=>v.type==="file")),f=ce(()=>d.value.findIndex(v=>v.path===c.value.path)),m=ce(()=>f.value>0),g=ce(()=>f.value<d.value.length-1),_=()=>{if(t.modal.editMode||!m.value)return;const v=d.value[f.value-1];v&&(t.fs.clearSelection(),t.fs.select(v.path),t.modal.data.item=v)},y=()=>{if(t.modal.editMode||!g.value)return;const v=d.value[f.value+1];v&&(t.fs.clearSelection(),t.fs.select(v.path),t.modal.data.item=v)},b=v=>{if(v.key==="Escape"){v.preventDefault(),v.stopPropagation(),t.modal.close();return}(v.key==="ArrowLeft"||v.key==="ArrowRight")&&(v.preventDefault(),v.stopPropagation(),v.key==="ArrowLeft"?_():y())};return Le(()=>{const v=document.querySelector(".vuefinder__preview-modal");v&&v.focus()}),(v,$)=>(w(),oe(Bt,null,{buttons:be(()=>[p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:$[6]||($[6]=S=>h(t).modal.close())},B(h(s)("Close")),1),h(n)("download")?(w(),k("a",{key:0,target:"_blank",class:"vf-btn vf-btn-primary",download:h(t).adapter.getDownloadUrl({path:h(t).modal.data.item.path}),href:h(t).adapter.getDownloadUrl({path:h(t).modal.data.item.path})},B(h(s)("Download")),9,rS)):re("",!0)]),default:be(()=>[p("div",{class:"vuefinder__preview-modal",tabindex:"0",onKeydown:b},[h(t).modal.editMode?re("",!0):(w(),k("div",Gx,[p("button",{disabled:!m.value,class:"vuefinder__preview-modal__nav-side vuefinder__preview-modal__nav-side--left",title:h(s)("Previous file"),onClick:_},[...$[7]||($[7]=[p("svg",{class:"vuefinder__preview-modal__nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("polyline",{points:"15,18 9,12 15,6"})],-1)])],8,Qx),p("button",{disabled:!g.value,class:"vuefinder__preview-modal__nav-side vuefinder__preview-modal__nav-side--right",title:h(s)("Next file"),onClick:y},[...$[8]||($[8]=[p("svg",{class:"vuefinder__preview-modal__nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("polyline",{points:"9,18 15,12 9,6"})],-1)])],8,Xx)])),p("div",Jx,[h(l)?(w(),k("div",Zx,[a("text")?(w(),oe(L1,{key:`text-${c.value.path}`,onSuccess:$[0]||($[0]=S=>i.value=!0)})):a("image")?(w(),oe(Sx,{key:`image-${c.value.path}`,onSuccess:$[1]||($[1]=S=>i.value=!0)})):a("video")?(w(),oe(Lx,{key:`video-${c.value.path}`,onSuccess:$[2]||($[2]=S=>i.value=!0)})):a("audio")?(w(),oe(jx,{key:`audio-${c.value.path}`,onSuccess:$[3]||($[3]=S=>i.value=!0)})):a("application/pdf")?(w(),oe(Kx,{key:`pdf-${c.value.path}`,onSuccess:$[4]||($[4]=S=>i.value=!0)})):(w(),oe(Rx,{key:`default-${c.value.path}`,onSuccess:$[5]||($[5]=S=>i.value=!0)}))])):re("",!0),p("div",eS,[i.value===!1?(w(),k("div",tS,[$[9]||($[9]=p("svg",{class:"vuefinder__preview-modal__spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[p("circle",{class:"vuefinder__preview-modal__spinner-circle",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),p("path",{class:"vuefinder__preview-modal__spinner-path",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),p("span",null,B(h(s)("Loading")),1)])):re("",!0)])])],32),p("div",nS,[p("div",null,[p("span",sS,B(h(s)("File Size"))+": ",1),je(B(h(t).filesize(h(t).modal.data.item.file_size)),1)]),p("div",null,[p("span",iS,B(h(s)("Last Modified"))+": ",1),je(" "+B(h(Yx)(h(t).modal.data.item.last_modified)),1)])]),h(n)("download")?(w(),k("div",oS,[p("span",null,B(h(s)(`Download doesn't work? You can try right-click "Download" button, select "Save link as...".`)),1)])):re("",!0)]),_:1}))}}),aS={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"};function lS(e,t){return w(),k("svg",aS,[...t[0]||(t[0]=[p("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),p("path",{d:"M13 19H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h4l3 3h7a2 2 0 0 1 2 2v4M16 22l5-5M21 21.5V17h-4.5"},null,-1)])])}const cS={render:lS},uS={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function dS(e,t){return w(),k("svg",uS,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 16H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2m-6 12h8a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-8a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2"},null,-1)])])}const Bc={render:dS},fS={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function hS(e,t){return w(),k("svg",fS,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-6l-2-2H5a2 2 0 0 0-2 2"},null,-1)])])}const Fn={render:hS},pS={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"};function mS(e,t){return w(),k("svg",pS,[...t[0]||(t[0]=[p("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),p("path",{d:"M12 5v14M5 12h14"},null,-1)])])}const Gr={render:mS},vS={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"};function gS(e,t){return w(),k("svg",vS,[...t[0]||(t[0]=[p("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),p("path",{d:"M5 12h14"},null,-1)])])}const Qr={render:gS},_S={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",class:"h-5 w-5",viewBox:"0 0 24 24"};function yS(e,t){return w(),k("svg",_S,[...t[0]||(t[0]=[p("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),p("path",{d:"m15 4.5-4 4L7 10l-1.5 1.5 7 7L14 17l1.5-4 4-4M9 15l-4.5 4.5M14.5 4 20 9.5"},null,-1)])])}const Hc={render:yS};const Ht=(e,t)=>{const{o:n,i:s,u:i}=e;let o=n,r;const a=(u,d)=>{const f=o,m=u,g=d||(s?!s(f,m):f!==m);return(g||i)&&(o=m,r=f),[o,g,r]};return[t?u=>a(t(o,r),u):a,u=>[o,!!u,r]]},Pt=typeof window<"u"&&typeof HTMLElement<"u"&&!!window.document?window:{},Sm=Math.max,bS=Math.min,Nc=Math.round,Xr=Math.abs,$m=Math.sign,jc=Pt.cancelAnimationFrame,fo=Pt.requestAnimationFrame,Uc=Pt.setTimeout,Cm=Pt.clearTimeout,Jr=e=>typeof Pt[e]<"u"?Pt[e]:void 0,wS=Jr("MutationObserver"),Em=Jr("IntersectionObserver"),fi=Jr("ResizeObserver"),ho=Jr("ScrollTimeline"),Vc=e=>e===void 0,Zr=e=>e===null,gs=e=>typeof e=="number",po=e=>typeof e=="string",ea=e=>typeof e=="boolean",hn=e=>typeof e=="function",Xt=e=>Array.isArray(e),ta=e=>typeof e=="object"&&!Xt(e)&&!Zr(e),Wc=e=>{const t=!!e&&e.length,n=gs(t)&&t>-1&&t%1==0;return Xt(e)||!hn(e)&&n?t>0&&ta(e)?t-1 in e:!0:!1},mo=e=>!!e&&e.constructor===Object,na=e=>e instanceof HTMLElement,sa=e=>e instanceof Element;function qe(e,t){if(Wc(e))for(let n=0;n<e.length&&t(e[n],n,e)!==!1;n++);else e&&qe(Object.keys(e),(n=>t(e[n],n,e)));return e}const Am=(e,t)=>e.indexOf(t)>=0,vo=(e,t)=>e.concat(t),Ze=(e,t,n)=>(!po(t)&&Wc(t)?Array.prototype.push.apply(e,t):e.push(t),e),_s=e=>Array.from(e||[]),qc=e=>Xt(e)?e:!po(e)&&Wc(e)?_s(e):[e],ia=e=>!!e&&!e.length,Kc=e=>_s(new Set(e)),Nt=(e,t,n)=>{qe(e,i=>i?i.apply(void 0,t||[]):!0),n||(e.length=0)},Tm="paddingTop",km="paddingRight",Mm="paddingLeft",Fm="paddingBottom",Rm="marginLeft",Om="marginRight",Pm="marginBottom",Yc="overflowX",Gc="overflowY",go="width",_o="height",Zn="visible",pn="hidden",hi="scroll",xS=e=>{const t=String(e||"");return t?t[0].toUpperCase()+t.slice(1):""},oa=(e,t,n,s)=>{if(e&&t){let i=!0;return qe(n,(o=>{const r=e[o],a=t[o];r!==a&&(i=!1)})),i}return!1},Qc=(e,t)=>oa(e,t,["w","h"]),ra=(e,t)=>oa(e,t,["x","y"]),SS=(e,t)=>oa(e,t,["t","r","b","l"]),Ee=(e,...t)=>e.bind(0,...t),pi=e=>{let t;const n=e?Uc:fo,s=e?Cm:jc;return[i=>{s(t),t=n((()=>i()),hn(e)?e():e)},()=>s(t)]},Im=e=>{const t=hn(e)?e():e;if(gs(t)){const n=t?Uc:fo,s=t?Cm:jc;return i=>{const o=n((()=>i()),t);return()=>{s(o)}}}return t&&t._},Dm=(e,t)=>{const{p:n,v:s,S:i,m:o}=t||{};let r,a,l,c;const u=function(_){a&&a(),r&&r(),c=a=r=l=void 0,e.apply(this,_)},d=g=>o&&l?o(l,g):g,f=()=>{a&&l&&u(d(l)||l)},m=function(){const _=_s(arguments),y=Im(n);if(y){const b=typeof i=="function"?i():i,v=Im(s),S=d(_)||_,E=u.bind(0,S);a&&a(),b&&!c?(E(),c=!0,a=y((()=>c=void 0))):(a=y(E),v&&!r&&(r=v(f))),l=S}else u(_)};return m.O=f,m},Lm=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),mn=e=>e?Object.keys(e):[],He=(e,t,n,s,i,o,r)=>{const a=[t,n,s,i,o,r];return(typeof e!="object"||Zr(e))&&!hn(e)&&(e={}),qe(a,(l=>{qe(l,((c,u)=>{const d=l[u];if(e===d)return!0;const f=Xt(d);if(d&&mo(d)){const m=e[u];let g=m;f&&!Xt(m)?g=[]:!f&&!mo(m)&&(g={}),e[u]=He(g,d)}else e[u]=f?d.slice():d}))})),e},zm=(e,t)=>qe(He({},e),((n,s,i)=>{n===void 0?delete i[s]:n&&mo(n)&&(i[s]=zm(n))})),Xc=e=>!mn(e).length,yo=()=>{},Bm=(e,t,n)=>Sm(e,bS(t,n)),Bs=e=>Kc((Xt(e)?e:(e||"").split(" ")).filter((t=>t))),Jc=(e,t)=>e&&e.getAttribute(t),Hm=(e,t)=>e&&e.hasAttribute(t),es=(e,t,n)=>{qe(Bs(t),(s=>{e&&e.setAttribute(s,String(n||""))}))},Rn=(e,t)=>{qe(Bs(t),(n=>e&&e.removeAttribute(n)))},aa=(e,t)=>{const n=Bs(Jc(e,t)),s=Ee(es,e,t),i=(o,r)=>{const a=new Set(n);return qe(Bs(o),(l=>{a[r](l)})),_s(a).join(" ")};return{C:o=>s(i(o,"delete")),$:o=>s(i(o,"add")),H:o=>{const r=Bs(o);return r.reduce(((a,l)=>a&&n.includes(l)),r.length>0)}}},Nm=(e,t,n)=>(aa(e,t).C(n),Ee(Zc,e,t,n)),Zc=(e,t,n)=>(aa(e,t).$(n),Ee(Nm,e,t,n)),la=(e,t,n,s)=>(s?Zc:Nm)(e,t,n),eu=(e,t,n)=>aa(e,t).H(n),jm=e=>aa(e,"class"),Um=(e,t)=>{jm(e).C(t)},ca=(e,t)=>(jm(e).$(t),Ee(Um,e,t)),Vm=(e,t)=>{const n=t?sa(t)&&t:document;return n?_s(n.querySelectorAll(e)):[]},$S=(e,t)=>{const n=t?sa(t)&&t:document;return n&&n.querySelector(e)},tu=(e,t)=>sa(e)&&e.matches(t),Wm=e=>tu(e,"body"),nu=e=>e?_s(e.childNodes):[],bo=e=>e&&e.parentElement,mi=(e,t)=>sa(e)&&e.closest(t),su=e=>document.activeElement,CS=(e,t,n)=>{const s=mi(e,t),i=e&&$S(n,s),o=mi(i,t)===s;return s&&i?s===e||i===e||o&&mi(mi(e,n),t)!==s:!1},vi=e=>{qe(qc(e),(t=>{const n=bo(t);t&&n&&n.removeChild(t)}))},At=(e,t)=>Ee(vi,e&&t&&qe(qc(t),(n=>{n&&e.appendChild(n)})));let qm;const ES=()=>qm,AS=e=>{qm=e},gi=e=>{const t=document.createElement("div");return es(t,"class",e),t},iu=e=>{const t=gi(),n=ES(),s=e.trim();return t.innerHTML=n?n.createHTML(s):s,qe(nu(t),(i=>vi(i)))},Km=(e,t)=>e.getPropertyValue(t)||e[t]||"",Ym=e=>{const t=e||0;return isFinite(t)?t:0},ua=e=>Ym(parseFloat(e||"")),ou=e=>Math.round(e*1e4)/1e4,Gm=e=>`${ou(Ym(e))}px`;function _i(e,t){e&&t&&qe(t,((n,s)=>{try{const i=e.style,o=Zr(n)||ea(n)?"":gs(n)?Gm(n):n;s.indexOf("--")===0?i.setProperty(s,o):i[s]=o}catch{}}))}function On(e,t,n){const s=po(t);let i=s?"":{};if(e){const o=Pt.getComputedStyle(e,n)||e.style;i=s?Km(o,t):_s(t).reduce(((r,a)=>(r[a]=Km(o,a),r)),i)}return i}const Qm=(e,t,n)=>{const s=t?`${t}-`:"",i=n?`-${n}`:"",o=`${s}top${i}`,r=`${s}right${i}`,a=`${s}bottom${i}`,l=`${s}left${i}`,c=On(e,[o,r,a,l]);return{t:ua(c[o]),r:ua(c[r]),b:ua(c[a]),l:ua(c[l])}},ru=(e,t)=>`translate${ta(e)?`(${e.x},${e.y})`:`${t?"X":"Y"}(${e})`}`,TS=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),kS={w:0,h:0},da=(e,t)=>t?{w:t[`${e}Width`],h:t[`${e}Height`]}:kS,MS=e=>da("inner",e||Pt),ys=Ee(da,"offset"),Xm=Ee(da,"client"),fa=Ee(da,"scroll"),au=e=>{const t=parseFloat(On(e,go))||0,n=parseFloat(On(e,_o))||0;return{w:t-Nc(t),h:n-Nc(n)}},lu=e=>e.getBoundingClientRect(),FS=e=>!!e&&TS(e),cu=e=>!!(e&&(e[_o]||e[go])),Jm=(e,t)=>{const n=cu(e);return!cu(t)&&n},Zm=(e,t,n,s)=>{qe(Bs(t),(i=>{e&&e.removeEventListener(i,n,s)}))},Ye=(e,t,n,s)=>{var i;const o=(i=s&&s.I)!=null?i:!0,r=s&&s.A||!1,a=s&&s.T||!1,l={passive:o,capture:r};return Ee(Nt,Bs(t).map((c=>{const u=a?d=>{Zm(e,c,u,r),n&&n(d)}:n;return e&&e.addEventListener(c,u,l),Ee(Zm,e,c,u,r)})))},uu=e=>e.stopPropagation(),du=e=>e.preventDefault(),ev=e=>uu(e)||du(e),Jt=(e,t)=>{const{x:n,y:s}=gs(t)?{x:t,y:t}:t||{};gs(n)&&(e.scrollLeft=n),gs(s)&&(e.scrollTop=s)},jt=e=>({x:e.scrollLeft,y:e.scrollTop}),tv=()=>({D:{x:0,y:0},M:{x:0,y:0}}),RS=(e,t)=>{const{D:n,M:s}=e,{w:i,h:o}=t,r=(d,f,m)=>{let g=$m(d)*m,_=$m(f)*m;if(g===_){const y=Xr(d),b=Xr(f);_=y>b?0:_,g=y<b?0:g}return g=g===_?0:g,[g+0,_+0]},[a,l]=r(n.x,s.x,i),[c,u]=r(n.y,s.y,o);return{D:{x:a,y:c},M:{x:l,y:u}}},fu=({D:e,M:t})=>{const n=(s,i)=>s===0&&s<=i;return{x:n(e.x,t.x),y:n(e.y,t.y)}},nv=({D:e,M:t},n)=>{const s=(i,o,r)=>Bm(0,1,(i-r)/(i-o)||0);return{x:s(e.x,t.x,n.x),y:s(e.y,t.y,n.y)}},hu=e=>{e&&e.focus&&e.focus({preventScroll:!0,focusVisible:!1})},sv=(e,t)=>{qe(qc(t),e)},pu=e=>{const t=new Map,n=(o,r)=>{if(o){const a=t.get(o);sv((l=>{a&&a[l?"delete":"clear"](l)}),r)}else t.forEach((a=>{a.clear()})),t.clear()},s=(o,r)=>{if(po(o)){const c=t.get(o)||new Set;return t.set(o,c),sv((u=>{hn(u)&&c.add(u)}),r),Ee(n,o,r)}ea(r)&&r&&n();const a=mn(o),l=[];return qe(a,(c=>{const u=o[c];u&&Ze(l,s(c,u))})),Ee(Nt,l)},i=(o,r)=>{qe(_s(t.get(o)),(a=>{r&&!ia(r)?a.apply(0,r):a()}))};return s(e||{}),[s,n,i]},iv={},ov={},OS=e=>{qe(e,(t=>qe(t,((n,s)=>{iv[s]=t[s]}))))},rv=(e,t,n)=>mn(e).map((s=>{const{static:i,instance:o}=e[s],[r,a,l]=n||[],c=n?o:i;if(c){const u=n?c(r,a,t):c(t);return(l||ov)[s]=u}})),yi=e=>ov[e],PS="__osOptionsValidationPlugin",bi="data-overlayscrollbars",ha="os-environment",pa=`${ha}-scrollbar-hidden`,mu=`${bi}-initialize`,ma="noClipping",av=`${bi}-body`,bs=bi,IS="host",ts=`${bi}-viewport`,DS=Yc,LS=Gc,zS="arrange",lv="measuring",BS="scrolling",cv="scrollbarHidden",HS="noContent",vu=`${bi}-padding`,uv=`${bi}-content`,gu="os-size-observer",NS=`${gu}-appear`,_u=`${gu}-listener`,jS=`${_u}-scroll`,va=`${_u}-item`,dv=`${va}-final`,US="os-trinsic-observer",VS="os-theme-none",Ut="os-scrollbar",WS=`${Ut}-rtl`,qS=`${Ut}-horizontal`,KS=`${Ut}-vertical`,fv=`${Ut}-track`,yu=`${Ut}-handle`,YS=`${Ut}-visible`,GS=`${Ut}-cornerless`,hv=`${Ut}-interaction`,pv=`${Ut}-unusable`,bu=`${Ut}-auto-hide`,mv=`${bu}-hidden`,vv=`${Ut}-wheel`,QS=`${fv}-interactive`,XS=`${yu}-interactive`,gv="__osSizeObserverPlugin",JS={[gv]:{static:()=>(e,t,n)=>{const i="scroll",o=iu(`<div class="${va}" dir="ltr"><div class="${va}"><div class="${dv}"></div></div><div class="${va}"><div class="${dv}" style="width: 200%; height: 200%"></div></div></div>`),r=o[0],a=r.lastChild,l=r.firstChild,c=l?.firstChild;let u=ys(r),d=u,f=!1,m;const g=()=>{Jt(l,3333333),Jt(a,3333333)},_=v=>{m=0,f&&(u=d,t(v===!0))},y=v=>{d=ys(r),f=!v||!Qc(d,u),v?(uu(v),f&&!m&&(jc(m),m=fo(_))):_(v===!1),g()},b=[At(e,o),Ye(l,i,y),Ye(a,i,y)];return ca(e,jS),_i(c,{[go]:3333333,[_o]:3333333}),fo(g),[n?Ee(y,!1):g,b]}}},ZS=(e,t)=>{const{k:n}=t,[s,i]=e("showNativeOverlaidScrollbars");return[s&&n.x&&n.y,i]},wi=e=>e.indexOf(Zn)===0,e$=e=>e.replace(`${Zn}-`,""),wu=(e,t)=>{if(e==="auto")return t?hi:pn;const n=e||pn;return[pn,hi,Zn].includes(n)?n:pn},t$=(e,t)=>{const{overflowX:n,overflowY:s}=On(e,[Yc,Gc]);return{x:wu(n,t.x),y:wu(s,t.y)}},xu="__osScrollbarsHidingPlugin",n$="__osClickScrollPlugin",_v=e=>JSON.stringify(e,((t,n)=>{if(hn(n))throw 0;return n})),yv=(e,t)=>e?`${t}`.split(".").reduce(((n,s)=>n&&Lm(n,s)?n[s]:void 0),e):void 0,s$=[0,33],bv=[33,99],wv=[222,666,!0],i$={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:{mutation:s$,resize:null,event:bv,env:wv},attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},xv=(e,t)=>{const n={},s=vo(mn(t),mn(e));return qe(s,(i=>{const o=e[i],r=t[i];if(ta(o)&&ta(r))He(n[i]={},xv(o,r)),Xc(n[i])&&delete n[i];else if(Lm(t,i)&&r!==o){let a=!0;if(Xt(o)||Xt(r))try{_v(o)===_v(r)&&(a=!1)}catch{}a&&(n[i]=r)}})),n},Sv=(e,t,n)=>s=>[yv(e,s),n||yv(t,s)!==void 0];let $v;const o$=()=>$v,r$=e=>{$v=e};let Su;const a$=()=>{const e=(S,E,F)=>{At(document.body,S),At(document.body,S);const P=Xm(S),H=ys(S),z=au(E);return F&&vi(S),{x:H.h-P.h+z.h,y:H.w-P.w+z.w}},t=S=>{let E=!1;const F=ca(S,pa);try{E=On(S,"scrollbar-width")==="none"||On(S,"display","::-webkit-scrollbar")==="none"}catch{}return F(),E},n=`.${ha}{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.${ha} div{width:200%;height:200%;margin:10px 0}.${pa}{scrollbar-width:none!important}.${pa}::-webkit-scrollbar,.${pa}::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}`,i=iu(`<div class="${ha}"><div></div><style>${n}</style></div>`)[0],o=i.firstChild,r=i.lastChild,a=o$();a&&(r.nonce=a);const[l,,c]=pu(),[u,d]=Ht({o:e(i,o),i:ra},Ee(e,i,o,!0)),[f]=d(),m=t(i),g={x:f.x===0,y:f.y===0},_={elements:{host:null,padding:!m,viewport:S=>m&&Wm(S)&&S,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},y=He({},i$),b=Ee(He,{},y),v=Ee(He,{},_),$={P:f,k:g,U:m,J:!!ho,G:Ee(l,"r"),K:v,Z:S=>He(_,S)&&v(),tt:b,nt:S=>He(y,S)&&b(),ot:He({},_),st:He({},y)};if(Rn(i,"style"),vi(i),Ye(Pt,"resize",(()=>{c("r",[])})),hn(Pt.matchMedia)&&!m&&(!g.x||!g.y)){const S=E=>{const F=Pt.matchMedia(`(resolution: ${Pt.devicePixelRatio}dppx)`);Ye(F,"change",(()=>{E(),S(E)}),{T:!0})};S((()=>{const[E,F]=u();He($.P,E),c("r",[F])}))}return $},Pn=()=>(Su||(Su=a$()),Su),l$=(e,t,n)=>{let s=!1;const i=n?new WeakMap:!1,o=()=>{s=!0},r=a=>{if(i&&n){const l=n.map((c=>{const[u,d]=c||[];return[d&&u?(a||Vm)(u,e):[],d]}));qe(l,(c=>qe(c[0],(u=>{const d=c[1],f=i.get(u)||[];if(e.contains(u)&&d){const g=Ye(u,d,(_=>{s?(g(),i.delete(u)):t(_)}));i.set(u,Ze(f,g))}else Nt(f),i.delete(u)}))))}};return r(),[o,r]},Cv=(e,t,n,s)=>{let i=!1;const{et:o,ct:r,rt:a,it:l,lt:c,ut:u}=s||{},[d,f]=l$(e,(()=>i&&n(!0)),a),m=o||[],g=r||[],_=vo(m,g),y=(v,$)=>{if(!ia($)){const S=c||yo,E=u||yo,F=[],P=[];let H=!1,z=!1;if(qe($,(C=>{const{attributeName:T,target:O,type:R,oldValue:K,addedNodes:ee,removedNodes:V}=C,U=R==="attributes",A=R==="childList",D=e===O,ne=U&&T,X=ne&&Jc(O,T||""),te=po(X)?X:null,Y=ne&&K!==te,ue=Am(g,T)&&Y;if(t&&(A||!D)){const ve=U&&Y,pe=ve&&l&&tu(O,l),fe=(pe?!S(O,T,K,te):!U||ve)&&!E(C,!!pe,e,s);qe(ee,(ae=>Ze(F,ae))),qe(V,(ae=>Ze(F,ae))),z=z||fe}!t&&D&&Y&&!S(O,T,K,te)&&(Ze(P,T),H=H||ue)})),f((C=>Kc(F).reduce(((T,O)=>(Ze(T,Vm(C,O)),tu(O,C)?Ze(T,O):T)),[]))),t)return!v&&z&&n(!1),[!1];if(!ia(P)||H){const C=[Kc(P),H];return v||n.apply(0,C),C}}},b=new wS(Ee(y,!1));return[()=>(b.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:_,subtree:t,childList:t,characterData:t}),i=!0,()=>{i&&(d(),b.disconnect(),i=!1)}),()=>{if(i)return y(!0,b.takeRecords())}]};let Hs=null;const Ev=(e,t,n)=>{const{ft:s}=n||{},i=yi(gv),[o]=Ht({o:!1,u:!0});return()=>{const r=[],l=iu(`<div class="${gu}"><div class="${_u}"></div></div>`)[0],c=l.firstChild,u=d=>{const f=Xt(d)&&!ia(d);let m=!1,g=!1;if(f){const _=d[0],[y,,b]=o(_.contentRect),v=cu(y);g=Jm(y,b),m=!g&&!v}else g=d===!0;m||t({_t:!0,ft:g})};if(fi){if(!ea(Hs)){const g=new fi(yo);g.observe(e,{get box(){Hs=!0}}),Hs=Hs||!1,g.disconnect()}const d=Dm(u,{p:0,v:0}),f=g=>d(g),m=new fi(f);if(m.observe(Hs?e:c),Ze(r,[()=>{m.disconnect()},!Hs&&At(e,l)]),Hs){const g=new fi(f);g.observe(e,{box:"border-box"}),Ze(r,(()=>g.disconnect()))}}else if(i){const[d,f]=i(c,u,s);Ze(r,vo([ca(l,NS),Ye(l,"animationstart",d),At(e,l)],f))}else return yo;return Ee(Nt,r)}},c$=(e,t)=>{let n;const s=l=>l.h===0||l.isIntersecting||l.intersectionRatio>0,i=gi(US),[o]=Ht({o:!1}),r=(l,c)=>{if(l){const u=o(s(l)),[,d]=u;return d&&!c&&t(u)&&[u]}},a=(l,c)=>r(c.pop(),l);return[()=>{const l=[];if(Em)n=new Em(Ee(a,!1),{root:e}),n.observe(i),Ze(l,(()=>{n.disconnect()}));else{const c=()=>{const u=ys(i);r(u)};Ze(l,Ev(i,c)()),c()}return Ee(Nt,Ze(l,At(e,i)))},()=>n&&a(!0,n.takeRecords())]},u$=(e,t,n,s)=>{let i,o,r,a,l,c,u,d;const f=`[${bs}]`,m=`[${ts}]`,g=["id","class","style","open","wrap","cols","rows"],{dt:_,vt:y,L:b,gt:v,ht:$,V:S,bt:E,wt:F,yt:P,St:H}=e,z=L=>On(L,"direction")==="rtl",C=()=>{let L,fe,ae;const J=Dm(s,{p:()=>L,v:()=>fe,S:()=>ae,m(x,M){const[j]=x,[Z]=M;return[vo(mn(j),mn(Z)).reduce(((I,N)=>(I[N]=j[N]||Z[N],I)),{})]}}),me=(x,M)=>{if(Xt(M)){const[j,Z,I]=M;L=j,fe=Z,ae=I}else gs(M)?(L=M,fe=!1,ae=!1):(L=!1,fe=!1,ae=!1);J(x)};return me.O=J.O,me},T={Ot:!1,B:z(_)},O=Pn(),R=yi(xu),[K]=Ht({i:Qc,o:{w:0,h:0}},(()=>{const L=R&&R.R(e,t,T,O,n).Y,ae=!(E&&S)&&eu(y,bs,ma),J=!S&&F(zS),me=J&&jt(v),x=me&&H(),M=P(lv,ae),j=J&&L&&L(),Z=fa(b),I=au(b);return j&&j(),Jt(v,me),x&&x(),ae&&M(),{w:Z.w+I.w,h:Z.h+I.h}})),ee=C(),V=L=>{const fe=z(_);He(L,{Ct:d!==fe}),He(T,{B:fe}),d=fe},U=(L,fe)=>{const[ae,J]=L,me={$t:J};return He(T,{Ot:ae}),fe||s(me),me},A=({_t:L,ft:fe})=>{const ae=fe?s:ee,J={_t:L||fe,ft:fe};V(J),ae(J,o)},D=(L,fe)=>{const[,ae]=K(),J={xt:ae};return V(J),ae&&!fe&&ee(J,L?r:i),J},ne=(L,fe,ae)=>{const J={Ht:fe};return V(J),fe&&!ae&&ee(J,i),J},[X,te]=$?c$(y,U):[],Y=!S&&Ev(y,A,{ft:!0}),[ue,ve]=Cv(y,!1,ne,{ct:g,et:g}),pe=S&&fi&&new fi((L=>{const fe=L[L.length-1].contentRect;A({_t:!0,ft:Jm(fe,u)}),u=fe}));return[()=>{pe&&pe.observe(y);const L=Y&&Y(),fe=X&&X(),ae=ue(),J=O.G((me=>{const[,x]=K();ee({Et:me,xt:x,_t:E},a)}));return()=>{pe&&pe.disconnect(),L&&L(),fe&&fe(),c&&c(),ae(),J()}},({zt:L,It:fe,At:ae})=>{const J={},[me]=L("update.ignoreMutation"),[x,M]=L("update.attributes"),[j,Z]=L("update.elementEvents"),[I,N]=L("update.debounce"),W=Z||M,q=fe||ae,ie=G=>hn(me)&&me(G);if(W){l&&l(),c&&c();const[G,de]=Cv($||b,!0,D,{et:vo(g,x||[]),rt:j,it:f,ut:(le,he)=>{const{target:_e,attributeName:Te}=le;return(!he&&Te&&!S?CS(_e,f,m):!1)||!!mi(_e,`.${Ut}`)||!!ie(le)}});c=G(),l=de}if(N&&(ee.O(),Xt(I)||gs(I)?(i=I,o=!1,r=bv,a=wv):mo(I)?(i=I.mutation,o=I.resize,r=I.event,a=I.env):(i=!1,o=!1,r=!1,a=!1)),q){const G=ve(),de=te&&te(),le=l&&l();G&&He(J,ne(G[0],G[1],q)),de&&He(J,U(de[0],q)),le&&He(J,D(le[0],q))}return V(J),J},T]},Av=(e,t)=>hn(t)?t.apply(0,e):t,d$=(e,t,n,s)=>{const i=Vc(s)?n:s;return Av(e,i)||t.apply(0,e)},Tv=(e,t,n,s)=>{const i=Vc(s)?n:s,o=Av(e,i);return!!o&&(na(o)?o:t.apply(0,e))},f$=(e,t)=>{const{nativeScrollbarsOverlaid:n,body:s}=t||{},{k:i,U:o,K:r}=Pn(),{nativeScrollbarsOverlaid:a,body:l}=r().cancel,c=n??a,u=Vc(s)?l:s,d=(i.x||i.y)&&c,f=e&&(Zr(u)?!o:u);return!!d||!!f},h$=(e,t,n,s)=>{const i="--os-viewport-percent",o="--os-scroll-percent",r="--os-scroll-direction",{K:a}=Pn(),{scrollbars:l}=a(),{slot:c}=l,{dt:u,vt:d,L:f,Tt:m,gt:g,bt:_,V:y}=t,{scrollbars:b}=m?{}:e,{slot:v}=b||{},$=[],S=[],E=[],F=Tv([u,d,f],(()=>y&&_?u:d),c,v),P=X=>{if(ho){let te=null,Y=[];const ue=new ho({source:g,axis:X}),ve=()=>{te&&te.cancel(),te=null};return{kt:L=>{const{Dt:fe}=n,ae=fu(fe)[X],J=X==="x",me=[ru(0,J),ru(`calc(-100% + 100cq${J?"w":"h"})`,J)],x=ae?me:me.reverse();return Y[0]===x[0]&&Y[1]===x[1]||(Y=x,ve(),te=L.Mt.animate({clear:["left"],transform:x},{timeline:ue})),ve}}}},H={x:P("x"),y:P("y")},z=()=>{const{Rt:X,Vt:te}=n,Y=(ue,ve)=>Bm(0,1,ue/(ue+ve)||0);return{x:Y(te.x,X.x),y:Y(te.y,X.y)}},C=(X,te,Y)=>{const ue=Y?ca:Um;qe(X,(ve=>{ue(ve.Lt,te)}))},T=(X,te)=>{qe(X,(Y=>{const[ue,ve]=te(Y);_i(ue,ve)}))},O=(X,te,Y)=>{const ue=ea(Y),ve=ue?Y:!0,pe=ue?!Y:!0;ve&&C(S,X,te),pe&&C(E,X,te)},R=()=>{const X=z(),te=Y=>ue=>[ue.Lt,{[i]:ou(Y)+""}];T(S,te(X.x)),T(E,te(X.y))},K=()=>{if(!ho){const{Dt:X}=n,te=nv(X,jt(g)),Y=ue=>ve=>[ve.Lt,{[o]:ou(ue)+""}];T(S,Y(te.x)),T(E,Y(te.y))}},ee=()=>{const{Dt:X}=n,te=fu(X),Y=ue=>ve=>[ve.Lt,{[r]:ue?"0":"1"}];T(S,Y(te.x)),T(E,Y(te.y)),ho&&(S.forEach(H.x.kt),E.forEach(H.y.kt))},V=()=>{if(y&&!_){const{Rt:X,Dt:te}=n,Y=fu(te),ue=nv(te,jt(g)),ve=pe=>{const{Lt:L}=pe,fe=bo(L)===f&&L,ae=(J,me,x)=>{const M=me*J;return Gm(x?M:-M)};return[fe,fe&&{transform:ru({x:ae(ue.x,X.x,Y.x),y:ae(ue.y,X.y,Y.y)})}]};T(S,ve),T(E,ve)}},U=X=>{const te=X?"x":"y",ue=gi(`${Ut} ${X?qS:KS}`),ve=gi(fv),pe=gi(yu),L={Lt:ue,Ut:ve,Mt:pe},fe=H[te];return Ze(X?S:E,L),Ze($,[At(ue,ve),At(ve,pe),Ee(vi,ue),fe&&fe.kt(L),s(L,O,X)]),L},A=Ee(U,!0),D=Ee(U,!1),ne=()=>(At(F,S[0].Lt),At(F,E[0].Lt),Ee(Nt,$));return A(),D(),[{Pt:R,Nt:K,qt:ee,Bt:V,Ft:O,jt:{Xt:S,Yt:A,Wt:Ee(T,S)},Jt:{Xt:E,Yt:D,Wt:Ee(T,E)}},ne]},p$=(e,t,n,s)=>(i,o,r)=>{const{vt:a,L:l,V:c,gt:u,Gt:d,St:f}=t,{Lt:m,Ut:g,Mt:_}=i,[y,b]=pi(333),[v,$]=pi(444),S=P=>{hn(u.scrollBy)&&u.scrollBy({behavior:"smooth",left:P.x,top:P.y})},E=()=>{const P="pointerup pointercancel lostpointercapture",H=`client${r?"X":"Y"}`,z=r?go:_o,C=r?"left":"top",T=r?"w":"h",O=r?"x":"y",R=(ee,V)=>U=>{const{Rt:A}=n,D=ys(g)[T]-ys(_)[T],X=V*U/D*A[O];Jt(u,{[O]:ee+X})},K=[];return Ye(g,"pointerdown",(ee=>{const V=mi(ee.target,`.${yu}`)===_,U=V?_:g,A=e.scrollbars,D=A[V?"dragScroll":"clickScroll"],{button:ne,isPrimary:X,pointerType:te}=ee,{pointers:Y}=A;if(ne===0&&X&&D&&(Y||[]).includes(te)){Nt(K),$();const ve=!V&&(ee.shiftKey||D==="instant"),pe=Ee(lu,_),L=Ee(lu,g),fe=(de,le)=>(de||pe())[C]-(le||L())[C],ae=Nc(lu(u)[z])/ys(u)[T]||1,J=R(jt(u)[O],1/ae),me=ee[H],x=pe(),M=L(),j=x[z],Z=fe(x,M)+j/2,I=me-M[C],N=V?0:I-Z,W=de=>{Nt(G),U.releasePointerCapture(de.pointerId)},q=V||ve,ie=f(),G=[Ye(d,P,W),Ye(d,"selectstart",(de=>du(de)),{I:!1}),Ye(g,P,W),q&&Ye(g,"pointermove",(de=>J(N+(de[H]-me)))),q&&(()=>{const de=jt(u);ie();const le=jt(u),he={x:le.x-de.x,y:le.y-de.y};(Xr(he.x)>3||Xr(he.y)>3)&&(f(),Jt(u,de),S(he),v(ie))})];if(U.setPointerCapture(ee.pointerId),ve)J(N);else if(!V){const de=yi(n$);if(de){const le=de(J,N,j,(he=>{he?ie():Ze(G,ie)}));Ze(G,le),Ze(K,Ee(le,!0))}}}}))};let F=!0;return Ee(Nt,[Ye(_,"pointermove pointerleave",s),Ye(m,"pointerenter",(()=>{o(hv,!0)})),Ye(m,"pointerleave pointercancel",(()=>{o(hv,!1)})),!c&&Ye(m,"mousedown",(()=>{const P=su();(Hm(P,ts)||Hm(P,bs)||P===document.body)&&Uc(Ee(hu,l),25)})),Ye(m,"wheel",(P=>{const{deltaX:H,deltaY:z,deltaMode:C}=P;F&&C===0&&bo(m)===a&&S({x:H,y:z}),F=!1,o(vv,!0),y((()=>{F=!0,o(vv)})),du(P)}),{I:!1,A:!0}),Ye(m,"pointerdown",(()=>{const P=Ye(d,"click",(z=>{H(),ev(z)}),{T:!0,A:!0,I:!1}),H=Ye(d,"pointerup pointercancel",(()=>{H(),setTimeout(P,150)}),{A:!0,I:!0})}),{A:!0,I:!0}),E(),b,$])},m$=(e,t,n,s,i,o)=>{let r,a,l,c,u,d=yo,f=0;const m=["mouse","pen"],g=Y=>m.includes(Y.pointerType),[_,y]=pi(),[b,v]=pi(100),[$,S]=pi(100),[E,F]=pi((()=>f)),[P,H]=h$(e,i,s,p$(t,i,s,(Y=>g(Y)&&A()))),{vt:z,Kt:C,bt:T}=i,{Ft:O,Pt:R,Nt:K,qt:ee,Bt:V}=P,U=(Y,ue)=>{if(F(),Y)O(mv);else{const ve=Ee(O,mv,!0);f>0&&!ue?E(ve):ve()}},A=()=>{(l?!r:!c)&&(U(!0),b((()=>{U(!1)})))},D=Y=>{O(bu,Y,!0),O(bu,Y,!1)},ne=Y=>{g(Y)&&(r=l,l&&U(!0))},X=[F,v,S,y,()=>d(),Ye(z,"pointerover",ne,{T:!0}),Ye(z,"pointerenter",ne),Ye(z,"pointerleave",(Y=>{g(Y)&&(r=!1,l&&U(!1))})),Ye(z,"pointermove",(Y=>{g(Y)&&a&&A()})),Ye(C,"scroll",(Y=>{_((()=>{K(),A()})),o(Y),V()}))],te=yi(xu);return[()=>Ee(Nt,Ze(X,H())),({zt:Y,At:ue,Qt:ve,Zt:pe})=>{const{tn:L,nn:fe,sn:ae,en:J}=pe||{},{Ct:me,ft:x}=ve||{},{B:M}=n,{k:j,U:Z}=Pn(),{cn:I,j:N}=s,[W,q]=Y("showNativeOverlaidScrollbars"),[ie,G]=Y("scrollbars.theme"),[de,le]=Y("scrollbars.visibility"),[he,_e]=Y("scrollbars.autoHide"),[Te,Re]=Y("scrollbars.autoHideSuspend"),[ke]=Y("scrollbars.autoHideDelay"),[Xe,nt]=Y("scrollbars.dragScroll"),[ct,xt]=Y("scrollbars.clickScroll"),[zn,Ti]=Y("overflow"),ht=x&&!ue,Dt=N.x||N.y,Lt=L||fe||J||me||ue,ki=ae||le||Ti,Ma=W&&j.x&&j.y,Fa=!Z&&!te,qu=Ma||Fa,Ra=(Mo,Fo,Oa)=>{const Cs=Mo.includes(hi)&&(de===Zn||de==="auto"&&Fo===hi);return O(YS,Cs,Oa),Cs};if(f=ke,ht&&(Te&&Dt?(D(!1),d(),$((()=>{d=Ye(C,"scroll",Ee(D,!0),{T:!0})}))):D(!0)),(q||Fa)&&O(VS,qu),G&&(O(u),O(ie,!0),u=ie),Re&&!Te&&D(!0),_e&&(a=he==="move",l=he==="leave",c=he==="never",U(c,!0)),nt&&O(XS,Xe),xt&&O(QS,!!ct),ki){const Mo=Ra(zn.x,I.x,!0),Fo=Ra(zn.y,I.y,!1);O(GS,!(Mo&&Fo))}Lt&&(K(),R(),V(),J&&ee(),O(pv,!N.x,!0),O(pv,!N.y,!1),O(WS,M&&!T))},{},P]},v$=e=>{const t=Pn(),{K:n,U:s}=t,{elements:i}=n(),{padding:o,viewport:r,content:a}=i,l=na(e),c=l?{}:e,{elements:u}=c,{padding:d,viewport:f,content:m}=u||{},g=l?e:c.target,_=Wm(g),y=g.ownerDocument,b=y.documentElement,v=()=>y.defaultView||Pt,$=Ee(d$,[g]),S=Ee(Tv,[g]),E=Ee(gi,""),F=Ee($,E,r),P=Ee(S,E,a),H=j=>{const Z=ys(j),I=fa(j),N=On(j,Yc),W=On(j,Gc);return I.w-Z.w>0&&!wi(N)||I.h-Z.h>0&&!wi(W)},z=F(f),C=z===g,T=C&&_,O=!C&&P(m),R=!C&&z===O,K=T?b:z,ee=T?K:g,V=!C&&S(E,o,d),U=!R&&O,A=[U,K,V,ee].map((j=>na(j)&&!bo(j)&&j)),D=j=>j&&Am(A,j),ne=!D(K)&&H(K)?K:g,X=T?b:K,Y={dt:g,vt:ee,L:K,rn:V,ht:U,gt:X,Kt:T?y:K,ln:_?b:ne,Gt:y,bt:_,Tt:l,V:C,an:v,wt:j=>eu(K,ts,j),yt:(j,Z)=>la(K,ts,j,Z),St:()=>la(X,ts,BS,!0)},{dt:ue,vt:ve,rn:pe,L,ht:fe}=Y,ae=[()=>{Rn(ve,[bs,mu]),Rn(ue,mu),_&&Rn(b,[mu,bs])}];let J=nu([fe,L,pe,ve,ue].find((j=>j&&!D(j))));const me=T?ue:fe||L,x=Ee(Nt,ae);return[Y,()=>{const j=v(),Z=su(),I=G=>{At(bo(G),nu(G)),vi(G)},N=G=>Ye(G,"focusin focusout focus blur",ev,{A:!0,I:!1}),W="tabindex",q=Jc(L,W),ie=N(Z);return es(ve,bs,C?"":IS),es(pe,vu,""),es(L,ts,""),es(fe,uv,""),C||(es(L,W,q||"-1"),_&&es(b,av,"")),At(me,J),At(ve,pe),At(pe||ve,!C&&L),At(L,fe),Ze(ae,[ie,()=>{const G=su(),de=D(L),le=de&&G===L?ue:G,he=N(le);Rn(pe,vu),Rn(fe,uv),Rn(L,ts),_&&Rn(b,av),q?es(L,W,q):Rn(L,W),D(fe)&&I(fe),de&&I(L),D(pe)&&I(pe),hu(le),he()}]),s&&!C&&(Zc(L,ts,cv),Ze(ae,Ee(Rn,L,ts))),hu(!C&&_&&Z===ue&&j.top===j?L:Z),ie(),J=0,x},x]},g$=({ht:e})=>({Qt:t,un:n,At:s})=>{const{$t:i}=t||{},{Ot:o}=n;e&&(i||s)&&_i(e,{[_o]:o&&"100%"})},_$=({vt:e,rn:t,L:n,V:s},i)=>{const[o,r]=Ht({i:SS,o:Qm()},Ee(Qm,e,"padding",""));return({zt:a,Qt:l,un:c,At:u})=>{let[d,f]=r(u);const{U:m}=Pn(),{_t:g,xt:_,Ct:y}=l||{},{B:b}=c,[v,$]=a("paddingAbsolute");(g||f||(u||_))&&([d,f]=o(u));const E=!s&&($||y||f);if(E){const F=!v||!t&&!m,P=d.r+d.l,H=d.t+d.b,z={[Om]:F&&!b?-P:0,[Pm]:F?-H:0,[Rm]:F&&b?-P:0,top:F?-d.t:0,right:F?b?-d.r:"auto":0,left:F?b?"auto":-d.l:0,[go]:F&&`calc(100% + ${P}px)`},C={[Tm]:F?d.t:0,[km]:F?d.r:0,[Fm]:F?d.b:0,[Mm]:F?d.l:0};_i(t||n,z),_i(n,C),He(i,{rn:d,fn:!F,F:t?C:He({},z,C)})}return{_n:E}}},y$=(e,t)=>{const n=Pn(),{vt:s,rn:i,L:o,V:r,Kt:a,gt:l,bt:c,yt:u,an:d}=e,{U:f}=n,m=c&&r,g=Ee(Sm,0),_={display:()=>!1,direction:Y=>Y!=="ltr",flexDirection:Y=>Y.endsWith("-reverse"),writingMode:Y=>Y!=="horizontal-tb"},y=mn(_),b={i:Qc,o:{w:0,h:0}},v={i:ra,o:{}},$=Y=>{u(lv,!m&&Y)},S=Y=>{if(!y.some((x=>{const M=Y[x];return M&&_[x](M)})))return{D:{x:0,y:0},M:{x:1,y:1}};$(!0);const ve=jt(l),pe=u(HS,!0),L=Ye(a,hi,(x=>{const M=jt(l);x.isTrusted&&M.x===ve.x&&M.y===ve.y&&uu(x)}),{A:!0,T:!0});Jt(l,{x:0,y:0}),pe();const fe=jt(l),ae=fa(l);Jt(l,{x:ae.w,y:ae.h});const J=jt(l);Jt(l,{x:J.x-fe.x<1&&-ae.w,y:J.y-fe.y<1&&-ae.h});const me=jt(l);return Jt(l,ve),fo((()=>L())),{D:fe,M:me}},E=(Y,ue)=>{const ve=Pt.devicePixelRatio%1!==0?1:0,pe={w:g(Y.w-ue.w),h:g(Y.h-ue.h)};return{w:pe.w>ve?pe.w:0,h:pe.h>ve?pe.h:0}},F=(Y,ue)=>{const ve=(pe,L,fe,ae)=>{const J=pe===Zn?pn:e$(pe),me=wi(pe),x=wi(fe);return!L&&!ae?pn:me&&x?Zn:me?L&&ae?J:L?Zn:pn:L?J:x&&ae?Zn:pn};return{x:ve(ue.x,Y.x,ue.y,Y.y),y:ve(ue.y,Y.y,ue.x,Y.x)}},P=Y=>{const ue=pe=>[Zn,pn,hi].map((L=>te(wu(L),pe))),ve=ue(!0).concat(ue()).join(" ");u(ve),u(mn(Y).map((pe=>te(Y[pe],pe==="x"))).join(" "),!0)},[H,z]=Ht(b,Ee(au,o)),[C,T]=Ht(b,Ee(fa,o)),[O,R]=Ht(b),[K]=Ht(v),[ee,V]=Ht(b),[U]=Ht(v),[A]=Ht({i:(Y,ue)=>oa(Y,ue,y),o:{}},(()=>FS(o)?On(o,y):{})),[D,ne]=Ht({i:(Y,ue)=>ra(Y.D,ue.D)&&ra(Y.M,ue.M),o:tv()}),X=yi(xu),te=(Y,ue)=>`${ue?DS:LS}${xS(Y)}`;return({zt:Y,Qt:ue,un:ve,At:pe},{_n:L})=>{const{_t:fe,Ht:ae,xt:J,Ct:me,ft:x,Et:M}=ue||{},j=X&&X.R(e,t,ve,n,Y),{X:Z,Y:I,W:N}=j||{},[W,q]=ZS(Y,n),[ie,G]=Y("overflow"),de=wi(ie.x),le=wi(ie.y),he=fe||L||J||me||M||q;let _e=z(pe),Te=T(pe),Re=R(pe),ke=V(pe);if(q&&f&&u(cv,!W),he){eu(s,bs,ma)&&$(!0);const Mg=I&&I(),[Pa]=_e=H(pe),[Ia]=Te=C(pe),Da=Xm(o),La=m&&MS(d()),RF={w:g(Ia.w+Pa.w),h:g(Ia.h+Pa.h)},Fg={w:g((La?La.w:Da.w+g(Da.w-Ia.w))+Pa.w),h:g((La?La.h:Da.h+g(Da.h-Ia.h))+Pa.h)};Mg&&Mg(),ke=ee(Fg),Re=O(E(RF,Fg),pe)}const[Xe,nt]=ke,[ct,xt]=Re,[zn,Ti]=Te,[ht,Dt]=_e,[Lt,ki]=K({x:ct.w>0,y:ct.h>0}),Ma=de&&le&&(Lt.x||Lt.y)||de&&Lt.x&&!Lt.y||le&&Lt.y&&!Lt.x,Fa=L||me||M||Dt||Ti||nt||xt||G||q||he||ae&&m,[qu,Ra]=A(pe),Mo=me||x||Ra||ki||pe,[Fo,Oa]=Mo?D(S(qu),pe):ne();let Cs=F(Lt,ie);$(!1),Fa&&(P(Cs),Cs=t$(o,Lt),N&&Z&&(Z(Cs,zn,ht),_i(o,N(Cs))));const[MF,FF]=U(Cs);return la(s,bs,ma,Ma),la(i,vu,ma,Ma),He(t,{cn:MF,Vt:{x:Xe.w,y:Xe.h},Rt:{x:ct.w,y:ct.h},j:Lt,Dt:RS(Fo,ct)}),{sn:FF,tn:nt,nn:xt,en:Oa||xt}}},b$=e=>{const[t,n,s]=v$(e),i={rn:{t:0,r:0,b:0,l:0},fn:!1,F:{[Om]:0,[Pm]:0,[Rm]:0,[Tm]:0,[km]:0,[Fm]:0,[Mm]:0},Vt:{x:0,y:0},Rt:{x:0,y:0},cn:{x:pn,y:pn},j:{x:!1,y:!1},Dt:tv()},{dt:o,gt:r,V:a,St:l}=t,{U:c,k:u}=Pn(),d=!c&&(u.x||u.y),f=[g$(t),_$(t,i),y$(t,i)];return[n,m=>{const g={},y=d&&jt(r),b=y&&l();return qe(f,(v=>{He(g,v(m,g)||{})})),Jt(r,y),b&&b(),a||Jt(o,0),g},i,t,s]},w$=(e,t,n,s,i)=>{let o=!1;const r=Sv(t,{}),[a,l,c,u,d]=b$(e),[f,m,g]=u$(u,c,r,(S=>{$({},S)})),[_,y,,b]=m$(e,t,g,c,u,i),v=S=>mn(S).some((E=>!!S[E])),$=(S,E)=>{if(n())return!1;const{dn:F,At:P,It:H,pn:z}=S,C=F||{},T=!!P||!o,O={zt:Sv(t,C,T),dn:C,At:T};if(z)return y(O),!1;const R=E||m(He({},O,{It:H})),K=l(He({},O,{un:g,Qt:R}));y(He({},O,{Qt:R,Zt:K}));const ee=v(R),V=v(K),U=ee||V||!Xc(C)||T;return o=!0,U&&s(S,{Qt:R,Zt:K}),U};return[()=>{const{ln:S,gt:E,St:F}=u,P=jt(S),H=[f(),a(),_()],z=F();return Jt(E,P),z(),Ee(Nt,H)},$,()=>({vn:g,gn:c}),{hn:u,bn:b},d]},$u=new WeakMap,x$=(e,t)=>{$u.set(e,t)},S$=e=>{$u.delete(e)},kv=e=>$u.get(e),Zt=(e,t,n)=>{const{tt:s}=Pn(),i=na(e),o=i?e:e.target,r=kv(o);if(t&&!r){let a=!1;const l=[],c={},u=C=>{const T=zm(C),O=yi(PS);return O?O(T,!0):T},d=He({},s(),u(t)),[f,m,g]=pu(),[_,y,b]=pu(n),v=(C,T)=>{b(C,T),g(C,T)},[$,S,E,F,P]=w$(e,d,(()=>a),(({dn:C,At:T},{Qt:O,Zt:R})=>{const{_t:K,Ct:ee,$t:V,xt:U,Ht:A,ft:D}=O,{tn:ne,nn:X,sn:te,en:Y}=R;v("updated",[z,{updateHints:{sizeChanged:!!K,directionChanged:!!ee,heightIntrinsicChanged:!!V,overflowEdgeChanged:!!ne,overflowAmountChanged:!!X,overflowStyleChanged:!!te,scrollCoordinatesChanged:!!Y,contentMutation:!!U,hostMutation:!!A,appear:!!D},changedOptions:C||{},force:!!T}])}),(C=>v("scroll",[z,C]))),H=C=>{S$(o),Nt(l),a=!0,v("destroyed",[z,C]),m(),y()},z={options(C,T){if(C){const O=T?s():{},R=xv(d,He(O,u(C)));Xc(R)||(He(d,R),S({dn:R}))}return He({},d)},on:_,off:(C,T)=>{C&&T&&y(C,T)},state(){const{vn:C,gn:T}=E(),{B:O}=C,{Vt:R,Rt:K,cn:ee,j:V,rn:U,fn:A,Dt:D}=T;return He({},{overflowEdge:R,overflowAmount:K,overflowStyle:ee,hasOverflow:V,scrollCoordinates:{start:D.D,end:D.M},padding:U,paddingAbsolute:A,directionRTL:O,destroyed:a})},elements(){const{dt:C,vt:T,rn:O,L:R,ht:K,gt:ee,Kt:V}=F.hn,{jt:U,Jt:A}=F.bn,D=X=>{const{Mt:te,Ut:Y,Lt:ue}=X;return{scrollbar:ue,track:Y,handle:te}},ne=X=>{const{Xt:te,Yt:Y}=X,ue=D(te[0]);return He({},ue,{clone:()=>{const ve=D(Y());return S({pn:!0}),ve}})};return He({},{target:C,host:T,padding:O||R,viewport:R,content:K||R,scrollOffsetElement:ee,scrollEventElement:V,scrollbarHorizontal:ne(U),scrollbarVertical:ne(A)})},update:C=>S({At:C,It:!0}),destroy:Ee(H,!1),plugin:C=>c[mn(C)[0]]};return Ze(l,[P]),x$(o,z),rv(iv,Zt,[z,f,c]),f$(F.hn.bt,!i&&e.cancel)?(H(!0),z):(Ze(l,$()),v("initialized",[z]),z.update(),z)}return r};Zt.plugin=e=>{const t=Xt(e),n=t?e:[e],s=n.map((i=>rv(i,Zt)[0]));return OS(n),t?s:s[0]},Zt.valid=e=>{const t=e&&e.elements,n=hn(t)&&t();return mo(n)&&!!kv(n.target)},Zt.env=()=>{const{P:e,k:t,U:n,J:s,ot:i,st:o,K:r,Z:a,tt:l,nt:c}=Pn();return He({},{scrollbarsSize:e,scrollbarsOverlaid:t,scrollbarsHiding:n,scrollTimeline:s,staticDefaultInitialization:i,staticDefaultOptions:o,getDefaultInitialization:r,setDefaultInitialization:a,getDefaultOptions:l,setDefaultOptions:c})},Zt.nonce=r$,Zt.trustedTypePolicy=AS;const $$={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function C$(e,t){return w(),k("svg",$$,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"},null,-1)])])}const Cu={render:C$},E$={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"};function A$(e,t){return w(),k("svg",E$,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9.776q.168-.026.344-.026h15.812q.176 0 .344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"},null,-1)])])}const Eu={render:A$},T$={class:"vuefinder__modal-tree__folder-item"},k$={class:"vuefinder__modal-tree__folder-content"},M$={key:1,class:"vuefinder__modal-tree__folder-spacer"},F$={class:"vuefinder__modal-tree__folder-text"},R$={key:0,class:"vuefinder__modal-tree__subfolders"},O$={key:0,class:"vuefinder__modal-tree__more-note"},P$=300,I$=xe({__name:"ModalTreeFolderItem",props:{folder:{},storage:{},modelValue:{},expandedFolders:{},modalTreeData:{},currentPath:{}},emits:["update:modelValue","selectAndClose","toggleFolder"],setup(e,{emit:t}){const n=Ce(),{t:s}=n.i18n,i=n.fs,o=Q({}),r=e,a=t;we(i.path);const l=ce(()=>{const P=`${r.storage}:${r.folder.path}`;return r.expandedFolders[P]||!1}),c=ce(()=>r.modelValue?.path===r.folder.path),u=ce(()=>r.currentPath?.path===r.folder.path),d=ce(()=>r.modalTreeData[r.folder.path]||[]),f=ce(()=>{const P=d.value,H=o.value[r.folder.path]||50;return P.length>H?P.slice(0,H):P}),m=ce(()=>d.value.length),g=ce(()=>o.value[r.folder.path]||50),_=ce(()=>m.value>g.value),y=()=>{o.value[r.folder.path]=(g.value||50)+50},b=ce(()=>d.value.length>0||r.folder.type==="dir"),v=()=>{a("toggleFolder",r.storage,r.folder.path)},$=()=>{a("update:modelValue",r.folder)},S=()=>{a("update:modelValue",r.folder),a("selectAndClose",r.folder)};let E=0;const F=()=>{const P=Date.now();P-E<P$?S():$(),E=P};return(P,H)=>{const z=on("ModalTreeFolderItem",!0);return w(),k("div",T$,[p("div",k$,[b.value?(w(),k("div",{key:0,class:"vuefinder__modal-tree__folder-toggle",onClick:v},[l.value?(w(),oe(h(Qr),{key:1,class:"vuefinder__modal-tree__folder-toggle-icon"})):(w(),oe(h(Gr),{key:0,class:"vuefinder__modal-tree__folder-toggle-icon"}))])):(w(),k("div",M$)),p("div",{class:ge(["vuefinder__modal-tree__folder-link",{"vuefinder__modal-tree__folder-link--selected":c.value,"vuefinder__modal-tree__folder-link--current":u.value}]),onClick:$,onDblclick:S,onTouchend:F},[l.value?(w(),oe(h(Eu),{key:1,class:"vuefinder__item-icon__folder--open vuefinder__modal-tree__folder-icon"})):(w(),oe(h(Fn),{key:0,class:"vuefinder__modal-tree__folder-icon vuefinder__item-icon__folder"})),p("span",F$,B(e.folder.basename),1)],34)]),l.value&&b.value?(w(),k("div",R$,[(w(!0),k($e,null,Ve(f.value,C=>(w(),oe(z,{key:C.path,folder:C,storage:e.storage,"model-value":e.modelValue,"expanded-folders":e.expandedFolders,"modal-tree-data":e.modalTreeData,"current-path":e.currentPath,"onUpdate:modelValue":H[0]||(H[0]=T=>P.$emit("update:modelValue",T)),onSelectAndClose:H[1]||(H[1]=T=>P.$emit("selectAndClose",T)),onToggleFolder:H[2]||(H[2]=(T,O)=>P.$emit("toggleFolder",T,O))},null,8,["folder","storage","model-value","expanded-folders","modal-tree-data","current-path"]))),128)),_.value?(w(),k("div",O$,[p("div",{class:"vuefinder__modal-tree__load-more",onClick:y},B(h(s)("load more")),1)])):re("",!0)])):re("",!0)])}}}),D$={class:"vuefinder__modal-tree"},L$={class:"vuefinder__modal-tree__header"},z$={class:"vuefinder__modal-tree__title"},B$={key:0,class:"vuefinder__modal-tree__section"},H$={class:"vuefinder__modal-tree__section-title"},N$={class:"vuefinder__modal-tree__list"},j$=["onClick","onDblclick","onTouchend"],U$={class:"vuefinder__modal-tree__text"},V$={class:"vuefinder__modal-tree__text-storage"},W$={class:"vuefinder__modal-tree__section-title"},q$={class:"vuefinder__modal-tree__list"},K$={class:"vuefinder__modal-tree__storage-item"},Y$={class:"vuefinder__modal-tree__storage-content"},G$=["onClick"],Q$=["onClick","onDblclick","onTouchend"],X$={class:"vuefinder__modal-tree__storage-text"},J$={key:0,class:"vuefinder__modal-tree__subfolders"},Z$={key:0,class:"vuefinder__modal-tree__more-note"},eC=["onClick"],Mv=300,Au=xe({__name:"ModalTreeSelector",props:{modelValue:{},showPinnedFolders:{type:Boolean},currentPath:{}},emits:["update:modelValue","selectAndClose"],setup(e,{emit:t}){const n=Ce(),{t:s}=n.i18n,i=n.fs,o=n.config,r=t,a=we(i.sortedFiles),l=we(i.storages),c=ce(()=>l.value||[]),u=we(i.path),d=Q(null),f=Q({}),m=Q({}),g=Q({});Me(a,R=>{const K=R.filter(V=>V.type==="dir"),ee=u.value?.path||"";ee&&(m.value[ee]=K.map(V=>({...V,type:"dir"})))});const _=(R,K)=>{const ee=`${R}:${K}`;f.value={...f.value,[ee]:!f.value[ee]},f.value[ee]&&!m.value[K]&&n.adapter.list(K).then(V=>{const A=(V.files||[]).filter(D=>D.type==="dir");m.value[K]=A.map(D=>({...D,type:"dir"}))})},y=R=>m.value[R]||[],b=R=>g.value[R]||50,v=R=>{const K=y(R),ee=b(R);return K.length>ee?K.slice(0,ee):K},$=R=>y(R).length,S=R=>$(R)>b(R),E=R=>{g.value[R]=b(R)+50},F=R=>{R&&r("update:modelValue",R)},P=R=>{R&&(r("update:modelValue",R),r("selectAndClose",R))},H=R=>{const K={storage:R,path:R+"://",basename:R,type:"dir",extension:"",file_size:null,last_modified:null,mime_type:null,visibility:"public",dir:R+"://"};r("update:modelValue",K)},z=R=>{const K={storage:R,path:R+"://",basename:R,type:"dir",extension:"",file_size:null,last_modified:null,mime_type:null,visibility:"public",dir:R+"://"};r("update:modelValue",K),r("selectAndClose",K)};let C=0;const T=R=>{if(!R)return;const K=Date.now();K-C<Mv?P(R):F(R),C=K},O=R=>{const K=Date.now();K-C<Mv?z(R):H(R),C=K};return Le(()=>{d.value&&Zt(d.value,{overflow:{x:"hidden"},scrollbars:{theme:"vf-scrollbars-theme"}})}),(R,K)=>(w(),k("div",D$,[p("div",L$,[p("div",z$,B(h(s)("Select Target Folder")),1)]),p("div",{ref_key:"modalContentElement",ref:d,class:"vuefinder__modal-tree__content"},[e.showPinnedFolders&&h(n).features.pinned&&h(o).get("pinnedFolders").length?(w(),k("div",B$,[p("div",H$,B(h(s)("Pinned Folders")),1),p("div",N$,[(w(!0),k($e,null,Ve(h(o).get("pinnedFolders"),ee=>(w(),k("div",{key:ee.path,class:ge(["vuefinder__modal-tree__item",{"vuefinder__modal-tree__item--selected":e.modelValue?.path===ee.path}]),onClick:V=>F(ee),onDblclick:V=>P(ee),onTouchend:V=>T(ee)},[se(h(Fn),{class:"vuefinder__modal-tree__icon vuefinder__item-icon__folder"}),p("div",U$,B(ee.basename),1),p("div",V$,B(ee.storage),1),se(h(Hc),{class:"vuefinder__modal-tree__icon vuefinder__modal-tree__icon--pin"})],42,j$))),128))])])):re("",!0),p("div",W$,B(h(s)("Storages")),1),(w(!0),k($e,null,Ve(c.value,ee=>(w(),k("div",{key:ee,class:"vuefinder__modal-tree__section"},[p("div",q$,[p("div",K$,[p("div",Y$,[p("div",{class:"vuefinder__modal-tree__storage-toggle",onClick:Pe(V=>_(ee,ee+"://"),["stop"])},[f.value[`${ee}:${ee}://`]?(w(),oe(h(Qr),{key:1,class:"vuefinder__modal-tree__toggle-icon"})):(w(),oe(h(Gr),{key:0,class:"vuefinder__modal-tree__toggle-icon"}))],8,G$),p("div",{class:ge(["vuefinder__modal-tree__storage-link",{"vuefinder__modal-tree__storage-link--selected":e.modelValue?.path===ee+"://"}]),onClick:V=>H(ee),onDblclick:V=>z(ee),onTouchend:V=>O(ee)},[se(h(Cu),{class:"vuefinder__modal-tree__storage-icon"}),p("span",X$,B(ee),1)],42,Q$)]),f.value[`${ee}:${ee}://`]?(w(),k("div",J$,[(w(!0),k($e,null,Ve(v(ee+"://"),V=>(w(),oe(I$,{key:V.path,folder:V,storage:ee,"model-value":e.modelValue,"expanded-folders":f.value,"modal-tree-data":m.value,"current-path":e.currentPath,"onUpdate:modelValue":F,onSelectAndClose:P,onToggleFolder:_},null,8,["folder","storage","model-value","expanded-folders","modal-tree-data","current-path"]))),128)),S(ee+"://")?(w(),k("div",Z$,[p("div",{class:"vuefinder__modal-tree__load-more",onClick:V=>E(ee+"://")},B(h(s)("load more")),9,eC)])):re("",!0)])):re("",!0)])])]))),128))],512)]))}}),tC=["title"],Tu=xe({__name:"Message",props:{error:{type:Boolean}},emits:["hidden"],setup(e,{emit:t}){const n=t,s=Ce(),{t:i}=s.i18n,o=Q(!1),r=Q(null),a=Q(r.value?.innerHTML);Me(a,()=>o.value=!1);const l=()=>{n("hidden"),o.value=!0};return(c,u)=>(w(),k("div",null,[o.value?re("",!0):(w(),k("div",{key:0,ref_key:"strMessage",ref:r,class:ge(["vuefinder__message",e.error?"vuefinder__message--error":"vuefinder__message--success"])},[Oe(c.$slots,"default"),p("div",{class:"vuefinder__message__close",title:h(i)("Close"),onClick:l},[...u[0]||(u[0]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"vuefinder__message__icon"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,tC)],2))]))}}),nC={class:"vuefinder__move-modal__content"},sC={class:"vuefinder__move-modal__description"},iC={class:"vuefinder__move-modal__files vf-scrollbar"},oC={class:"vuefinder__move-modal__file-name"},rC={class:"vuefinder__move-modal__target-title"},aC={class:"vuefinder__move-modal__target-container"},lC={class:"vuefinder__move-modal__target-path"},cC={class:"vuefinder__move-modal__target-storage"},uC={key:0,class:"vuefinder__move-modal__destination-folder"},dC={class:"vuefinder__move-modal__target-badge"},fC={key:0,class:"vuefinder__move-modal__options"},hC={class:"vuefinder__move-modal__checkbox-label"},pC={class:"vuefinder__move-modal__checkbox-text"},mC=["disabled"],vC={class:"vuefinder__move-modal__selected-items"},Fv=xe({__name:"ModalTransfer",props:{copy:{type:Boolean}},setup(e){const t=Ce(),{enabled:n}=dn(),{t:s}=t.i18n,i=e,o=Q(t.modal.data.items.from),r=Q(t.modal.data.items.to),a=Q(""),l=Q(i.copy||!n("move")),c=ce(()=>l.value?"copy":"move"),u=Q(!1),d=we(t.fs.path),f=ce(()=>l.value?s("Copy files"):s("Move files")),m=ce(()=>l.value?s("Are you sure you want to copy these files?"):s("Are you sure you want to move these files?")),g=ce(()=>l.value?s("Yes, Copy!"):s("Yes, Move!"));ce(()=>l.value?s("Files copied."):s("Files moved."));const _=E=>{E&&(r.value=E)},y=E=>{E&&(r.value=E,u.value=!1)},b=ce(()=>{const E=r.value;return E?o.value.some(F=>!!(E.path===F.path||F.path.startsWith(E.path+"/")||F.type==="dir"&&E.path.startsWith(F.path+"/"))):!0}),v=ce(()=>{if(!b.value)return"";const E=r.value;return E?o.value.find(P=>E.path===P.path||P.path.startsWith(E.path+"/")||P.type==="dir"&&E.path.startsWith(P.path+"/"))?s("Cannot move/copy item to itself or its parent/child directory"):s("Invalid destination directory"):s("Please select a destination directory")}),$=()=>{const E=r.value.path;if(!E)return{storage:"local",path:""};if(E.endsWith("://"))return{storage:E.replace("://",""),path:""};const F=E.split("://");return{storage:F[0]||"local",path:F[1]||""}},S=async()=>{if(o.value.length)try{const{files:E}=await t.adapter[c.value]({path:d.value.path,sources:o.value.map(({path:F})=>F),destination:r.value.path});t.fs.setFiles(E),t.modal.close()}catch(E){Ue.error(Ft(E,s("Failed to transfer files")))}};return(E,F)=>(w(),oe(Bt,null,{buttons:be(()=>[p("button",{type:"button",class:"vf-btn vf-btn-primary",disabled:b.value,onClick:S},B(g.value),9,mC),p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:F[4]||(F[4]=P=>h(t).modal.close())},B(h(s)("Cancel")),1),p("div",vC,B(h(s)("%s item(s) selected.",o.value.length)),1)]),default:be(()=>[p("div",null,[se(Yt,{icon:l.value?h(Bc):h(cS),title:f.value},null,8,["icon","title"]),p("div",nC,[p("p",sC,B(m.value),1),p("div",iC,[(w(!0),k($e,null,Ve(o.value,P=>(w(),k("div",{key:P.path,class:"vuefinder__move-modal__file"},[p("div",null,[P.type==="dir"?(w(),oe(h(Fn),{key:0,class:"vuefinder__move-modal__icon vuefinder__move-modal__icon--dir"})):(w(),oe(h(uo),{key:1,class:"vuefinder__move-modal__icon"}))]),p("div",oC,B(P.path),1)]))),128))]),p("h4",rC,B(h(s)("Target Directory")),1),p("div",aC,[p("div",{class:"vuefinder__move-modal__target-display",onClick:F[0]||(F[0]=P=>u.value=!u.value)},[p("div",lC,[p("span",cC,B($().storage)+"://",1),$().path?(w(),k("span",uC,B($().path),1)):re("",!0)]),p("span",dC,B(h(s)("Browse")),1)])]),p("div",{class:ge(["vuefinder__move-modal__tree-selector",u.value?"vuefinder__move-modal__tree-selector--expanded":"vuefinder__move-modal__tree-selector--collapsed"])},[se(Au,{modelValue:r.value,"onUpdate:modelValue":[F[1]||(F[1]=P=>r.value=P),_],"show-pinned-folders":!0,onSelectAndClose:y},null,8,["modelValue"])],2),h(n)("copy")&&h(n)("move")?(w(),k("div",fC,[p("label",hC,[Ke(p("input",{"onUpdate:modelValue":F[2]||(F[2]=P=>l.value=P),type:"checkbox",class:"vuefinder__move-modal__checkbox"},null,512),[[mr,l.value]]),p("span",pC,B(h(s)("Create a copy instead of moving")),1)])])):re("",!0),v.value?(w(),oe(Tu,{key:1,error:""},{default:be(()=>[je(B(v.value),1)]),_:1})):re("",!0),a.value.length&&!v.value?(w(),oe(Tu,{key:2,error:"",onHidden:F[3]||(F[3]=P=>a.value="")},{default:be(()=>[je(B(a.value),1)]),_:1})):re("",!0)])])]),_:1}))}}),xi=xe({__name:"ModalMove",setup(e){return(t,n)=>(w(),oe(Fv,{copy:!1}))}}),ku=xe({__name:"ModalCopy",setup(e){return(t,n)=>(w(),oe(Fv,{copy:!0}))}}),gC=(e,t=0,n=!1)=>{let s;return(...i)=>{n&&!s&&e(...i),clearTimeout(s),s=setTimeout(()=>{e(...i)},t)}},Rv=(e,t,n)=>{const s=Q(e);return $d((i,o)=>({get(){return i(),s.value},set:gC(r=>{s.value=r,o()},t,!1)}))},_C={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"};function yC(e,t){return w(),k("svg",_C,[...t[0]||(t[0]=[p("path",{d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607"},null,-1)])])}const Mu={render:yC},bC={xmlns:"http://www.w3.org/2000/svg",fill:"none",class:"animate-spin p-0.5 h-5 w-5 text-white ml-auto",viewBox:"0 0 24 24"};function wC(e,t){return w(),k("svg",bC,[...t[0]||(t[0]=[p("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",class:"opacity-25 stroke-blue-900"},null,-1),p("path",{fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8V0C5.373 0 0 5.373 0 12zm2 5.291A7.96 7.96 0 0 1 4 12H0c0 3.042 1.135 5.824 3 7.938z",class:"opacity-75"},null,-1)])])}const ga={render:wC},xC={class:"vuefinder__search-modal__search-input"},SC=["value","placeholder","disabled"],$C={key:0,class:"vuefinder__search-modal__loading"},CC=xe({name:"SearchInput",__name:"SearchInput",props:{modelValue:{},isSearching:{type:Boolean},disabled:{type:Boolean}},emits:["update:modelValue","keydown"],setup(e,{expose:t,emit:n}){const s=n,i=Ce(),{t:o}=i.i18n,r=Q(null),a=c=>{const u=c.target;s("update:modelValue",u.value)},l=c=>{s("keydown",c)};return t({focus:()=>{r.value&&r.value.focus()}}),(c,u)=>(w(),k("div",xC,[se(h(Mu),{class:"vuefinder__search-modal__search-icon"}),p("input",{ref_key:"searchInput",ref:r,value:e.modelValue,type:"text",placeholder:h(o)("Search files"),disabled:e.disabled,class:"vuefinder__search-modal__input",onKeydown:l,onKeyup:u[0]||(u[0]=Pe(()=>{},["stop"])),onInput:a},null,40,SC),e.isSearching?(w(),k("div",$C,[se(h(ga),{class:"vuefinder__search-modal__loading-icon"})])):re("",!0)]))}}),_a=Math.min,Ns=Math.max,ya=Math.round,ba=Math.floor,In=e=>({x:e,y:e}),EC={left:"right",right:"left",bottom:"top",top:"bottom"},AC={start:"end",end:"start"};function Ov(e,t,n){return Ns(e,_a(t,n))}function wa(e,t){return typeof e=="function"?e(t):e}function js(e){return e.split("-")[0]}function xa(e){return e.split("-")[1]}function Pv(e){return e==="x"?"y":"x"}function Iv(e){return e==="y"?"height":"width"}const TC=new Set(["top","bottom"]);function ws(e){return TC.has(js(e))?"y":"x"}function Dv(e){return Pv(ws(e))}function kC(e,t,n){n===void 0&&(n=!1);const s=xa(e),i=Dv(e),o=Iv(i);let r=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=Sa(r)),[r,Sa(r)]}function MC(e){const t=Sa(e);return[Fu(e),t,Fu(t)]}function Fu(e){return e.replace(/start|end/g,t=>AC[t])}const Lv=["left","right"],zv=["right","left"],FC=["top","bottom"],RC=["bottom","top"];function OC(e,t,n){switch(e){case"top":case"bottom":return n?t?zv:Lv:t?Lv:zv;case"left":case"right":return t?FC:RC;default:return[]}}function PC(e,t,n,s){const i=xa(e);let o=OC(js(e),n==="start",s);return i&&(o=o.map(r=>r+"-"+i),t&&(o=o.concat(o.map(Fu)))),o}function Sa(e){return e.replace(/left|right|bottom|top/g,t=>EC[t])}function IC(e){return{top:0,right:0,bottom:0,left:0,...e}}function DC(e){return typeof e!="number"?IC(e):{top:e,right:e,bottom:e,left:e}}function $a(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function Bv(e,t,n){let{reference:s,floating:i}=e;const o=ws(t),r=Dv(t),a=Iv(r),l=js(t),c=o==="y",u=s.x+s.width/2-i.width/2,d=s.y+s.height/2-i.height/2,f=s[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:s.y-i.height};break;case"bottom":m={x:u,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:d};break;case"left":m={x:s.x-i.width,y:d};break;default:m={x:s.x,y:s.y}}switch(xa(t)){case"start":m[r]-=f*(n&&c?-1:1);break;case"end":m[r]+=f*(n&&c?-1:1);break}return m}const LC=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:r}=n,a=o.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(t));let c=await r.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Bv(c,s,l),f=s,m={},g=0;for(let _=0;_<a.length;_++){const{name:y,fn:b}=a[_],{x:v,y:$,data:S,reset:E}=await b({x:u,y:d,initialPlacement:s,placement:f,strategy:i,middlewareData:m,rects:c,platform:r,elements:{reference:e,floating:t}});u=v??u,d=$??d,m={...m,[y]:{...m[y],...S}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:u,y:d}=Bv(c,f,l)),_=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:m}};async function Hv(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:o,rects:r,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=wa(t,e),g=DC(m),y=a[f?d==="floating"?"reference":"floating":d],b=$a(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=d==="floating"?{x:s,y:i,width:r.floating.width,height:r.floating.height}:r.reference,$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement($))?await(o.getScale==null?void 0:o.getScale($))||{x:1,y:1}:{x:1,y:1},E=$a(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:$,strategy:l}):v);return{top:(b.top-E.top+g.top)/S.y,bottom:(E.bottom-b.bottom+g.bottom)/S.y,left:(b.left-E.left+g.left)/S.x,right:(E.right-b.right+g.right)/S.x}}const zC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:o,rects:r,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:_=!0,...y}=wa(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=js(i),v=ws(a),$=js(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||($||!_?[Sa(a)]:MC(a)),F=g!=="none";!f&&F&&E.push(...PC(a,_,g,S));const P=[a,...E],H=await Hv(t,y),z=[];let C=((s=o.flip)==null?void 0:s.overflows)||[];if(u&&z.push(H[b]),d){const K=kC(i,r,S);z.push(H[K[0]],H[K[1]])}if(C=[...C,{placement:i,overflows:z}],!z.every(K=>K<=0)){var T,O;const K=(((T=o.flip)==null?void 0:T.index)||0)+1,ee=P[K];if(ee&&(!(d==="alignment"?v!==ws(ee):!1)||C.every(A=>ws(A.placement)===v?A.overflows[0]>0:!0)))return{data:{index:K,overflows:C},reset:{placement:ee}};let V=(O=C.filter(U=>U.overflows[0]<=0).sort((U,A)=>U.overflows[1]-A.overflows[1])[0])==null?void 0:O.placement;if(!V)switch(m){case"bestFit":{var R;const U=(R=C.filter(A=>{if(F){const D=ws(A.placement);return D===v||D==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(D=>D>0).reduce((D,ne)=>D+ne,0)]).sort((A,D)=>A[1]-D[1])[0])==null?void 0:R[0];U&&(V=U);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}},BC=new Set(["left","top"]);async function HC(e,t){const{placement:n,platform:s,elements:i}=e,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),r=js(n),a=xa(n),l=ws(n)==="y",c=BC.has(r)?-1:1,u=o&&l?-1:1,d=wa(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const NC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:o,placement:r,middlewareData:a}=t,l=await HC(t,e);return r===((n=a.offset)==null?void 0:n.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:r}}}}},jC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:o=!0,crossAxis:r=!1,limiter:a={fn:y=>{let{x:b,y:v}=y;return{x:b,y:v}}},...l}=wa(e,t),c={x:n,y:s},u=await Hv(t,l),d=ws(js(i)),f=Pv(d);let m=c[f],g=c[d];if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=m+u[y],$=m-u[b];m=Ov(v,m,$)}if(r){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",v=g+u[y],$=g-u[b];g=Ov(v,g,$)}const _=a.fn({...t,[f]:m,[d]:g});return{..._,data:{x:_.x-n,y:_.y-s,enabled:{[f]:o,[d]:r}}}}}};function Ca(){return typeof window<"u"}function Si(e){return Nv(e)?(e.nodeName||"").toLowerCase():"#document"}function Vt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dn(e){var t;return(t=(Nv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Nv(e){return Ca()?e instanceof Node||e instanceof Vt(e).Node:!1}function vn(e){return Ca()?e instanceof Element||e instanceof Vt(e).Element:!1}function Ln(e){return Ca()?e instanceof HTMLElement||e instanceof Vt(e).HTMLElement:!1}function jv(e){return!Ca()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vt(e).ShadowRoot}const UC=new Set(["inline","contents"]);function wo(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=gn(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!UC.has(i)}const VC=new Set(["table","td","th"]);function WC(e){return VC.has(Si(e))}const qC=[":popover-open",":modal"];function Ea(e){return qC.some(t=>{try{return e.matches(t)}catch{return!1}})}const KC=["transform","translate","scale","rotate","perspective"],YC=["transform","translate","scale","rotate","perspective","filter"],GC=["paint","layout","strict","content"];function Ru(e){const t=Ou(),n=vn(e)?gn(e):e;return KC.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||YC.some(s=>(n.willChange||"").includes(s))||GC.some(s=>(n.contain||"").includes(s))}function QC(e){let t=xs(e);for(;Ln(t)&&!$i(t);){if(Ru(t))return t;if(Ea(t))return null;t=xs(t)}return null}function Ou(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XC=new Set(["html","body","#document"]);function $i(e){return XC.has(Si(e))}function gn(e){return Vt(e).getComputedStyle(e)}function Aa(e){return vn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xs(e){if(Si(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jv(e)&&e.host||Dn(e);return jv(t)?t.host:t}function Uv(e){const t=xs(e);return $i(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ln(t)&&wo(t)?t:Uv(t)}function xo(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Uv(e),o=i===((s=e.ownerDocument)==null?void 0:s.body),r=Vt(i);if(o){const a=Pu(r);return t.concat(r,r.visualViewport||[],wo(i)?i:[],a&&n?xo(a):[])}return t.concat(i,xo(i,[],n))}function Pu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Vv(e){const t=gn(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=Ln(e),o=i?e.offsetWidth:n,r=i?e.offsetHeight:s,a=ya(n)!==o||ya(s)!==r;return a&&(n=o,s=r),{width:n,height:s,$:a}}function Iu(e){return vn(e)?e:e.contextElement}function Ci(e){const t=Iu(e);if(!Ln(t))return In(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:o}=Vv(t);let r=(o?ya(n.width):n.width)/s,a=(o?ya(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!a||!Number.isFinite(a))&&(a=1),{x:r,y:a}}const JC=In(0);function Wv(e){const t=Vt(e);return!Ou()||!t.visualViewport?JC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ZC(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Vt(e)?!1:t}function Us(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Iu(e);let r=In(1);t&&(s?vn(s)&&(r=Ci(s)):r=Ci(e));const a=ZC(o,n,s)?Wv(o):In(0);let l=(i.left+a.x)/r.x,c=(i.top+a.y)/r.y,u=i.width/r.x,d=i.height/r.y;if(o){const f=Vt(o),m=s&&vn(s)?Vt(s):s;let g=f,_=Pu(g);for(;_&&s&&m!==g;){const y=Ci(_),b=_.getBoundingClientRect(),v=gn(_),$=b.left+(_.clientLeft+parseFloat(v.paddingLeft))*y.x,S=b.top+(_.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=$,c+=S,g=Vt(_),_=Pu(g)}}return $a({width:u,height:d,x:l,y:c})}function Ta(e,t){const n=Aa(e).scrollLeft;return t?t.left+n:Us(Dn(e)).left+n}function qv(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Ta(e,n),i=n.top+t.scrollTop;return{x:s,y:i}}function eE(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const o=i==="fixed",r=Dn(s),a=t?Ea(t.floating):!1;if(s===r||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=In(1);const u=In(0),d=Ln(s);if((d||!d&&!o)&&((Si(s)!=="body"||wo(r))&&(l=Aa(s)),Ln(s))){const m=Us(s);c=Ci(s),u.x=m.x+s.clientLeft,u.y=m.y+s.clientTop}const f=r&&!d&&!o?qv(r,l):In(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function tE(e){return Array.from(e.getClientRects())}function nE(e){const t=Dn(e),n=Aa(e),s=e.ownerDocument.body,i=Ns(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=Ns(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let r=-n.scrollLeft+Ta(e);const a=-n.scrollTop;return gn(s).direction==="rtl"&&(r+=Ns(t.clientWidth,s.clientWidth)-i),{width:i,height:o,x:r,y:a}}const Kv=25;function sE(e,t){const n=Vt(e),s=Dn(e),i=n.visualViewport;let o=s.clientWidth,r=s.clientHeight,a=0,l=0;if(i){o=i.width,r=i.height;const u=Ou();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=Ta(s);if(c<=0){const u=s.ownerDocument,d=u.body,f=getComputedStyle(d),m=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(s.clientWidth-d.clientWidth-m);g<=Kv&&(o-=g)}else c<=Kv&&(o+=c);return{width:o,height:r,x:a,y:l}}const iE=new Set(["absolute","fixed"]);function oE(e,t){const n=Us(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ln(e)?Ci(e):In(1),r=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=s*o.y;return{width:r,height:a,x:l,y:c}}function Yv(e,t,n){let s;if(t==="viewport")s=sE(e,n);else if(t==="document")s=nE(Dn(e));else if(vn(t))s=oE(t,n);else{const i=Wv(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return $a(s)}function Gv(e,t){const n=xs(e);return n===t||!vn(n)||$i(n)?!1:gn(n).position==="fixed"||Gv(n,t)}function rE(e,t){const n=t.get(e);if(n)return n;let s=xo(e,[],!1).filter(a=>vn(a)&&Si(a)!=="body"),i=null;const o=gn(e).position==="fixed";let r=o?xs(e):e;for(;vn(r)&&!$i(r);){const a=gn(r),l=Ru(r);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&iE.has(i.position)||wo(r)&&!l&&Gv(e,r))?s=s.filter(u=>u!==r):i=a,r=xs(r)}return t.set(e,s),s}function aE(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const r=[...n==="clippingAncestors"?Ea(t)?[]:rE(t,this._c):[].concat(n),s],a=r[0],l=r.reduce((c,u)=>{const d=Yv(t,u,i);return c.top=Ns(d.top,c.top),c.right=_a(d.right,c.right),c.bottom=_a(d.bottom,c.bottom),c.left=Ns(d.left,c.left),c},Yv(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lE(e){const{width:t,height:n}=Vv(e);return{width:t,height:n}}function cE(e,t,n){const s=Ln(t),i=Dn(t),o=n==="fixed",r=Us(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=In(0);function c(){l.x=Ta(i)}if(s||!s&&!o)if((Si(t)!=="body"||wo(i))&&(a=Aa(t)),s){const m=Us(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&c();o&&!s&&i&&c();const u=i&&!s&&!o?qv(i,a):In(0),d=r.left+a.scrollLeft-l.x-u.x,f=r.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:r.width,height:r.height}}function Du(e){return gn(e).position==="static"}function Qv(e,t){if(!Ln(e)||gn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Dn(e)===n&&(n=n.ownerDocument.body),n}function Xv(e,t){const n=Vt(e);if(Ea(e))return n;if(!Ln(e)){let i=xs(e);for(;i&&!$i(i);){if(vn(i)&&!Du(i))return i;i=xs(i)}return n}let s=Qv(e,t);for(;s&&WC(s)&&Du(s);)s=Qv(s,t);return s&&$i(s)&&Du(s)&&!Ru(s)?n:s||QC(e)||n}const uE=async function(e){const t=this.getOffsetParent||Xv,n=this.getDimensions,s=await n(e.floating);return{reference:cE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function dE(e){return gn(e).direction==="rtl"}const fE={convertOffsetParentRelativeRectToViewportRelativeRect:eE,getDocumentElement:Dn,getClippingRect:aE,getOffsetParent:Xv,getElementRects:uE,getClientRects:tE,getDimensions:lE,getScale:Ci,isElement:vn,isRTL:dE};function Jv(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hE(e,t){let n=null,s;const i=Dn(e);function o(){var a;clearTimeout(s),(a=n)==null||a.disconnect(),n=null}function r(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:m}=c;if(a||t(),!f||!m)return;const g=ba(d),_=ba(i.clientWidth-(u+f)),y=ba(i.clientHeight-(d+m)),b=ba(u),$={rootMargin:-g+"px "+-_+"px "+-y+"px "+-b+"px",threshold:Ns(0,_a(1,l))||1};let S=!0;function E(F){const P=F[0].intersectionRatio;if(P!==l){if(!S)return r();P?r(!1,P):s=setTimeout(()=>{r(!1,1e-7)},1e3)}P===1&&!Jv(c,e.getBoundingClientRect())&&r(),S=!1}try{n=new IntersectionObserver(E,{...$,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,$)}n.observe(e)}return r(!0),o}function Lu(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,c=Iu(e),u=i||o?[...c?xo(c):[],...xo(t)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const d=c&&a?hE(c,n):null;let f=-1,m=null;r&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var $;($=m)==null||$.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let g,_=l?Us(e):null;l&&y();function y(){const b=Us(e);_&&!Jv(_,b)&&n(),_=b,g=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),d?.(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const So=NC,$o=jC,Co=zC,Ei=(e,t,n)=>{const s=new Map,i={platform:fE,...n},o={...i.platform,_c:s};return LC(e,t,{...i,platform:o})},pE={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"};function mE(e,t){return w(),k("svg",pE,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87q.11.06.22.127c.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a8 8 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a7 7 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a7 7 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a7 7 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124q.108-.066.22-.128c.332-.183.582-.495.644-.869z"},null,-1),p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0"},null,-1)])])}const Zv={render:mE},vE=["disabled","title"],gE=["data-theme"],_E={class:"vuefinder__search-modal__dropdown-content"},yE={class:"vuefinder__search-modal__dropdown-section"},bE={class:"vuefinder__search-modal__dropdown-title"},wE={class:"vuefinder__search-modal__dropdown-options"},xE={key:0,class:"vuefinder__search-modal__dropdown-option-check"},SE={key:0,class:"vuefinder__search-modal__dropdown-option-check"},$E={key:0,class:"vuefinder__search-modal__dropdown-option-check"},CE={key:0,class:"vuefinder__search-modal__dropdown-option-check"},EE=xe({name:"SearchOptionsDropdown",__name:"SearchOptionsDropdown",props:{visible:{type:Boolean},disabled:{type:Boolean,default:!1},sizeFilter:{},selectedOption:{}},emits:["update:visible","update:sizeFilter","update:selectedOption","keydown"],setup(e,{expose:t,emit:n}){const s=e,i=n,o=Ce(),{t:r}=o.i18n,a=Q(null),l=Q(null);let c=null;const u=_=>{if(i("update:selectedOption",_),_.startsWith("size-")){const y=_.split("-")[1];i("update:sizeFilter",y)}},d=async()=>{s.disabled||(s.visible?(i("update:visible",!1),c&&(c(),c=null)):(i("update:visible",!0),await gt(),await f()))},f=async()=>{if(!(!a.value||!l.value)&&(await gt(),!(!a.value||!l.value))){Object.assign(l.value.style,{position:"fixed",zIndex:"10001",opacity:"0",transform:"translateY(-8px)",transition:"opacity 150ms ease-out, transform 150ms ease-out"});try{const{x:_,y}=await Ei(a.value,l.value,{placement:"bottom-start",strategy:"fixed",middleware:[So(8),Co({padding:16}),$o({padding:16})]});Object.assign(l.value.style,{left:`${_}px`,top:`${y}px`}),requestAnimationFrame(()=>{l.value&&Object.assign(l.value.style,{opacity:"1",transform:"translateY(0)"})})}catch(_){console.warn("Floating UI initial positioning error:",_);return}try{c=Lu(a.value,l.value,async()=>{if(!(!a.value||!l.value))try{const{x:_,y}=await Ei(a.value,l.value,{placement:"bottom-start",strategy:"fixed",middleware:[So(8),Co({padding:16}),$o({padding:16})]});Object.assign(l.value.style,{left:`${_}px`,top:`${y}px`})}catch(_){console.warn("Floating UI positioning error:",_)}})}catch(_){console.warn("Floating UI autoUpdate setup error:",_),c=null}}},m=_=>{if(!s.visible)return;const y=["size-all","size-small","size-medium","size-large"],b=y.findIndex(v=>v===s.selectedOption);if(_.key==="ArrowDown"){_.preventDefault();const v=(b+1)%y.length;i("update:selectedOption",y[v]||null)}else if(_.key==="ArrowUp"){_.preventDefault();const v=b<=0?y.length-1:b-1;i("update:selectedOption",y[v]||null)}else _.key==="Enter"?(_.preventDefault(),s.selectedOption?.startsWith("size-")&&i("update:sizeFilter",s.selectedOption.split("-")[1])):_.key==="Escape"&&(_.preventDefault(),i("update:visible",!1),c&&(c(),c=null))},g=()=>{c&&(c(),c=null)};return Me(()=>s.visible,_=>{!_&&c&&(c(),c=null)}),rt(()=>{g()}),t({cleanup:g}),(_,y)=>(w(),k($e,null,[p("button",{ref_key:"dropdownBtn",ref:a,class:ge(["vuefinder__search-modal__dropdown-btn",{"vuefinder__search-modal__dropdown-btn--active":e.visible}]),disabled:e.disabled,title:h(r)("Search Options"),onClick:Pe(d,["stop"])},[se(h(Zv),{class:"vuefinder__search-modal__dropdown-icon"})],10,vE),(w(),oe(Hi,{to:"body"},[e.visible?(w(),k("div",{key:0,ref_key:"dropdownContent",ref:l,class:"vuefinder__themer vuefinder__search-modal__dropdown vuefinder__search-modal__dropdown--visible","data-theme":h(o).theme.current,tabindex:"-1",onClick:y[4]||(y[4]=Pe(()=>{},["stop"])),onKeydown:m},[p("div",_E,[p("div",yE,[p("div",bE,B(h(r)("File Size")),1),p("div",wE,[p("div",{class:ge(["vuefinder__search-modal__dropdown-option",{"vuefinder__search-modal__dropdown-option--selected":e.sizeFilter==="all"}]),onClick:y[0]||(y[0]=Pe(b=>u("size-all"),["stop"]))},[p("span",null,B(h(r)("All Files")),1),e.sizeFilter==="all"?(w(),k("div",xE,[...y[5]||(y[5]=[p("svg",{viewBox:"0 0 16 16",fill:"currentColor"},[p("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})],-1)])])):re("",!0)],2),p("div",{class:ge(["vuefinder__search-modal__dropdown-option",{"vuefinder__search-modal__dropdown-option--selected":e.sizeFilter==="small"}]),onClick:y[1]||(y[1]=Pe(b=>u("size-small"),["stop"]))},[p("span",null,B(h(r)("Small (< 1MB)")),1),e.sizeFilter==="small"?(w(),k("div",SE,[...y[6]||(y[6]=[p("svg",{viewBox:"0 0 16 16",fill:"currentColor"},[p("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})],-1)])])):re("",!0)],2),p("div",{class:ge(["vuefinder__search-modal__dropdown-option",{"vuefinder__search-modal__dropdown-option--selected":e.sizeFilter==="medium"}]),onClick:y[2]||(y[2]=Pe(b=>u("size-medium"),["stop"]))},[p("span",null,B(h(r)("Medium (1-10MB)")),1),e.sizeFilter==="medium"?(w(),k("div",$E,[...y[7]||(y[7]=[p("svg",{viewBox:"0 0 16 16",fill:"currentColor"},[p("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})],-1)])])):re("",!0)],2),p("div",{class:ge(["vuefinder__search-modal__dropdown-option",{"vuefinder__search-modal__dropdown-option--selected":e.sizeFilter==="large"}]),onClick:y[3]||(y[3]=Pe(b=>u("size-large"),["stop"]))},[p("span",null,B(h(r)("Large (> 10MB)")),1),e.sizeFilter==="large"?(w(),k("div",CE,[...y[8]||(y[8]=[p("svg",{viewBox:"0 0 16 16",fill:"currentColor"},[p("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})],-1)])])):re("",!0)],2)])])])],40,gE)):re("",!0)]))],64))}});function eg(e,t=40){const n=e.match(/^([^:]+:\/\/)(.*)$/);if(!n)return e;const s=n[1],i=n[2]??"",o=i.split("/").filter(Boolean),r=o.pop();if(!r)return s+i;let a=`${s}${o.join("/")}${o.length?"/":""}${r}`;if(a.length<=t)return a;const l=r.split(/\.(?=[^\.]+$)/),c=l[0]??"",u=l[1]??"",d=c.length>10?`${c.slice(0,6)}...${c.slice(-5)}`:c,f=u?`${d}.${u}`:d;return a=`${s}${o.join("/")}${o.length?"/":""}${f}`,a.length>t&&(a=`${s}.../${f}`),a}async function tg(e){try{await navigator.clipboard.writeText(e)}catch{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}async function Eo(e){await tg(e)}async function AE(e){await tg(e)}const TE={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 448 512"};function kE(e,t){return w(),k("svg",TE,[...t[0]||(t[0]=[p("path",{d:"M8 256a56 56 0 1 1 112 0 56 56 0 1 1-112 0m160 0a56 56 0 1 1 112 0 56 56 0 1 1-112 0m216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112"},null,-1)])])}const ng={render:kE},ME=["title"],FE={class:"vuefinder__search-modal__result-icon"},RE={class:"vuefinder__search-modal__result-content"},OE={class:"vuefinder__search-modal__result-name"},PE={key:0,class:"vuefinder__search-modal__result-size"},IE=["title"],DE=["title"],LE=["data-item-dropdown","data-theme"],zE={class:"vuefinder__search-modal__item-dropdown-content"},BE=xe({name:"SearchResultItem",__name:"SearchResultItem",props:{item:{},index:{},selectedIndex:{},expandedPaths:{},activeDropdown:{},selectedItemDropdownOption:{}},emits:["select","selectWithDropdown","togglePathExpansion","toggleItemDropdown","update:selectedItemDropdownOption","copyPath","openContainingFolder","preview"],setup(e,{emit:t}){const n=e,s=t,i=Ce(),{t:o}=i.i18n,r=Q(null);let a=null,l=null,c=[],u=null;Me(()=>n.activeDropdown,P=>{a&&(a(),a=null),l&&(c.forEach(H=>{H===window?window.removeEventListener("scroll",l,!0):H.removeEventListener("scroll",l,!0)}),l=null,c=[]),u&&(document.removeEventListener("mousedown",u,!0),document.removeEventListener("touchstart",u,!0),u=null),P===n.item.path&&r.value&&gt(()=>{b(n.item.path,r.value),f(),m()})});const d=P=>{const H=[];let z=P;for(;z&&z!==document.body&&z!==document.documentElement;){const C=window.getComputedStyle(z),T=C.overflow+C.overflowX+C.overflowY;(T.includes("scroll")||T.includes("auto"))&&H.push(z),z=z.parentElement}return H},f=()=>{if(n.activeDropdown!==n.item.path)return;const P=d(r.value);c=[window,...P],l=()=>{n.activeDropdown===n.item.path&&s("toggleItemDropdown",n.item.path,new MouseEvent("click"))};const H=l;H&&c.forEach(z=>{z===window?window.addEventListener("scroll",H,!0):z.addEventListener("scroll",H,!0)})},m=()=>{n.activeDropdown===n.item.path&&(u=P=>{if(n.activeDropdown!==n.item.path)return;const H=P.target;if(!H)return;const z=document.querySelector(`[data-item-dropdown="${n.item.path}"]`);if(z&&z.contains(H)||r.value&&r.value.contains(H))return;const C=i.root;if(C&&C.contains(H)){s("toggleItemDropdown",n.item.path,new MouseEvent("click"));return}const T=document.querySelector(".vuefinder__modal-layout");if(T&&T.contains(H)){s("toggleItemDropdown",n.item.path,new MouseEvent("click"));return}s("toggleItemDropdown",n.item.path,new MouseEvent("click"))},setTimeout(()=>{u&&(document.addEventListener("mousedown",u,!0),document.addEventListener("touchstart",u,!0))},100))};rt(()=>{a&&(a(),a=null),l&&(c.forEach(P=>{P===window?window.removeEventListener("scroll",l,!0):P.removeEventListener("scroll",l,!0)}),l=null,c=[]),u&&(document.removeEventListener("mousedown",u,!0),document.removeEventListener("touchstart",u,!0),u=null)});const g=P=>n.expandedPaths.has(P),_=P=>P.type==="dir"||!P.file_size?"":Pl(P.file_size),y=(P,H)=>{H.stopPropagation(),s("toggleItemDropdown",P,H)},b=async(P,H)=>{const z=document.querySelector(`[data-item-dropdown="${P}"]`);if(!(!z||!H)&&(await gt(),!(!z||!H))){Object.assign(z.style,{position:"fixed",zIndex:"10001",opacity:"0",transform:"translateY(-8px)",transition:"opacity 150ms ease-out, transform 150ms ease-out"});try{const{x:C,y:T}=await Ei(H,z,{placement:"left-start",strategy:"fixed",middleware:[So(8),Co({padding:16}),$o({padding:16})]});Object.assign(z.style,{left:`${C}px`,top:`${T}px`}),requestAnimationFrame(()=>{z&&Object.assign(z.style,{opacity:"1",transform:"translateY(0)"})})}catch(C){console.warn("Floating UI initial positioning error:",C);return}try{a=Lu(H,z,async()=>{if(!(!H||!z))try{const{x:C,y:T}=await Ei(H,z,{placement:"left-start",strategy:"fixed",middleware:[So(8),Co({padding:16}),$o({padding:16})]});Object.assign(z.style,{left:`${C}px`,top:`${T}px`})}catch(C){console.warn("Floating UI positioning error:",C)}})}catch(C){console.warn("Floating UI autoUpdate setup error:",C),a=null}}},v=P=>{s("update:selectedItemDropdownOption",P)},$=async P=>{await Eo(P.path),s("copyPath",P)},S=P=>{s("openContainingFolder",P)},E=P=>{s("preview",P)},F=P=>{if(!n.activeDropdown)return;const H=["copy-path","open-folder","preview"],z=n.selectedItemDropdownOption,C=H.findIndex(T=>z?.includes(T));if(P.key==="ArrowDown"){P.preventDefault();const T=(C+1)%H.length;s("update:selectedItemDropdownOption",`${H[T]||""}-${n.activeDropdown}`)}else if(P.key==="ArrowUp"){P.preventDefault();const T=C<=0?H.length-1:C-1;s("update:selectedItemDropdownOption",`${H[T]||""}-${n.activeDropdown}`)}else P.key==="Enter"?(P.preventDefault(),z&&(z.includes("copy-path")?$(n.item):z.includes("open-folder")?S(n.item):z.includes("preview")&&E(n.item))):P.key==="Escape"&&(P.preventDefault(),s("update:selectedItemDropdownOption",null))};return(P,H)=>(w(),k("div",{class:ge(["vuefinder__search-modal__result-item",{"vuefinder__search-modal__result-item--selected":e.index===e.selectedIndex}]),title:e.item.basename,onClick:H[9]||(H[9]=z=>s("select",e.index))},[p("div",FE,[e.item.type==="dir"?(w(),oe(h(Fn),{key:0})):(w(),oe(h(uo),{key:1}))]),p("div",RE,[p("div",OE,[je(B(e.item.basename)+" ",1),_(e.item)?(w(),k("span",PE,B(_(e.item)),1)):re("",!0)]),p("div",{class:"vuefinder__search-modal__result-path",title:e.item.path,onClick:H[0]||(H[0]=Pe(z=>{s("select",e.index),s("togglePathExpansion",e.item.path)},["stop"]))},B(g(e.item.path)?e.item.path:h(eg)(e.item.path)),9,IE)]),p("button",{ref_key:"buttonElementRef",ref:r,class:"vuefinder__search-modal__result-actions",title:h(o)("More actions"),onClick:H[1]||(H[1]=z=>{s("selectWithDropdown",e.index),y(e.item.path,z)})},[se(h(ng),{class:"vuefinder__search-modal__result-actions-icon"})],8,DE),(w(),oe(Hi,{to:"body"},[e.activeDropdown===e.item.path?(w(),k("div",{key:0,"data-item-dropdown":e.item.path,class:"vuefinder__themer vuefinder__search-modal__item-dropdown vuefinder__search-modal__item-dropdown--visible","data-theme":h(i).theme.current,tabindex:"-1",onClick:H[8]||(H[8]=Pe(()=>{},["stop"])),onKeydown:F},[p("div",zE,[p("div",{class:ge(["vuefinder__search-modal__item-dropdown-option",{"vuefinder__search-modal__item-dropdown-option--selected":e.selectedItemDropdownOption===`copy-path-${e.item.path}`}]),onClick:H[2]||(H[2]=z=>{v(`copy-path-${e.item.path}`),$(e.item)}),onFocus:H[3]||(H[3]=z=>v(`copy-path-${e.item.path}`))},[se(h(Bc),{class:"vuefinder__search-modal__item-dropdown-icon"}),p("span",null,B(h(o)("Copy Path")),1)],34),p("div",{class:ge(["vuefinder__search-modal__item-dropdown-option",{"vuefinder__search-modal__item-dropdown-option--selected":e.selectedItemDropdownOption===`open-folder-${e.item.path}`}]),onClick:H[4]||(H[4]=z=>{v(`open-folder-${e.item.path}`),S(e.item)}),onFocus:H[5]||(H[5]=z=>v(`open-folder-${e.item.path}`))},[se(h(Fn),{class:"vuefinder__search-modal__item-dropdown-icon"}),p("span",null,B(h(o)("Open Containing Folder")),1)],34),p("div",{class:ge(["vuefinder__search-modal__item-dropdown-option",{"vuefinder__search-modal__item-dropdown-option--selected":e.selectedItemDropdownOption===`preview-${e.item.path}`}]),onClick:H[6]||(H[6]=z=>{v(`preview-${e.item.path}`),E(e.item)}),onFocus:H[7]||(H[7]=z=>v(`preview-${e.item.path}`))},[se(h(uo),{class:"vuefinder__search-modal__item-dropdown-icon"}),p("span",null,B(h(o)("Preview")),1)],34)])],40,LE)):re("",!0)]))],10,ME))}}),HE={key:0,class:"vuefinder__search-modal__searching"},NE={class:"vuefinder__search-modal__loading-icon"},jE={key:1,class:"vuefinder__search-modal__no-results"},UE={key:2,class:"vuefinder__search-modal__results-list"},VE={class:"vuefinder__search-modal__results-header"},Vs=60,sg=5,WE=xe({name:"SearchResultsList",__name:"SearchResultsList",props:{searchResults:{},isSearching:{type:Boolean},selectedIndex:{},expandedPaths:{},activeDropdown:{},selectedItemDropdownOption:{},resultsEnter:{type:Boolean}},emits:["selectResultItem","selectResultItemWithDropdown","togglePathExpansion","toggleItemDropdown","update:selectedItemDropdownOption","copyPath","openContainingFolder","preview"],setup(e,{expose:t,emit:n}){const s=e,i=n,o=Ce(),{t:r}=o.i18n,a=ei("scrollableContainer"),l=ce(()=>s.searchResults.length>0),c=ce(()=>s.searchResults.length),u=Q(0),d=Q(600),f=ce(()=>s.searchResults.length*Vs),m=ce(()=>{const $=Math.max(0,Math.floor(u.value/Vs)-sg),S=Math.min(s.searchResults.length,Math.ceil((u.value+d.value)/Vs)+sg);return{start:$,end:S}}),g=ce(()=>{const{start:$,end:S}=m.value;return s.searchResults.slice($,S).map((E,F)=>({item:E,index:$+F,top:($+F)*Vs}))}),_=$=>{const S=$.target;u.value=S.scrollTop},y=()=>{a.value&&(d.value=a.value.clientHeight)},b=()=>{if(s.selectedIndex>=0&&a.value){const $=s.selectedIndex*Vs,S=$+Vs,E=a.value.scrollTop,F=a.value.clientHeight,P=E+F;let H=E;$<E?H=$:S>P&&(H=S-F),H!==E&&a.value.scrollTo({top:H,behavior:"smooth"})}},v=()=>{a.value&&(a.value.scrollTop=0,u.value=0)};return Le(()=>{y(),window.addEventListener("resize",y)}),rt(()=>{window.removeEventListener("resize",y)}),Me(()=>a.value,()=>{y()}),t({scrollSelectedIntoView:b,resetScroll:v,getContainerHeight:()=>d.value,scrollTop:()=>u.value}),($,S)=>(w(),k("div",{class:ge(["vuefinder__search-modal__results",{"vuefinder__search-modal__results--enter":e.resultsEnter}])},[e.isSearching?(w(),k("div",HE,[p("div",NE,[se(h(ga),{class:"vuefinder__search-modal__loading-icon"})]),p("span",null,B(h(r)("Searching...")),1)])):l.value?(w(),k("div",UE,[p("div",VE,[p("span",null,B(h(r)("Found %s results",c.value)),1)]),p("div",{ref_key:"scrollableContainer",ref:a,class:"vuefinder__search-modal__results-scrollable",onScroll:_},[p("div",{class:"vuefinder__search-modal__results-items",style:st({height:`${f.value}px`,position:"relative"})},[(w(!0),k($e,null,Ve(g.value,E=>(w(),k("div",{key:E.item.path,style:st({position:"absolute",top:`${E.top}px`,left:"0",width:"100%",height:`${Vs}px`})},[se(BE,{item:E.item,index:E.index,"selected-index":e.selectedIndex,"expanded-paths":e.expandedPaths,"active-dropdown":e.activeDropdown,"selected-item-dropdown-option":e.selectedItemDropdownOption,onSelect:S[0]||(S[0]=F=>i("selectResultItem",F)),onSelectWithDropdown:S[1]||(S[1]=F=>i("selectResultItemWithDropdown",F)),onTogglePathExpansion:S[2]||(S[2]=F=>i("togglePathExpansion",F)),onToggleItemDropdown:S[3]||(S[3]=(F,P)=>i("toggleItemDropdown",F,P)),"onUpdate:selectedItemDropdownOption":S[4]||(S[4]=F=>i("update:selectedItemDropdownOption",F)),onCopyPath:S[5]||(S[5]=F=>i("copyPath",F)),onOpenContainingFolder:S[6]||(S[6]=F=>i("openContainingFolder",F)),onPreview:S[7]||(S[7]=F=>i("preview",F))},null,8,["item","index","selected-index","expanded-paths","active-dropdown","selected-item-dropdown-option"])],4))),128))],4)],544)])):(w(),k("div",jE,[p("span",null,B(h(r)("No results found")),1)]))],2))}}),qE={class:"vuefinder__search-modal"},KE={class:"vuefinder__search-modal__content"},YE={class:"vuefinder__search-modal__search-bar"},GE={class:"vuefinder__search-modal__search-location"},QE=["title"],XE=["disabled"],JE={key:0,class:"vuefinder__search-modal__folder-selector"},ZE={class:"vuefinder__search-modal__folder-selector-content"},eA={key:1,class:"vuefinder__search-modal__instructions"},tA={class:"vuefinder__search-modal__instructions-text"},zu=xe({name:"ModalSearch",__name:"ModalSearch",setup(e){const t=Ce(),{t:n}=t.i18n,s=t.fs,i=Q(null),o=Q(null),r=Q(null),a=Rv("",300),l=Q([]),c=Q(!1),u=Q(-1),d=Q(!1),f=Q(!1),m=Q(null),g=Q("all"),_=Q(!1),y=Q(`size-${g.value}`),b=Q(null),v=Q(new Set),$=Q(null),S=we(s.path),E=A=>{v.value.has(A)?v.value.delete(A):v.value.add(A)},F=(A,D)=>{D&&typeof D.stopPropagation=="function"&&D.stopPropagation(),$.value===A?$.value=null:$.value=A},P=()=>{$.value=null},H=A=>{try{const D=A.dir||`${A.storage}://`;t.adapter.open(D),t.modal.close(),P()}catch{Ue.error(n("Failed to open containing folder"))}},z=A=>{t.modal.open(Yr,{storage:S?.value?.storage??"local",item:A}),P()},C=A=>{u.value=A,P()},T=A=>{u.value=A},O=async A=>{await Eo(A.path),P()};Me(a,async A=>{A.trim()?(await R(A.trim()),u.value=0):(l.value=[],c.value=!1,u.value=-1)}),Me(g,async A=>{y.value=`size-${A}`,a.value.trim()&&!f.value&&(await R(a.value.trim()),u.value=0)}),Me(_,async()=>{a.value.trim()&&!f.value&&(await R(a.value.trim()),u.value=0)});const R=async A=>{if(A){c.value=!0;try{const D=m.value?.path||S?.value?.path,ne=await t.adapter.search({path:D,filter:A,deep:_.value,size:g.value});l.value=ne||[],c.value=!1}catch(D){Ue.error(Ft(D,n("Search failed"))),l.value=[],c.value=!1}}};Le(()=>{document.addEventListener("click",U),y.value=`size-${g.value}`});const K=()=>{f.value?(f.value=!1,a.value.trim()&&(R(a.value.trim()),u.value=0)):(d.value=!1,f.value=!0)},ee=A=>{A&&(m.value=A)},V=A=>{A&&(ee(A),f.value=!1,a.value.trim()&&(R(a.value.trim()),u.value=0))};rt(()=>{document.removeEventListener("click",U),o.value&&o.value.cleanup()});const U=A=>{const D=A.target;if(d.value&&(D.closest(".vuefinder__search-modal__dropdown")||(d.value=!1,gt(()=>{i.value&&i.value.focus()}))),$.value){const ne=D.closest(".vuefinder__search-modal__item-dropdown"),X=D.closest(".vuefinder__search-modal__result-item");!ne&&!X&&P()}};return(A,D)=>(w(),oe(Bt,{class:"vuefinder__search-modal-layout"},{default:be(()=>[p("div",qE,[se(Yt,{icon:h(Mu),title:h(n)("Search files")},null,8,["icon","title"]),p("div",KE,[p("div",YE,[se(CC,{ref_key:"searchInputRef",ref:i,modelValue:h(a),"onUpdate:modelValue":D[0]||(D[0]=ne=>et(a)?a.value=ne:null),"is-searching":c.value,disabled:f.value},null,8,["modelValue","is-searching","disabled"]),se(EE,{ref_key:"searchOptionsDropdownRef",ref:o,visible:d.value,"onUpdate:visible":D[1]||(D[1]=ne=>d.value=ne),"size-filter":g.value,"onUpdate:sizeFilter":D[2]||(D[2]=ne=>g.value=ne),"selected-option":y.value,"onUpdate:selectedOption":D[3]||(D[3]=ne=>y.value=ne),disabled:f.value},null,8,["visible","size-filter","selected-option","disabled"])]),p("div",{class:"vuefinder__search-modal__options",onClick:D[7]||(D[7]=Pe(()=>{},["stop"]))},[p("div",GE,[p("button",{class:ge(["vuefinder__search-modal__location-btn",{"vuefinder__search-modal__location-btn--open":f.value}]),onClick:Pe(K,["stop"])},[se(h(Fn),{class:"vuefinder__search-modal__location-icon"}),p("span",{class:"vuefinder__search-modal__location-text",title:m.value?.path||h(S).path},B(h(eg)(m.value?.path||h(S).path)),9,QE),D[10]||(D[10]=p("svg",{class:"vuefinder__search-modal__location-arrow",viewBox:"0 0 16 16",fill:"currentColor"},[p("path",{d:"M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"})],-1))],2)]),p("label",{class:"vuefinder__search-modal__deep-search",onClick:D[6]||(D[6]=Pe(()=>{},["stop"]))},[Ke(p("input",{"onUpdate:modelValue":D[4]||(D[4]=ne=>_.value=ne),type:"checkbox",disabled:f.value,class:"vuefinder__search-modal__checkbox",onClick:D[5]||(D[5]=Pe(()=>{},["stop"]))},null,8,XE),[[mr,_.value]]),p("span",null,B(h(n)("Include subfolders")),1)])]),f.value?(w(),k("div",JE,[p("div",ZE,[se(Au,{modelValue:m.value,"onUpdate:modelValue":[D[8]||(D[8]=ne=>m.value=ne),ee],"show-pinned-folders":!0,"current-path":h(S),onSelectAndClose:V},null,8,["modelValue","current-path"])])])):re("",!0),!h(a).trim()&&!f.value?(w(),k("div",eA,[p("p",tA,B(h(n)("Start typing to search files. Use options to filter or include subfolders.")),1)])):re("",!0),h(a).trim()&&!f.value?(w(),oe(WE,{key:2,ref_key:"searchResultsListRef",ref:r,"search-results":l.value,"is-searching":c.value,"selected-index":u.value,"expanded-paths":v.value,"active-dropdown":$.value,"selected-item-dropdown-option":b.value,"results-enter":!0,onSelectResultItem:C,onSelectResultItemWithDropdown:T,onTogglePathExpansion:E,onToggleItemDropdown:F,"onUpdate:selectedItemDropdownOption":D[9]||(D[9]=ne=>b.value=ne),onCopyPath:O,onOpenContainingFolder:H,onPreview:z},null,8,["search-results","is-searching","selected-index","expanded-paths","active-dropdown","selected-item-dropdown-option"])):re("",!0)])])]),_:1}))}}),nA={props:{on:{type:String,required:!0}},setup(e,{emit:t,slots:n}){const s=Ce(),i=Q(!1),{t:o}=s.i18n;let r=null;const a=()=>{r&&clearTimeout(r),i.value=!0,r=setTimeout(()=>{i.value=!1},2e3)};return Le(()=>{s.emitter.on(e.on,a)}),rt(()=>{r&&clearTimeout(r)}),{shown:i,t:o}}},sA=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},iA={key:1};function oA(e,t,n,s,i,o){return w(),k("div",{class:ge(["vuefinder__action-message",{"vuefinder__action-message--hidden":!s.shown}])},[e.$slots.default?Oe(e.$slots,"default",{key:0}):(w(),k("span",iA,B(s.t("Saved.")),1))],2)}const ig=sA(nA,[["render",oA]]),rA=[{name:"silver",displayName:"Silver"},{name:"valorite",displayName:"Valorite"},{name:"midnight",displayName:"Midnight"},{name:"latte",displayName:"Latte"},{name:"rose",displayName:"Rose"},{name:"mythril",displayName:"Mythril"},{name:"lime",displayName:"lime"},{name:"sky",displayName:"Sky"},{name:"ocean",displayName:"Oceanic"},{name:"palenight",displayName:"Palenight"},{name:"arctic",displayName:"Arctic"},{name:"code",displayName:"Code"}],aA={class:"vuefinder__settings-modal__content"},lA={class:"vuefinder__settings-modal__main"},cA={class:"vuefinder__settings-modal__sections"},uA={key:0,class:"vuefinder__settings-modal__section"},dA={for:"theme",class:"vuefinder__settings-modal__label"},fA={class:"vuefinder__settings-modal__input-group"},hA=["value"],pA=["value"],mA={key:1,class:"vuefinder__settings-modal__section"},vA={for:"language",class:"vuefinder__settings-modal__label"},gA={class:"vuefinder__settings-modal__input-group"},_A=["value"],yA={class:"vuefinder__settings-modal__reset-section"},bA={class:"vuefinder__settings-modal__reset-content"},wA={class:"vuefinder__settings-modal__reset-title"},xA={class:"vuefinder__settings-modal__reset-description"},og=xe({__name:"ModalSettings",setup(e){const t=Ce(),{enabled:n}=dn(),s=t.config,{clearStore:i}=t.storage,{t:o,localeAtom:r}=t.i18n,a=ce({get:()=>r.get(),set:_=>{r.set(_)}}),l=we(s.state),c=ce(()=>l.value.theme||"silver"),u=async()=>{s.reset(),i(),localStorage.removeItem("vuefinder_locale"),localStorage.removeItem("vuefinder_translations"),location.reload()},d=_=>{s.set("theme",_),t.emitter.emit("vf-theme-saved")},{i18n:f}=is("VueFinderOptions"),g=Object.fromEntries(Object.entries({ar:"Arabic ()",zhCN:"Chinese-Simplified ()",zhTW:"Chinese-Traditional ()",nl:"Dutch (Nederlands)",en:"English",fr:"French (Franais)",de:"German (Deutsch)",he:"Hebrew ()",hi:"Hindi ()",it:"Italian (Italiano)",ja:"Japanese ()",fa:"Persian ()",pl:"Polish (Polski)",pt:"Portuguese (Portugus)",ru:"Russian (P)",es:"Spanish (Espaol)",sv:"Swedish (Svenska)",tr:"Turkish (Trke)"}).filter(([_])=>Object.keys(f).includes(_)));return(_,y)=>(w(),oe(Bt,null,{buttons:be(()=>[p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:y[2]||(y[2]=b=>h(t).modal.close())},B(h(o)("Close")),1)]),default:be(()=>[p("div",aA,[se(Yt,{icon:h(Zv),title:h(o)("Settings")},null,8,["icon","title"]),p("div",lA,[p("div",cA,[h(n)("theme")?(w(),k("div",uA,[p("label",dA,[je(B(h(o)("Theme"))+" ",1),se(ig,{class:"vuefinder__settings-modal__message",on:"vf-theme-saved"},{default:be(()=>[je(B(h(o)("Saved.")),1)]),_:1})]),p("div",fA,[p("select",{id:"theme",value:c.value,class:"vuefinder__settings-modal__select",onChange:y[0]||(y[0]=b=>d(b.target?.value))},[(w(!0),k($e,null,Ve(h(rA),b=>(w(),k("option",{key:b.name,value:b.name},B(b.displayName),9,pA))),128))],40,hA)])])):re("",!0),Object.keys(h(g)).length>1?(w(),k("div",mA,[p("label",vA,[je(B(h(o)("Language"))+" ",1),se(ig,{class:"vuefinder__settings-modal__message",on:"vf-language-saved"},{default:be(()=>[je(B(h(o)("Saved.")),1)]),_:1})]),p("div",gA,[Ke(p("select",{id:"language","onUpdate:modelValue":y[1]||(y[1]=b=>a.value=b),class:"vuefinder__settings-modal__select"},[(w(!0),k($e,null,Ve(h(g),(b,v)=>(w(),k("option",{key:v,value:v},B(b),9,_A))),128))],512),[[Al,a.value]])])])):re("",!0)]),p("div",yA,[p("div",bA,[p("div",wA,B(h(o)("Reset")),1),p("div",xA,B(h(o)("Reset all settings to default")),1)]),p("button",{type:"button",class:"vuefinder__settings-modal__reset-button",onClick:u},B(h(o)("Reset Settings")),1)])])])]),_:1}))}}),It={ESCAPE:"Escape",DELETE:"Delete",ENTER:"Enter",BACKSLASH:"Backslash",KEY_A:"KeyA",KEY_E:"KeyE",KEY_F:"KeyF",SPACE:"Space",KEY_C:"KeyC",KEY_X:"KeyX",KEY_V:"KeyV",KEY_S:"KeyS",KEY_R:"KeyR"};function SA(){const e=Ce(),t=e.fs,n=e.config,{enabled:s}=dn(),i=we(t.path),o=we(t.selectedItems),r=a=>{if(a.code===It.ESCAPE&&(e.modal.close(),e.root.focus()),!e.modal.visible){if(a.metaKey&&a.code===It.KEY_R&&!a.shiftKey&&(e.adapter.invalidateListQuery(i.value.path),e.adapter.open(i.value.path),a.preventDefault()),a.metaKey&&a.shiftKey&&a.code===It.KEY_R&&s("rename")&&o.value.length===1&&(e.modal.open(Or,{items:o.value}),a.preventDefault()),a.code===It.DELETE&&o.value.length!==0&&e.modal.open(Rr,{items:o.value}),a.metaKey&&a.code===It.BACKSLASH&&e.modal.open(mp),a.metaKey&&a.code===It.KEY_F&&s("search")&&(e.modal.open(zu),a.preventDefault()),a.metaKey&&a.code===It.KEY_E&&(n.toggle("showTreeView"),a.preventDefault()),a.metaKey&&a.code===It.KEY_S&&(e.modal.open(og),a.preventDefault()),a.metaKey&&a.code===It.ENTER&&(n.toggle("fullScreen"),e.root.focus()),a.metaKey&&a.code===It.KEY_A&&(t.selectAll(e.selectionMode||"multiple",e),a.preventDefault()),a.code===It.SPACE&&o.value.length===1&&o.value[0]?.type!=="dir"&&e.modal.open(Yr,{storage:t.path.get().storage,item:o.value[0]}),a.metaKey&&a.code===It.KEY_C&&s("copy")){if(o.value.length===0){Ue.error(e.i18n.t("No items selected"));return}t.setClipboard("copy",new Set(o.value.map(l=>l.path))),Ue.success(o.value.length===1?e.i18n.t("Item copied to clipboard"):e.i18n.t("%s items copied to clipboard",o.value.length)),a.preventDefault()}if(a.metaKey&&a.code===It.KEY_X&&s("copy")){if(o.value.length===0){Ue.error(e.i18n.t("No items selected"));return}t.setClipboard("cut",new Set(o.value.map(l=>l.path))),Ue.success(o.value.length===1?e.i18n.t("Item cut to clipboard"):e.i18n.t("%s items cut to clipboard",o.value.length)),a.preventDefault()}if(a.metaKey&&a.code===It.KEY_V&&s("copy")){if(t.getClipboard().items.size===0){Ue.error(e.i18n.t("No items in clipboard"));return}if(t.getClipboard().path===t.path.get().path){Ue.error(e.i18n.t("Cannot paste items to the same directory"));return}if(t.getClipboard().type==="cut"){e.modal.open(xi,{items:{from:Array.from(t.getClipboard().items),to:t.path.get()}}),t.clearClipboard();return}if(t.getClipboard().type==="copy"){e.modal.open(ku,{items:{from:Array.from(t.getClipboard().items),to:t.path.get()}});return}a.preventDefault()}}};Le(async()=>{if(await gt(),!e.root){console.warn("app.root is not available. Event listeners will not be attached.");return}e.root.addEventListener("keydown",r)}),Ui(()=>{e.root&&e.root.removeEventListener("keydown",r)})}function $A(){const e=Q(!1),t=Q([]);return{isDraggingExternal:e,externalFiles:t,handleDragEnter:a=>{a.preventDefault(),a.stopPropagation();const l=a.dataTransfer?.items;l&&Array.from(l).some(u=>u.kind==="file")&&(e.value=!0,a.isExternalDrag=!0)},handleDragOver:a=>{e.value&&a.dataTransfer&&(a.dataTransfer.dropEffect="copy",a.preventDefault(),a.stopPropagation())},handleDragLeave:a=>{a.preventDefault();const l=a.currentTarget.getBoundingClientRect(),c=a.clientX,u=a.clientY;(c<l.left||c>l.right||u<l.top||u>l.bottom)&&(e.value=!1)},handleDrop:async a=>{a.preventDefault(),a.stopPropagation(),e.value=!1;const l=a.dataTransfer?.items;if(l){const c=Array.from(l).filter(u=>u.kind==="file");if(c.length>0){t.value=[];for(const u of c){const d=u.webkitGetAsEntry?.();if(d)await uc((f,m)=>{t.value.push({name:m.name,size:m.size,type:m.type,lastModified:new Date(m.lastModified),file:m})},d);else{const f=u.getAsFile();f&&t.value.push({name:f.name,size:f.size,type:f.type,lastModified:new Date(f.lastModified),file:f})}}return t.value}}return[]},clearExternalFiles:()=>{t.value=[]}}}const CA={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",class:"h-6 w-6 md:h-8 md:w-8 m-auto vf-toolbar-icon",viewBox:"0 0 24 24"};function EA(e,t){return w(),k("svg",CA,[...t[0]||(t[0]=[p("path",{d:"M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44z"},null,-1)])])}const rg={render:EA},AA={class:"vuefinder__new-folder-modal__content"},TA={class:"vuefinder__new-folder-modal__form"},kA={class:"vuefinder__new-folder-modal__description"},MA=["placeholder"],Bu=xe({__name:"ModalNewFolder",setup(e){const t=Ce(),{t:n}=t.i18n,s=t.fs,i=we(s.path),o=Q(""),r=()=>{o.value!==""&&t.adapter.createFolder({path:i.value.path,name:o.value}).then(a=>{Ue.success(n("%s is created.",o.value)),t.fs.setFiles(a.files),t.modal.close()}).catch(a=>{Ue.error(Ft(a,n("Failed to create folder")))})};return(a,l)=>(w(),oe(Bt,null,{buttons:be(()=>[p("button",{type:"button",class:"vf-btn vf-btn-primary",onClick:r},B(h(n)("Create")),1),p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:l[1]||(l[1]=c=>h(t).modal.close())},B(h(n)("Cancel")),1)]),default:be(()=>[p("div",null,[se(Yt,{icon:h(rg),title:h(n)("New Folder")},null,8,["icon","title"]),p("div",AA,[p("div",TA,[p("p",kA,B(h(n)("Create a new folder")),1),Ke(p("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>o.value=c),class:"vuefinder__new-folder-modal__input",placeholder:h(n)("Folder Name"),type:"text",autofocus:"",onKeyup:to(r,["enter"])},null,40,MA),[[eo,o.value]])])])])]),_:1}))}}),FA={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",class:"h-6 w-6 md:h-8 md:w-8 m-auto vf-toolbar-icon",viewBox:"0 0 24 24"};function RA(e,t){return w(),k("svg",FA,[...t[0]||(t[0]=[p("path",{d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9"},null,-1)])])}const ag={render:RA},OA={class:"vuefinder__new-file-modal__content"},PA={class:"vuefinder__new-file-modal__form"},IA={class:"vuefinder__new-file-modal__description"},DA=["placeholder"],lg=xe({__name:"ModalNewFile",setup(e){const t=Ce(),{t:n}=t.i18n,s=t.fs,i=we(s.path),o=Q(""),r=()=>{o.value!==""&&t.adapter.createFile({path:i.value.path,name:o.value}).then(a=>{Ue.success(n("%s is created.",o.value)),t.fs.setFiles(a.files),t.modal.close()}).catch(a=>{Ue.error(Ft(a,n("Failed to create file")))})};return(a,l)=>(w(),oe(Bt,null,{buttons:be(()=>[p("button",{type:"button",class:"vf-btn vf-btn-primary",onClick:r},B(h(n)("Create")),1),p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:l[1]||(l[1]=c=>h(t).modal.close())},B(h(n)("Cancel")),1)]),default:be(()=>[p("div",null,[se(Yt,{icon:h(ag),title:h(n)("New File")},null,8,["icon","title"]),p("div",OA,[p("div",PA,[p("p",IA,B(h(n)("Create a new file")),1),Ke(p("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>o.value=c),class:"vuefinder__new-file-modal__input",placeholder:h(n)("File Name"),type:"text",onKeyup:to(r,["enter"])},null,40,DA),[[eo,o.value]])])])])]),_:1}))}}),LA={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",class:"h-6 w-6 md:h-8 md:w-8 m-auto vf-toolbar-icon",viewBox:"0 0 24 24"};function zA(e,t){return w(),k("svg",LA,[...t[0]||(t[0]=[p("path",{d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"},null,-1)])])}const cg={render:zA};function Hu(e,t=14){const n=`((?=([\\w\\W]{0,${t}}))([\\w\\W]{${t+1},})([\\w\\W]{8,}))`;return e.replace(new RegExp(n),"$2..$4")}const BA={class:"vuefinder__upload-modal__content relative"},HA={class:"vuefinder__upload-modal__target-section"},NA={class:"vuefinder__upload-modal__target-label"},jA={class:"vuefinder__upload-modal__target-container"},UA={class:"vuefinder__upload-modal__target-path"},VA={class:"vuefinder__upload-modal__target-storage"},WA={key:0,class:"vuefinder__upload-modal__target-folder"},qA={class:"vuefinder__upload-modal__target-badge"},KA={class:"vuefinder__upload-modal__drag-hint"},YA={class:"vuefinder__upload-modal__file-list vf-scrollbar"},GA=["textContent"],QA={class:"vuefinder__upload-modal__file-info"},XA={class:"vuefinder__upload-modal__file-name hidden md:block"},JA={class:"vuefinder__upload-modal__file-name md:hidden"},ZA={key:0,class:"ml-auto"},eT=["title","disabled","onClick"],tT={key:0,class:"py-2"},nT=["aria-expanded"],sT={key:0,class:"vuefinder__upload-actions__menu absolute right-0 bottom-full left-0 mb-2"},iT=["disabled"],oT=["aria-expanded"],rT={key:0,class:"vuefinder__upload-actions__menu"},Nu=xe({__name:"ModalUpload",setup(e){const t=Ce(),{t:n}=t.i18n,s=t.fs,i=we(s.path),o=Q(i.value),r=Q(!1),a=()=>{const U=o.value.path;if(!U)return{storage:"local",path:""};if(U.endsWith("://"))return{storage:U.replace("://",""),path:""};const A=U.split("://");return{storage:A[0]||"local",path:A[1]||""}},l=U=>{U&&(o.value=U)},c=U=>{U&&(o.value=U,r.value=!1)},{container:u,internalFileInput:d,internalFolderInput:f,pickFiles:m,queue:g,message:_,uploading:y,hasFilesInDropArea:b,definitions:v,openFileSelector:$,upload:S,cancel:E,remove:F,clear:P,close:H,getClassNameForEntry:z,getIconForEntry:C,addExternalFiles:T}=_p(t.customUploader),O=()=>{S(o.value)};Le(()=>{t.emitter.on("vf-external-files-dropped",U=>{T(U)})}),rt(()=>{t.emitter.off("vf-external-files-dropped")});const R=Q(!1),K=Q(null),ee=Q(null),V=U=>{if(!R.value)return;const A=U.target,D=K.value?.contains(A)??!1,ne=ee.value?.contains(A)??!1;!D&&!ne&&(R.value=!1)};return Le(()=>document.addEventListener("click",V)),rt(()=>document.removeEventListener("click",V)),(U,A)=>(w(),oe(Bt,{"show-drag-overlay":h(b),"drag-overlay-text":h(n)("Drag and drop the files/folders to here.")},{buttons:be(()=>[p("div",{ref_key:"actionsMenuMobileRef",ref:K,class:"vuefinder__upload-actions-mobile relative mb-2 w-full"},[p("div",{class:ge(["vuefinder__upload-actions","vuefinder__upload-actions--block",R.value?"vuefinder__upload-actions--ring":""])},[p("button",{type:"button",class:"vuefinder__upload-actions__main",onClick:A[3]||(A[3]=D=>h($)())},B(h(n)("Select Files")),1),p("button",{type:"button",class:"vuefinder__upload-actions__trigger","aria-haspopup":"menu","aria-expanded":R.value?"true":"false",onClick:A[4]||(A[4]=Pe(D=>R.value=!R.value,["stop"]))},[...A[17]||(A[17]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[p("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z","clip-rule":"evenodd"})],-1)])],8,nT)],2),R.value?(w(),k("div",sT,[p("div",{class:"vuefinder__upload-actions__item",onClick:A[5]||(A[5]=D=>{h($)(),R.value=!1})},B(h(n)("Select Files")),1),p("div",{class:"vuefinder__upload-actions__item",onClick:A[6]||(A[6]=D=>{h(f)?.click(),R.value=!1})},B(h(n)("Select Folders")),1),A[18]||(A[18]=p("div",{class:"vuefinder__upload-actions__separator"},null,-1)),p("div",{class:ge(["vuefinder__upload-actions__item",h(y)?"disabled":""]),onClick:A[7]||(A[7]=D=>h(y)?null:(h(P)(!1),R.value=!1))},B(h(n)("Clear all")),3),p("div",{class:ge(["vuefinder__upload-actions__item",h(y)?"disabled":""]),onClick:A[8]||(A[8]=D=>h(y)?null:(h(P)(!0),R.value=!1))},B(h(n)("Clear only successful")),3)])):re("",!0)],512),p("button",{type:"button",class:"vf-btn vf-btn-primary",disabled:h(y)||!h(g).length,onClick:Pe(O,["prevent"])},B(h(n)("Upload")),9,iT),h(y)?(w(),k("button",{key:0,type:"button",class:"vf-btn vf-btn-secondary",onClick:A[9]||(A[9]=Pe((...D)=>h(E)&&h(E)(...D),["prevent"]))},B(h(n)("Cancel")),1)):(w(),k("button",{key:1,type:"button",class:"vf-btn vf-btn-secondary",onClick:A[10]||(A[10]=Pe((...D)=>h(H)&&h(H)(...D),["prevent"]))},B(h(n)("Close")),1)),p("div",{ref_key:"actionsMenuDesktopRef",ref:ee,class:"vuefinder__upload-actions-desktop relative mr-auto"},[p("div",{class:ge(["vuefinder__upload-actions",R.value?"vuefinder__upload-actions--ring":""])},[p("button",{ref_key:"pickFiles",ref:m,type:"button",class:"vuefinder__upload-actions__main"},B(h(n)("Select Files")),513),p("button",{type:"button",class:"vuefinder__upload-actions__trigger","aria-haspopup":"menu","aria-expanded":R.value?"true":"false",onClick:A[11]||(A[11]=Pe(D=>R.value=!R.value,["stop"]))},[...A[19]||(A[19]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[p("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z","clip-rule":"evenodd"})],-1)])],8,oT)],2),R.value?(w(),k("div",rT,[p("div",{class:"vuefinder__upload-actions__item",onClick:A[12]||(A[12]=D=>{h($)(),R.value=!1})},B(h(n)("Select Files")),1),p("div",{class:"vuefinder__upload-actions__item",onClick:A[13]||(A[13]=D=>{h(f)?.click(),R.value=!1})},B(h(n)("Select Folders")),1),A[20]||(A[20]=p("div",{class:"vuefinder__upload-actions__separator"},null,-1)),p("div",{class:ge(["vuefinder__upload-actions__item",h(y)?"disabled":""]),onClick:A[14]||(A[14]=D=>h(y)?null:(h(P)(!1),R.value=!1))},B(h(n)("Clear all")),3),p("div",{class:ge(["vuefinder__upload-actions__item",h(y)?"disabled":""]),onClick:A[15]||(A[15]=D=>h(y)?null:(h(P)(!0),R.value=!1))},B(h(n)("Clear only successful")),3)])):re("",!0)],512)]),default:be(()=>[p("div",null,[se(Yt,{icon:h(cg),title:h(n)("Upload Files")},null,8,["icon","title"]),p("div",BA,[p("div",HA,[p("div",NA,B(h(n)("Target Directory")),1),p("div",jA,[p("div",{class:"vuefinder__upload-modal__target-display",onClick:A[0]||(A[0]=D=>r.value=!r.value)},[p("div",UA,[p("span",VA,B(a().storage)+"://",1),a().path?(w(),k("span",WA,B(a().path),1)):re("",!0)]),p("span",qA,B(h(n)("Browse")),1)])]),p("div",{class:ge(["vuefinder__upload-modal__tree-selector",r.value?"vuefinder__upload-modal__tree-selector--expanded":"vuefinder__upload-modal__tree-selector--collapsed"])},[se(Au,{modelValue:o.value,"onUpdate:modelValue":[A[1]||(A[1]=D=>o.value=D),l],"show-pinned-folders":!0,onSelectAndClose:c},null,8,["modelValue"])],2)]),p("div",KA,B(h(n)("You can drag & drop files anywhere while this modal is open.")),1),p("div",{ref_key:"container",ref:u,class:"hidden"},null,512),p("div",YA,[(w(!0),k($e,null,Ve(h(g),D=>(w(),k("div",{key:D.id,class:"vuefinder__upload-modal__file-entry"},[p("span",{class:ge(["vuefinder__upload-modal__file-icon",h(z)(D)])},[p("span",{class:"vuefinder__upload-modal__file-icon-text",textContent:B(h(C)(D))},null,8,GA)],2),p("div",QA,[p("div",XA,B(h(Hu)(D.name,40))+" ("+B(D.size)+") ",1),p("div",JA,B(h(Hu)(D.name,16))+" ("+B(D.size)+") ",1),p("div",{class:ge(["vuefinder__upload-modal__file-status",h(z)(D)])},[je(B(D.statusName)+" ",1),D.status===h(v).QUEUE_ENTRY_STATUS.UPLOADING?(w(),k("b",ZA,B(D.percent),1)):re("",!0)],2)]),p("button",{type:"button",class:ge(["vuefinder__upload-modal__file-remove",h(y)?"disabled":""]),title:h(n)("Delete"),disabled:h(y),onClick:ne=>h(F)(D)},[...A[16]||(A[16]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"vuefinder__upload-modal__file-remove-icon"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])],10,eT)]))),128)),h(g).length?re("",!0):(w(),k("div",tT,B(h(n)("No files selected!")),1))]),h(_).length?(w(),oe(Tu,{key:0,error:"",onHidden:A[2]||(A[2]=D=>_.value="")},{default:be(()=>[je(B(h(_)),1)]),_:1})):re("",!0)])]),p("input",{ref_key:"internalFileInput",ref:d,type:"file",multiple:"",class:"hidden"},null,512),p("input",{ref_key:"internalFolderInput",ref:f,type:"file",multiple:"",webkitdirectory:"",class:"hidden"},null,512)]),_:1},8,["show-drag-overlay","drag-overlay-text"]))}}),aT={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",class:"h-6 w-6 md:h-8 md:w-8 m-auto",viewBox:"0 0 24 24"};function lT(e,t){return w(),k("svg",aT,[...t[0]||(t[0]=[p("path",{d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125"},null,-1)])])}const ug={render:lT},cT={class:"vuefinder__unarchive-modal__content"},uT={class:"vuefinder__unarchive-modal__items"},dT={key:0,class:"vuefinder__unarchive-modal__icon vuefinder__unarchive-modal__icon--dir",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},fT={key:1,class:"vuefinder__unarchive-modal__icon vuefinder__unarchive-modal__icon--file",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},hT={class:"vuefinder__unarchive-modal__item-name"},pT={class:"vuefinder__unarchive-modal__info"},ju=xe({__name:"ModalUnarchive",setup(e){const t=Ce(),n=t.fs,s=we(n.path),{t:i}=t.i18n,o=Q(t.modal.data.items[0]),r=Q([]),a=()=>{t.adapter.unarchive({item:o.value.path,path:s.value.path}).then(l=>{Ue.success(i("The file unarchived.")),t.fs.setFiles(l.files),t.modal.close()}).catch(l=>{Ue.error(Ft(l,i("Failed to unarchive")))})};return(l,c)=>(w(),oe(Bt,null,{buttons:be(()=>[p("button",{type:"button",class:"vf-btn vf-btn-primary",onClick:a},B(h(i)("Unarchive")),1),p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:c[0]||(c[0]=u=>h(t).modal.close())},B(h(i)("Cancel")),1)]),default:be(()=>[p("div",null,[se(Yt,{icon:h(ug),title:h(i)("Unarchive")},null,8,["icon","title"]),p("div",cT,[p("div",uT,[(w(!0),k($e,null,Ve(r.value,u=>(w(),k("p",{key:u.path,class:"vuefinder__unarchive-modal__item"},[u.type==="dir"?(w(),k("svg",dT,[...c[1]||(c[1]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)])])):(w(),k("svg",fT,[...c[2]||(c[2]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)])])),p("span",hT,B(u.basename),1)]))),128)),p("p",pT,B(h(i)("The archive will be unarchived at"))+" ("+B(h(s).path)+") ",1)])])])]),_:1}))}}),mT={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"};function vT(e,t){return w(),k("svg",mT,[...t[0]||(t[0]=[p("path",{d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125"},null,-1)])])}const dg={render:vT},gT={class:"vuefinder__archive-modal__content"},_T={class:"vuefinder__archive-modal__form"},yT={class:"vuefinder__archive-modal__files vf-scrollbar"},bT={key:0,class:"vuefinder__archive-modal__icon vuefinder__archive-modal__icon--dir",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},wT={key:1,class:"vuefinder__archive-modal__icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},xT={class:"vuefinder__archive-modal__file-name"},ST=["placeholder"],Uu=xe({__name:"ModalArchive",setup(e){const t=Ce(),{t:n}=t.i18n,s=t.fs,i=we(s.path),o=Q(""),r=Q(t.modal.data.items),a=()=>{r.value.length&&t.adapter.archive({path:i.value.path,items:r.value.map(({path:l,type:c})=>({path:l,type:c})),name:o.value}).then(l=>{Ue.success(n("The file(s) archived.")),t.fs.setFiles(l.files),t.modal.close()}).catch(l=>{Ue.error(Ft(l,n("Failed to archive files")))})};return(l,c)=>(w(),oe(Bt,null,{buttons:be(()=>[p("button",{type:"button",class:"vf-btn vf-btn-primary",onClick:a},B(h(n)("Archive")),1),p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:c[1]||(c[1]=u=>h(t).modal.close())},B(h(n)("Cancel")),1)]),default:be(()=>[p("div",null,[se(Yt,{icon:h(dg),title:h(n)("Archive the files")},null,8,["icon","title"]),p("div",gT,[p("div",_T,[p("div",yT,[(w(!0),k($e,null,Ve(r.value,u=>(w(),k("p",{key:u.path,class:"vuefinder__archive-modal__file"},[u.type==="dir"?(w(),k("svg",bT,[...c[2]||(c[2]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)])])):(w(),k("svg",wT,[...c[3]||(c[3]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)])])),p("span",xT,B(u.basename),1)]))),128))]),Ke(p("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>o.value=u),class:"vuefinder__archive-modal__input",placeholder:h(n)("Archive name. (.zip file will be created)"),type:"text",onKeyup:to(a,["enter"])},null,40,ST),[[eo,o.value]])])])])]),_:1}))}}),$T={class:"vuefinder__about-modal__content"},CT={class:"vuefinder__about-modal__main"},ET={class:"vuefinder__about-modal__shortcuts"},AT={class:"vuefinder__about-modal__shortcut"},TT={key:0,class:"vuefinder__about-modal__shortcut"},kT={key:1,class:"vuefinder__about-modal__shortcut"},MT={class:"vuefinder__about-modal__shortcut"},FT={class:"vuefinder__about-modal__shortcut"},RT={key:2,class:"vuefinder__about-modal__shortcut"},OT={key:3,class:"vuefinder__about-modal__shortcut"},PT={key:4,class:"vuefinder__about-modal__shortcut"},IT={key:5,class:"vuefinder__about-modal__shortcut"},DT={class:"vuefinder__about-modal__shortcut"},LT={class:"vuefinder__about-modal__shortcut"},zT={key:6,class:"vuefinder__about-modal__shortcut"},BT={key:7,class:"vuefinder__about-modal__shortcut"},HT=xe({__name:"ModalShortcuts",setup(e){const t=Ce(),{enabled:n}=dn(),{t:s}=t.i18n;return(i,o)=>(w(),oe(Bt,null,{buttons:be(()=>[p("button",{type:"button",class:"vf-btn vf-btn-secondary",onClick:o[0]||(o[0]=r=>h(t).modal.close())},B(h(s)("Close")),1)]),default:be(()=>[p("div",$T,[se(Yt,{icon:h(pp),title:h(s)("Shortcuts")},null,8,["icon","title"]),p("div",CT,[p("div",ET,[p("div",AT,[p("div",null,B(h(s)("Refresh")),1),o[1]||(o[1]=p("div",null,[p("kbd",null,""),je(" + "),p("kbd",null,"R")],-1))]),h(n)("rename")?(w(),k("div",TT,[p("div",null,B(h(s)("Rename")),1),o[2]||(o[2]=p("div",null,[p("kbd",null,""),je(" + "),p("kbd",null,"Shift"),je(" + "),p("kbd",null,"R")],-1))])):re("",!0),h(n)("delete")?(w(),k("div",kT,[p("div",null,B(h(s)("Delete")),1),o[3]||(o[3]=p("kbd",null,"Del",-1))])):re("",!0),p("div",MT,[p("div",null,B(h(s)("Escape")),1),o[4]||(o[4]=p("kbd",null,"Esc",-1))]),p("div",FT,[p("div",null,B(h(s)("Select All")),1),o[5]||(o[5]=p("div",null,[p("kbd",null,""),je(" + "),p("kbd",null,"A")],-1))]),h(n)("copy")?(w(),k("div",RT,[p("div",null,B(h(s)("Cut")),1),o[6]||(o[6]=p("div",null,[p("kbd",null,""),je(" + "),p("kbd",null,"X")],-1))])):re("",!0),h(n)("copy")?(w(),k("div",OT,[p("div",null,B(h(s)("Copy")),1),o[7]||(o[7]=p("div",null,[p("kbd",null,""),je(" + "),p("kbd",null,"C")],-1))])):re("",!0),h(n)("copy")?(w(),k("div",PT,[p("div",null,B(h(s)("Paste")),1),o[8]||(o[8]=p("div",null,[p("kbd",null,""),je(" + "),p("kbd",null,"V")],-1))])):re("",!0),h(n)("search")?(w(),k("div",IT,[p("div",null,B(h(s)("Search")),1),o[9]||(o[9]=p("div",null,[p("kbd",null,""),je(" + "),p("kbd",null,"F")],-1))])):re("",!0),p("div",DT,[p("div",null,B(h(s)("Toggle Sidebar")),1),o[10]||(o[10]=p("div",null,[p("kbd",null,""),je(" + "),p("kbd",null,"E")],-1))]),p("div",LT,[p("div",null,B(h(s)("Open Settings")),1),o[11]||(o[11]=p("div",null,[p("kbd",null,""),je(" + "),p("kbd",null,"S")],-1))]),h(n)("fullscreen")?(w(),k("div",zT,[p("div",null,B(h(s)("Toggle Full Screen")),1),o[12]||(o[12]=p("div",null,[p("kbd",null,""),je(" + "),p("kbd",null,"Enter")],-1))])):re("",!0),h(n)("preview")?(w(),k("div",BT,[p("div",null,B(h(s)("Preview")),1),o[13]||(o[13]=p("kbd",null,"Space",-1))])):re("",!0)])])])]),_:1}))}}),NT={class:"vuefinder__menubar__container"},jT=["onClick","onMouseenter"],UT={class:"vuefinder__menubar__label"},VT=["onMouseenter"],WT=["onClick"],qT={key:0,class:"vuefinder__menubar__dropdown__label"},KT={key:1,class:"vuefinder__menubar__dropdown__checkmark"},YT=xe({__name:"MenuBar",setup(e){const t=Ce(),{enabled:n}=dn(),{t:s}=t?.i18n||{t:v=>v},i=t?.fs,o=t?.config,r=we(o.state),a=we(i.selectedItems),l=we(i?.storages||[]),c=Q(null),u=Q(!1),d=ce(()=>window.opener!==null||window.name!==""||window.history.length<=1),f=ce(()=>[{id:"file",label:s("File"),items:[{id:"new-folder",label:s("New Folder"),action:()=>t?.modal?.open(Bu,{items:a.value}),enabled:()=>n("newfolder")},{id:"new-file",label:s("New File"),action:()=>t?.modal?.open(lg,{items:a.value}),enabled:()=>n("newfile")},{type:"separator"},{id:"upload",label:s("Upload"),action:()=>t?.modal?.open(Nu,{items:a.value}),enabled:()=>n("upload")},{type:"separator"},{id:"search",label:s("Search"),action:()=>t.modal.open(zu),enabled:()=>n("search")},{type:"separator"},{id:"archive",label:s("Archive"),action:()=>{a.value.length>0&&t?.modal?.open(Uu,{items:a.value})},enabled:()=>a.value.length>0&&n("archive")},{id:"unarchive",label:s("Unarchive"),action:()=>{a.value.length===1&&a.value[0]?.mime_type==="application/zip"&&t?.modal?.open(ju,{items:a.value})},enabled:()=>a.value.length===1&&a.value[0]?.mime_type==="application/zip"&&n("unarchive")},{type:"separator"},{id:"preview",label:s("Preview"),action:()=>{a.value.length===1&&a.value[0]?.type!=="dir"&&t?.modal?.open(Yr,{storage:i?.path?.get()?.storage,item:a.value[0]})},enabled:()=>a.value.length===1&&a.value[0]?.type!=="dir"&&n("preview")},...d.value?[{type:"separator"},{id:"exit",label:s("Exit"),action:()=>{try{window.close()}catch{}},enabled:()=>!0}]:[]]},{id:"edit",label:s("Edit"),items:[...t?.selectionMode==="multiple"?[{id:"select-all",label:s("Select All"),action:()=>i?.selectAll(t?.selectionMode||"multiple",t),enabled:()=>!0},{id:"deselect",label:s("Deselect All"),action:()=>i?.clearSelection(),enabled:()=>a.value.length>0},{type:"separator"}]:[],...n("copy")?[{id:"cut",label:s("Cut"),action:()=>{a.value.length>0&&i?.setClipboard("cut",new Set(a.value.map(v=>v.path)))},enabled:()=>a.value.length>0},{id:"copy",label:s("Copy"),action:()=>{a.value.length>0&&i?.setClipboard("copy",new Set(a.value.map(v=>v.path)))},enabled:()=>a.value.length>0},{id:"paste",label:s("Paste"),action:()=>{const v=i?.getClipboard();v?.items?.size>0&&t?.modal?.open(v.type==="cut"?xi:ku,{items:{from:Array.from(v.items),to:i?.path?.get()}})},enabled:()=>i?.getClipboard()?.items?.size>0}]:[],...n("move")?[{id:"move",label:s("Move files"),action:()=>{if(a.value.length>0){const v=t?.fs,$={storage:v?.path?.get()?.storage||"",path:v?.path?.get()?.path||"",type:"dir"};t?.modal?.open(xi,{items:{from:a.value,to:$}})}},enabled:()=>a.value.length>0},{type:"separator"}]:[],{id:"copy-path",label:s("Copy Path"),action:async()=>{if(a.value.length===1){const v=a.value[0];await Eo(v.path)}else{const v=i?.path?.get();v?.path&&await Eo(v.path)}},enabled:()=>!0},{id:"copy-download-url",label:s("Copy Download URL"),action:async()=>{if(a.value.length===1){const v=a.value[0];i?.path?.get()?.storage;const $=t?.adapter?.getDownloadUrl({path:v.path});$&&await AE($)}},enabled:()=>a.value.length===1&&a.value[0]?.type!=="dir"},{type:"separator"},{id:"rename",label:s("Rename"),action:()=>{a.value.length===1&&t?.modal?.open(Or,{items:a.value})},enabled:()=>a.value.length===1&&n("rename")},{id:"delete",label:s("Delete"),action:()=>{a.value.length>0&&t?.modal?.open(Rr,{items:a.value})},enabled:()=>a.value.length>0&&n("delete")}]},{id:"view",label:s("View"),items:[{id:"refresh",label:s("Refresh"),action:()=>{t.adapter.invalidateListQuery(i.path.get().path),t.adapter.open(i.path.get().path)},enabled:()=>!0},{type:"separator"},{id:"grid-view",label:s("Grid View"),action:()=>o?.set("view","grid"),enabled:()=>!0,checked:()=>r.value?.view==="grid"},{id:"list-view",label:s("List View"),action:()=>o?.set("view","list"),enabled:()=>!0,checked:()=>r.value?.view==="list"},{type:"separator"},{id:"tree-view",label:s("Tree View"),action:()=>o?.toggle("showTreeView"),enabled:()=>!0,checked:()=>r.value?.showTreeView},{id:"thumbnails",label:s("Show Thumbnails"),action:()=>o?.toggle("showThumbnails"),enabled:()=>!0,checked:()=>r.value?.showThumbnails},{id:"show-hidden-files",label:s("Show Hidden Files"),action:()=>o?.toggle("showHiddenFiles"),enabled:()=>!0,checked:()=>r.value?.showHiddenFiles},{type:"separator"},{id:"fullscreen",label:s("Full Screen"),action:()=>o?.toggle("fullScreen"),enabled:()=>n("fullscreen"),checked:()=>r.value?.fullScreen},{type:"separator"},{id:"persist-path",label:s("Persist Path"),action:()=>{o?.toggle("persist"),t.emitter.emit("vf-persist-path-saved")},enabled:()=>!0,checked:()=>r.value?.persist},{id:"metric-units",label:s("Metric Units"),action:()=>{o?.toggle("metricUnits"),t.filesize=o?.get("metricUnits")?bh:Pl,t.emitter.emit("vf-metric-units-saved")},enabled:()=>!0,checked:()=>r.value?.metricUnits}]},{id:"go",label:s("Go"),items:[...n("history")?[{id:"forward",label:s("Forward"),action:()=>{i?.goForward();const v=i?.path?.get();v?.path&&t?.adapter.open(v.path)},enabled:()=>i?.canGoForward?.get()??!1},{id:"back",label:s("Back"),action:()=>{i?.goBack();const v=i?.path?.get();v?.path&&t?.adapter.open(v.path)},enabled:()=>i?.canGoBack?.get()??!1}]:[],{id:"open-containing-folder",label:s("Open containing folder"),action:()=>{const v=i?.path?.get();if(v?.breadcrumb&&v.breadcrumb.length>1){const S=v.breadcrumb[v.breadcrumb.length-2]?.path??`${v.storage}://`;t?.adapter.open(S)}},enabled:()=>{const v=i?.path?.get();return v?.breadcrumb&&v.breadcrumb.length>1}},{type:"separator"},...(l.value||[]).map(v=>({id:`storage-${v}`,label:v,action:()=>{const $=`${v}://`;t?.adapter.open($)},enabled:()=>!0})),{type:"separator"},{id:"go-to-folder",label:s("Go to Folder"),action:async()=>{const v=prompt(s("Enter folder path:"));if(v){if(!v.includes("://")){alert(s("Invalid path format. Path must be in format: storage://path/to/folder"));return}const $=v.indexOf("://"),S=v.slice(0,$);if(!l.value||!l.value.includes(S)){alert(s('Invalid storage. Storage "%s" is not available.',S));return}try{await t?.adapter.open(v)}catch(E){const F=Ft(E,s("Failed to navigate to folder"));Ue.error(F),t.fs.setLoading(!1)}}},enabled:()=>!0}]},{id:"help",label:s("Help"),items:[{id:"settings",label:s("Settings"),action:()=>t?.modal?.open(og),enabled:()=>!0},{id:"shortcuts",label:s("Shortcuts"),action:()=>t?.modal?.open(HT),enabled:()=>!0},{id:"about",label:s("About"),action:()=>t?.modal?.open(mp),enabled:()=>!0}]}]),m=v=>{c.value===v?_():(c.value=v,u.value=!0)},g=v=>{u.value&&(c.value=v)},_=()=>{c.value=null,u.value=!1},y=v=>{_(),v()},b=v=>{v.target.closest(".vuefinder__menubar")||_()};return Le(()=>{document.addEventListener("click",b)}),rt(()=>{document.removeEventListener("click",b)}),(v,$)=>(w(),k("div",{class:"vuefinder__menubar",onClick:$[0]||($[0]=Pe(()=>{},["stop"]))},[p("div",NT,[(w(!0),k($e,null,Ve(f.value,S=>(w(),k("div",{key:S.id,class:ge(["vuefinder__menubar__item",{"vuefinder__menubar__item--active":c.value===S.id}]),onClick:E=>m(S.id),onMouseenter:E=>g(S.id)},[p("span",UT,B(S.label),1),c.value===S.id?(w(),k("div",{key:0,class:"vuefinder__menubar__dropdown",onMouseenter:E=>g(S.id)},[(w(!0),k($e,null,Ve(S.items,E=>(w(),k("div",{key:E.id||E.type,class:ge(["vuefinder__menubar__dropdown__item",{"vuefinder__menubar__dropdown__item--separator":E.type==="separator","vuefinder__menubar__dropdown__item--disabled":E.enabled&&!E.enabled(),"vuefinder__menubar__dropdown__item--checked":E.checked&&E.checked()}]),onClick:Pe(F=>E.type!=="separator"&&E.enabled&&E.enabled()?y(E.action):null,["stop"])},[E.type!=="separator"?(w(),k("span",qT,B(E.label),1)):re("",!0),E.checked&&E.checked()?(w(),k("span",KT,"  ")):re("",!0)],10,WT))),128))],40,VT)):re("",!0)],42,jT))),128))])]))}}),GT={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"};function QT(e,t){return w(),k("svg",GT,[...t[0]||(t[0]=[p("path",{d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"},null,-1)])])}const XT={render:QT},JT={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",class:"h-6 w-6 md:h-8 md:w-8 m-auto vf-toolbar-icon",viewBox:"0 0 24 24"};function ZT(e,t){return w(),k("svg",JT,[...t[0]||(t[0]=[p("path",{d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"},null,-1)])])}const ek={render:ZT},tk={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",class:"h-6 w-6 md:h-8 md:w-8 m-auto",viewBox:"0 0 24 24"};function nk(e,t){return w(),k("svg",tk,[...t[0]||(t[0]=[p("path",{d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25zm0 9.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18zM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25zm0 9.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18z"},null,-1)])])}const sk={render:nk},ik={xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",class:"h-6 w-6 md:h-8 md:w-8 m-auto",viewBox:"0 0 24 24"};function ok(e,t){return w(),k("svg",ik,[...t[0]||(t[0]=[p("path",{d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75"},null,-1)])])}const rk={render:ok},ak={fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function lk(e,t){return w(),k("svg",ak,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v2.586a1 1 0 0 1-.293.707l-6.414 6.414a1 1 0 0 0-.293.707V17l-4 4v-6.586a1 1 0 0 0-.293-.707L3.293 7.293A1 1 0 0 1 3 6.586z"},null,-1)])])}const ck={render:lk},uk={class:"vuefinder__toolbar"},dk={class:"vuefinder__toolbar__actions"},fk=["title"],hk=["title"],pk=["title"],mk=["title"],vk=["title"],gk=["title"],_k=["title"],yk={class:"vuefinder__toolbar__controls"},bk=["title"],wk={class:"vuefinder__toolbar__control vuefinder__toolbar__dropdown-container"},xk=["title"],Sk={class:"relative"},$k={key:0,class:"vuefinder__toolbar__filter-indicator"},Ck={key:0,class:"vuefinder__toolbar__dropdown"},Ek={class:"vuefinder__toolbar__dropdown-content"},Ak={class:"vuefinder__toolbar__dropdown-section"},Tk={class:"vuefinder__toolbar__dropdown-label"},kk={class:"vuefinder__toolbar__dropdown-row"},Mk={value:"name"},Fk={value:"size"},Rk={value:"modified"},Ok={value:""},Pk={value:"asc"},Ik={value:"desc"},Dk={class:"vuefinder__toolbar__dropdown-section"},Lk={class:"vuefinder__toolbar__dropdown-label"},zk={class:"vuefinder__toolbar__dropdown-options"},Bk={class:"vuefinder__toolbar__dropdown-option"},Hk={class:"vuefinder__toolbar__option-text"},Nk={class:"vuefinder__toolbar__dropdown-option"},jk={class:"vuefinder__toolbar__option-text"},Uk={class:"vuefinder__toolbar__dropdown-option"},Vk={class:"vuefinder__toolbar__option-text"},Wk={class:"vuefinder__toolbar__dropdown-toggle"},qk={for:"showHidden",class:"vuefinder__toolbar__toggle-label"},Kk={class:"vuefinder__toolbar__dropdown-reset"},Yk=["title"],Gk=["title"],Qk=xe({name:"VfToolbar",__name:"Toolbar",setup(e){const t=Ce(),{enabled:n}=dn(),{t:s}=t.i18n,i=t.fs,o=t.config,r=we(o.state),a=we(i.selectedItems),l=we(i.sort),c=we(i.filter);Me(()=>r.value.fullScreen,()=>{const y=document.querySelector("body");y&&(y.style.overflow=r.value.fullScreen?"hidden":"")},{immediate:!0});const u=Q(!1),d=y=>{y.target.closest(".vuefinder__toolbar__dropdown-container")||(u.value=!1)};Le(()=>{const y=document.querySelector("body");y&&r.value.fullScreen&&setTimeout(()=>y.style.overflow="hidden"),document.addEventListener("click",d)}),rt(()=>{document.removeEventListener("click",d)});const f=Q({sortBy:"name",sortOrder:"",filterKind:"all",showHidden:r.value.showHiddenFiles});Me(()=>f.value.sortBy,y=>{if(!f.value.sortOrder){i.clearSort();return}y==="name"?i.setSort("basename",f.value.sortOrder):y==="size"?i.setSort("file_size",f.value.sortOrder):y==="modified"&&i.setSort("last_modified",f.value.sortOrder)}),Me(()=>f.value.sortOrder,y=>{if(!y){i.clearSort();return}f.value.sortBy==="name"?i.setSort("basename",y):f.value.sortBy==="size"?i.setSort("file_size",y):f.value.sortBy==="modified"&&i.setSort("last_modified",y)}),Me(l,y=>{y.active?(y.column==="basename"?f.value.sortBy="name":y.column==="file_size"?f.value.sortBy="size":y.column==="last_modified"&&(f.value.sortBy="modified"),f.value.sortOrder=y.order):f.value.sortOrder=""},{immediate:!0}),Me(()=>f.value.filterKind,y=>{i.setFilter(y,r.value.showHiddenFiles)}),Me(()=>f.value.showHidden,y=>{o.set("showHiddenFiles",y),i.setFilter(f.value.filterKind,y)}),Me(c,y=>{f.value.filterKind=y.kind},{immediate:!0}),Me(()=>r.value.showHiddenFiles,y=>{f.value.showHidden=y,i.setFilter(f.value.filterKind,y)},{immediate:!0});const m=()=>o.set("view",r.value.view==="grid"?"list":"grid"),g=ce(()=>c.value.kind!=="all"||!r.value.showHiddenFiles||l.value.active),_=()=>{f.value={sortBy:"name",sortOrder:"",filterKind:"all",showHidden:!0},o.set("showHiddenFiles",!0),i.clearSort(),i.clearFilter()};return(y,b)=>(w(),k("div",uk,[p("div",dk,[h(n)("newfolder")?(w(),k("div",{key:0,class:"mx-1.5",title:h(s)("New Folder"),onClick:b[0]||(b[0]=v=>h(t).modal.open(Bu,{items:h(a)}))},[se(h(rg))],8,fk)):re("",!0),h(n)("newfile")?(w(),k("div",{key:1,class:"mx-1.5",title:h(s)("New File"),onClick:b[1]||(b[1]=v=>h(t).modal.open(lg,{items:h(a)}))},[se(h(ag))],8,hk)):re("",!0),h(n)("rename")?(w(),k("div",{key:2,class:"mx-1.5",title:h(s)("Rename"),onClick:b[2]||(b[2]=v=>h(a).length!==1||h(t).modal.open(Or,{items:h(a)}))},[se(h(gp),{class:ge(h(a).length===1?"vf-toolbar-icon":"vf-toolbar-icon-disabled")},null,8,["class"])],8,pk)):re("",!0),h(n)("delete")?(w(),k("div",{key:3,class:"mx-1.5",title:h(s)("Delete"),onClick:b[3]||(b[3]=v=>!h(a).length||h(t).modal.open(Rr,{items:h(a)}))},[se(h(vp),{class:ge(h(a).length?"vf-toolbar-icon":"vf-toolbar-icon-disabled")},null,8,["class"])],8,mk)):re("",!0),h(n)("upload")?(w(),k("div",{key:4,class:"mx-1.5",title:h(s)("Upload"),onClick:b[4]||(b[4]=v=>h(t).modal.open(Nu,{items:h(a)}))},[se(h(cg))],8,vk)):re("",!0),h(n)("unarchive")&&h(a).length===1&&h(a)[0].mime_type==="application/zip"?(w(),k("div",{key:5,class:"mx-1.5",title:h(s)("Unarchive"),onClick:b[5]||(b[5]=v=>!h(a).length||h(t).modal.open(ju,{items:h(a)}))},[se(h(ug),{class:ge(h(a).length?"vf-toolbar-icon":"vf-toolbar-icon-disabled")},null,8,["class"])],8,gk)):re("",!0),h(n)("archive")?(w(),k("div",{key:6,class:"mx-1.5",title:h(s)("Archive"),onClick:b[6]||(b[6]=v=>!h(a).length||h(t).modal.open(Uu,{items:h(a)}))},[se(h(dg),{class:ge(h(a).length?"vf-toolbar-icon":"vf-toolbar-icon-disabled")},null,8,["class"])],8,_k)):re("",!0)]),p("div",yk,[h(n)("search")?(w(),k("div",{key:0,class:"mx-1.5",title:h(s)("Search Files"),onClick:b[7]||(b[7]=v=>h(t).modal.open(zu))},[se(h(Mu),{class:"vf-toolbar-icon text-(--vf-bg-primary)"})],8,bk)):re("",!0),p("div",wk,[p("div",{title:h(s)("Filter"),class:"vuefinder__toolbar__dropdown-trigger",onClick:b[8]||(b[8]=v=>u.value=!u.value)},[p("div",Sk,[se(h(ck),{class:"vf-toolbar-icon vuefinder__toolbar__icon h-6 w-6"}),g.value?(w(),k("div",$k)):re("",!0)])],8,xk),u.value?(w(),k("div",Ck,[p("div",Ek,[p("div",Ak,[p("div",Tk,B(h(s)("Sorting")),1),p("div",kk,[Ke(p("select",{"onUpdate:modelValue":b[9]||(b[9]=v=>f.value.sortBy=v),class:"vuefinder__toolbar__dropdown-select"},[p("option",Mk,B(h(s)("Name")),1),p("option",Fk,B(h(s)("Size")),1),p("option",Rk,B(h(s)("Date")),1)],512),[[Al,f.value.sortBy]]),Ke(p("select",{"onUpdate:modelValue":b[10]||(b[10]=v=>f.value.sortOrder=v),class:"vuefinder__toolbar__dropdown-select"},[p("option",Ok,B(h(s)("None")),1),p("option",Pk,B(h(s)("Asc")),1),p("option",Ik,B(h(s)("Desc")),1)],512),[[Al,f.value.sortOrder]])])]),p("div",Dk,[p("div",Lk,B(h(s)("Show")),1),p("div",zk,[p("label",Bk,[Ke(p("input",{"onUpdate:modelValue":b[11]||(b[11]=v=>f.value.filterKind=v),type:"radio",name:"filterKind",value:"all",class:"vuefinder__toolbar__radio"},null,512),[[El,f.value.filterKind]]),p("span",Hk,B(h(s)("All items")),1)]),p("label",Nk,[Ke(p("input",{"onUpdate:modelValue":b[12]||(b[12]=v=>f.value.filterKind=v),type:"radio",name:"filterKind",value:"files",class:"vuefinder__toolbar__radio"},null,512),[[El,f.value.filterKind]]),p("span",jk,B(h(s)("Files only")),1)]),p("label",Uk,[Ke(p("input",{"onUpdate:modelValue":b[13]||(b[13]=v=>f.value.filterKind=v),type:"radio",name:"filterKind",value:"folders",class:"vuefinder__toolbar__radio"},null,512),[[El,f.value.filterKind]]),p("span",Vk,B(h(s)("Folders only")),1)])])]),p("div",Wk,[p("label",qk,B(h(s)("Show hidden files")),1),Ke(p("input",{id:"showHidden","onUpdate:modelValue":b[14]||(b[14]=v=>f.value.showHidden=v),type:"checkbox",class:"vuefinder__toolbar__checkbox"},null,512),[[mr,f.value.showHidden]])]),p("div",Kk,[p("button",{class:"vuefinder__toolbar__reset-button",onClick:_},B(h(s)("Reset")),1)])])])):re("",!0)]),h(n)("fullscreen")?(w(),k("div",{key:1,class:"mx-1.5",title:h(s)("Toggle Full Screen"),onClick:b[15]||(b[15]=v=>h(o).toggle("fullScreen"))},[h(r).fullScreen?(w(),oe(h(ek),{key:0,class:"vf-toolbar-icon"})):(w(),oe(h(XT),{key:1,class:"vf-toolbar-icon"}))],8,Yk)):re("",!0),p("div",{class:"mx-1.5",title:h(s)("Change View"),onClick:b[16]||(b[16]=v=>m())},[h(r).view==="grid"?(w(),oe(h(sk),{key:0,class:"vf-toolbar-icon"})):re("",!0),h(r).view==="list"?(w(),oe(h(rk),{key:1,class:"vf-toolbar-icon"})):re("",!0)],8,Gk)])]))}}),Xk={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"vuefinder__breadcrumb__refresh-icon",viewBox:"-40 -40 580 580"};function Jk(e,t){return w(),k("svg",Xk,[...t[0]||(t[0]=[p("path",{d:"M463.5 224h8.5c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2S461.9 48.1 455 55l-41.6 41.6c-87.6-86.5-228.7-86.2-315.8 1-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2S334.3 224 344 224z"},null,-1)])])}const Zk={render:Jk},eM={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"h-6 w-6 p-0.5 rounded",viewBox:"0 0 20 20"};function tM(e,t){return w(),k("svg",eM,[...t[0]||(t[0]=[p("path",{"fill-rule":"evenodd",d:"M5.293 9.707a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L11 7.414V15a1 1 0 1 1-2 0V7.414L6.707 9.707a1 1 0 0 1-1.414 0",class:"pointer-events-none","clip-rule":"evenodd"},null,-1)])])}const nM={render:tM},sM={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"1.5",class:"vuefinder__breadcrumb__close-icon",viewBox:"0 0 24 24"};function iM(e,t){return w(),k("svg",sM,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"},null,-1)])])}const oM={render:iM},rM={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"};function aM(e,t){return w(),k("svg",rM,[...t[0]||(t[0]=[p("path",{d:"M10.707 2.293a1 1 0 0 0-1.414 0l-7 7a1 1 0 0 0 1.414 1.414L4 10.414V17a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-6.586l.293.293a1 1 0 0 0 1.414-1.414z",class:"pointer-events-none"},null,-1)])])}const lM={render:aM},cM={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"1.5",class:"w-6 h-6 cursor-pointer",viewBox:"0 0 24 24"};function uM(e,t){return w(),k("svg",cM,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"},null,-1)])])}const dM={render:uM},fM={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"};function hM(e,t){return w(),k("svg",fM,[...t[0]||(t[0]=[p("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),p("path",{d:"M9 6h11M12 12h8M15 18h5M5 6v.01M8 12v.01M11 18v.01"},null,-1)])])}const pM={render:hM},mM={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function vM(e,t){return w(),k("svg",mM,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0-4-4m4 4-4 4m0 6H4m0 0 4 4m-4-4 4-4"},null,-1)])])}const gM={render:vM};function Ao(e,t=[]){const n="vfDragEnterCounter",s=e.fs,i=we(s.selectedItems);function o(d,f){return!!(!d||d.type!=="dir"||d.path.startsWith(f)||i.value.some(g=>g.path===f?!1:!!d.path.startsWith(g.path)))}function r(d,f){if(d.isExternalDrag)return;if(!(e.features?.move??!1)){d.dataTransfer&&(d.dataTransfer.dropEffect="none",d.dataTransfer.effectAllowed="none");return}d.preventDefault();const g=s.getDraggedItem();o(f,g)?d.dataTransfer&&(d.dataTransfer.dropEffect="none",d.dataTransfer.effectAllowed="none"):(d.dataTransfer&&(d.dataTransfer.dropEffect="copy",d.dataTransfer.effectAllowed="all"),d.currentTarget.classList.add(...t))}function a(d){if(d.isExternalDrag||!(e.features?.move??!1))return;d.preventDefault();const m=d.currentTarget,g=Number(m.dataset[n]||0);m.dataset[n]=String(g+1)}function l(d){if(d.isExternalDrag||!(e.features?.move??!1))return;d.preventDefault();const m=d.currentTarget,_=Number(m.dataset[n]||0)-1;_<=0?(delete m.dataset[n],m.classList.remove(...t)):m.dataset[n]=String(_)}function c(d,f){if(d.isExternalDrag||!(e.features?.move??!1)||!f)return;d.preventDefault();const g=d.currentTarget;delete g.dataset[n],g.classList.remove(...t);const _=d.dataTransfer?.getData("items")||"[]",b=JSON.parse(_).map(v=>s.sortedFiles.get().find($=>$.path===v));s.clearDraggedItem(),e.modal.open(xi,{items:{from:b,to:f}})}function u(d){return{dragover:f=>r(f,d),dragenter:a,dragleave:l,drop:f=>c(f,d)}}return{events:u}}const _M={class:"vuefinder__breadcrumb__container"},yM=["title"],bM=["title"],wM=["title"],xM=["title"],SM={class:"vuefinder__breadcrumb__path-container"},$M={class:"vuefinder__breadcrumb__list"},CM={key:0,class:"vuefinder__breadcrumb__hidden-list"},EM={class:"relative"},AM=["title","onClick"],TM=["title"],kM={class:"vuefinder__breadcrumb__path-mode"},MM={class:"vuefinder__breadcrumb__path-mode-content"},FM=["title"],RM={class:"vuefinder__breadcrumb__path-text"},OM=["title"],PM=["data-theme"],IM=["onClick"],DM={class:"vuefinder__breadcrumb__hidden-item-content"},LM={class:"vuefinder__breadcrumb__hidden-item-text"},zM=xe({__name:"Breadcrumb",setup(e){const t=Ce(),{t:n}=t.i18n,s=t.fs,i=t.config,o=we(i.state),r=we(s.path),a=we(s.loading),l=Q(null),c=Rv(0,100),u=Q(5),d=Q(!1),f=Q(!1),m=ce(()=>r.value?.breadcrumb??[]);function g(V,U){return V.length>U?[V.slice(-U),V.slice(0,-U)]:[V,[]]}const _=ce(()=>g(m.value,u.value)[0]),y=ce(()=>g(m.value,u.value)[1]);Me(c,()=>{if(!l.value)return;const V=l.value.children;let U=0,A=0;const D=5,ne=1;u.value=D,gt(()=>{for(let X=V.length-1;X>=0;X--){const te=V[X];if(U+te.offsetWidth>c.value-40)break;U+=parseInt(te.offsetWidth.toString(),10),A++}A<ne&&(A=ne),A>D&&(A=D),u.value=A})});const b=()=>{l.value&&(c.value=l.value.offsetWidth)},v=Q(null);Le(()=>{v.value=new ResizeObserver(b),l.value&&v.value.observe(l.value)}),rt(()=>{v.value&&v.value.disconnect()});const $=Ao(t,["vuefinder__drag-over"]);function S(V=null){V??=m.value.length-2;const U={basename:r.value?.storage??"local",extension:"",path:(r.value?.storage??"local")+"://",storage:r.value?.storage??"local",type:"dir",file_size:null,last_modified:null,mime_type:null,visibility:""};return m.value[V]??U}const E=()=>{t.adapter.invalidateListQuery(r.value.path),t.adapter.open(r.value.path)},F=()=>{_.value.length>0&&t.adapter.open(m.value[m.value.length-2]?.path??(r.value?.storage??"local")+"://")},P=V=>{t.adapter.open(V.path),d.value=!1},H=()=>{d.value&&(d.value=!1)},z={mounted(V,U){V.clickOutsideEvent=function(A){V===A.target||V.contains(A.target)||U.value()},document.body.addEventListener("click",V.clickOutsideEvent)},beforeUnmount(V){document.body.removeEventListener("click",V.clickOutsideEvent)}},C=()=>{i.toggle("showTreeView")},T=Q({x:0,y:0}),O=(V,U=null)=>{if(V.currentTarget instanceof HTMLElement){const{x:A,y:D,height:ne}=V.currentTarget.getBoundingClientRect();T.value={x:A,y:D+ne}}d.value=U??!d.value},R=()=>{f.value=!f.value},K=async()=>{await Eo(r.value?.path||""),Ue.success(n("Path copied to clipboard"))},ee=()=>{f.value=!1};return(V,U)=>(w(),k("div",_M,[p("span",{title:h(n)("Toggle Tree View")},[se(h(pM),{class:ge(["vuefinder__breadcrumb__toggle-tree",h(o).showTreeView?"vuefinder__breadcrumb__toggle-tree--active":""]),onClick:C},null,8,["class"])],8,yM),p("span",{title:h(n)("Go up a directory")},[se(h(nM),at({class:m.value.length?"vuefinder__breadcrumb__go-up--active":"vuefinder__breadcrumb__go-up--inactive"},os(m.value.length?h($).events(S()):{}),{onClick:F}),null,16,["class"])],8,bM),h(s).isLoading()?(w(),k("span",{key:1,title:h(n)("Cancel")},[se(h(oM),{onClick:U[0]||(U[0]=A=>h(t).emitter.emit("vf-fetch-abort"))})],8,xM)):(w(),k("span",{key:0,title:h(n)("Refresh")},[se(h(Zk),{onClick:E})],8,wM)),Ke(p("div",SM,[p("div",null,[se(h(lM),at({class:"vuefinder__breadcrumb__home-icon"},os(h($).events(S(-1))),{onClick:U[1]||(U[1]=Pe(A=>h(t).adapter.open(h(r).storage+"://"),["stop"]))}),null,16)]),p("div",$M,[y.value.length?Ke((w(),k("div",CM,[U[3]||(U[3]=p("div",{class:"vuefinder__breadcrumb__separator"},"/",-1)),p("div",EM,[p("span",{class:"vuefinder__breadcrumb__hidden-toggle",onDragenter:U[2]||(U[2]=A=>O(A,!0)),onClick:Pe(O,["stop"])},[se(h(ng),{class:"vuefinder__breadcrumb__hidden-toggle-icon"})],32)])])),[[z,H]]):re("",!0)]),p("div",{ref_key:"breadcrumbContainer",ref:l,class:"vuefinder__breadcrumb__visible-list pointer-events-none"},[(w(!0),k($e,null,Ve(_.value,(A,D)=>(w(),k("div",{key:D},[U[4]||(U[4]=p("span",{class:"vuefinder__breadcrumb__separator"},"/",-1)),p("span",at({class:"vuefinder__breadcrumb__item pointer-events-auto",title:A.basename},os(h($).events(A),!0),{onClick:Pe(ne=>h(t).adapter.open(A.path),["stop"])}),B(A.name),17,AM)]))),128))],512),h(i).get("loadingIndicator")==="circular"&&h(a)?(w(),oe(h(ga),{key:0})):re("",!0),p("span",{title:h(n)("Toggle Path Copy Mode"),onClick:R},[se(h(gM),{class:"vuefinder__breadcrumb__toggle-icon"})],8,TM)],512),[[an,!f.value]]),Ke(p("div",kM,[p("div",MM,[p("div",{title:h(n)("Copy Path")},[se(h(Bc),{class:"vuefinder__breadcrumb__copy-icon",onClick:K})],8,FM),p("div",RM,B(h(r).path),1),p("div",{title:h(n)("Exit")},[se(h(dM),{class:"vuefinder__breadcrumb__exit-icon",onClick:ee})],8,OM)])],512),[[an,f.value]]),(w(),oe(Hi,{to:"body"},[p("div",null,[Ke(p("div",{style:st({position:"absolute",top:T.value.y+"px",left:T.value.x+"px"}),class:"vuefinder__themer vuefinder__breadcrumb__hidden-dropdown","data-theme":h(t).theme.current},[(w(!0),k($e,null,Ve(y.value,(A,D)=>(w(),k("div",at({key:D,class:"vuefinder__breadcrumb__hidden-item"},os(h($).events(A),!0),{onClick:ne=>P(A)}),[p("div",DM,[p("span",null,[se(h(Fn),{class:"vuefinder__breadcrumb__hidden-item-icon"})]),p("span",LM,B(A.name),1)])],16,IM))),128))],12,PM),[[an,d.value]])])]))]))}});class BM{constructor(){this._listeners=new Map,this.on=this.addEventListener,this.off=this.removeEventListener,this.emit=this.dispatchEvent}addEventListener(t,n){const s=this._listeners.get(t)??new Set;return this._listeners.set(t,s),s.add(n),this}removeEventListener(t,n){var s;return(s=this._listeners.get(t))==null||s.delete(n),this}dispatchEvent(t,...n){let s=!0;for(const i of this._listeners.get(t)??[])s=i(...n)!==!1&&s;return s}unbindAllListeners(){this._listeners.clear()}}const fg=(e,t="px")=>typeof e=="number"?e+t:e,Ss=({style:e},t,n)=>{if(typeof t=="object")for(const[s,i]of Object.entries(t))i!==void 0&&(e[s]=fg(i));else n!==void 0&&(e[t]=fg(n))},hg=(e=0,t=0,n=0,s=0)=>{const i={x:e,y:t,width:n,height:s,top:t,left:e,right:e+n,bottom:t+s};return{...i,toJSON:()=>JSON.stringify(i)}},HM=e=>{let t,n=-1,s=!1;return{next:(...i)=>{t=i,s||(s=!0,n=requestAnimationFrame(()=>{e(...t),s=!1}))},cancel:()=>{cancelAnimationFrame(n),s=!1}}},pg=(e,t,n="touch")=>{switch(n){case"center":{const s=t.left+t.width/2,i=t.top+t.height/2;return s>=e.left&&s<=e.right&&i>=e.top&&i<=e.bottom}case"cover":return t.left>=e.left&&t.top>=e.top&&t.right<=e.right&&t.bottom<=e.bottom;case"touch":return e.right>=t.left&&e.left<=t.right&&e.bottom>=t.top&&e.top<=t.bottom}},NM=()=>matchMedia("(hover: none), (pointer: coarse)").matches,jM=()=>"safari"in window,Vu=e=>Array.isArray(e)?e:[e],mg=e=>(t,n,s,i={})=>{(t instanceof HTMLCollection||t instanceof NodeList)&&(t=Array.from(t)),n=Vu(n),t=Vu(t);for(const o of t)if(o)for(const r of n)o[e](r,s,{capture:!1,...i})},$s=mg("addEventListener"),_n=mg("removeEventListener"),ka=e=>{var t;const{clientX:n,clientY:s,target:i}=((t=e.touches)==null?void 0:t[0])??e;return{x:n,y:s,target:i}},Ai=(e,t=document)=>Vu(e).map(n=>typeof n=="string"?Array.from(t.querySelectorAll(n)):n instanceof Element?n:null).flat().filter(Boolean),UM=(e,t)=>t.some(n=>typeof n=="number"?e.button===n:typeof n=="object"?n.button!==e.button?!1:n.modifiers.every(s=>{switch(s){case"alt":return e.altKey;case"ctrl":return e.ctrlKey||e.metaKey;case"shift":return e.shiftKey}}):!1),{abs:Ws,max:vg,min:gg,ceil:_g}=Math,yg=(e=[])=>({stored:e,selected:[],touched:[],changed:{added:[],removed:[]}}),bg=class extends BM{constructor(t){var n,s,i,o,r;super(),this._selection=yg(),this._targetBoundaryScrolled=!0,this._selectables=[],this._areaLocation={y1:0,x2:0,y2:0,x1:0},this._areaRect=hg(),this._singleClick=!0,this._scrollAvailable=!0,this._scrollingActive=!1,this._scrollSpeed={x:0,y:0},this._scrollDelta={x:0,y:0},this._lastMousePosition={x:0,y:0},this.enable=this._toggleStartEvents,this.disable=this._toggleStartEvents.bind(this,!1),this._options={selectionAreaClass:"selection-area",selectionContainerClass:void 0,selectables:[],document:window.document,startAreas:["html"],boundaries:["html"],container:"body",...t,behaviour:{overlap:"invert",intersect:"touch",triggers:[0],...t.behaviour,startThreshold:(n=t.behaviour)!=null&&n.startThreshold?typeof t.behaviour.startThreshold=="number"?t.behaviour.startThreshold:{x:10,y:10,...t.behaviour.startThreshold}:{x:10,y:10},scrolling:{speedDivider:10,manualSpeed:750,...(s=t.behaviour)==null?void 0:s.scrolling,startScrollMargins:{x:0,y:0,...(o=(i=t.behaviour)==null?void 0:i.scrolling)==null?void 0:o.startScrollMargins}}},features:{range:!0,touch:!0,deselectOnBlur:!1,...t.features,singleTap:{allow:!0,intersect:"native",...(r=t.features)==null?void 0:r.singleTap}}};for(const u of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))typeof this[u]=="function"&&(this[u]=this[u].bind(this));const{document:a,selectionAreaClass:l,selectionContainerClass:c}=this._options;this._area=a.createElement("div"),this._clippingElement=a.createElement("div"),this._clippingElement.appendChild(this._area),this._area.classList.add(l),c&&this._clippingElement.classList.add(c),Ss(this._area,{willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"fixed"}),Ss(this._clippingElement,{overflow:"hidden",position:"fixed",transform:"translate3d(0, 0, 0)",pointerEvents:"none",zIndex:"1"}),this._frame=HM(u=>{this._recalculateSelectionAreaRect(),this._updateElementSelection(),this._emitEvent("move",u),this._redrawSelectionArea()}),this.enable()}_toggleStartEvents(t=!0){const{document:n,features:s}=this._options,i=t?$s:_n;i(n,"mousedown",this._onTapStart),s.touch&&i(n,"touchstart",this._onTapStart,{passive:!1})}_onTapStart(t,n=!1){const{x:s,y:i,target:o}=ka(t),{document:r,startAreas:a,boundaries:l,features:c,behaviour:u}=this._options,d=o.getBoundingClientRect();if(t instanceof MouseEvent&&!UM(t,u.triggers))return;const f=Ai(a,r),m=Ai(l,r);this._targetElement=m.find(b=>pg(b.getBoundingClientRect(),d));const g=t.composedPath(),_=f.find(b=>g.includes(b));if(this._targetBoundary=m.find(b=>g.includes(b)),!this._targetElement||!_||!this._targetBoundary||!n&&this._emitEvent("beforestart",t)===!1)return;this._areaLocation={x1:s,y1:i,x2:0,y2:0};const y=r.scrollingElement??r.body;this._scrollDelta={x:y.scrollLeft,y:y.scrollTop},this._singleClick=!0,this.clearSelection(!1,!0),$s(r,["touchmove","mousemove"],this._delayedTapMove,{passive:!1}),$s(r,["mouseup","touchcancel","touchend"],this._onTapStop),$s(r,"scroll",this._onScroll),c.deselectOnBlur&&(this._targetBoundaryScrolled=!1,$s(this._targetBoundary,"scroll",this._onStartAreaScroll))}_onSingleTap(t){const{singleTap:{intersect:n},range:s}=this._options.features,i=ka(t);let o;if(n==="native")o=i.target;else if(n==="touch"){this.resolveSelectables();const{x:a,y:l}=i;o=this._selectables.find(c=>{const{right:u,left:d,top:f,bottom:m}=c.getBoundingClientRect();return a<u&&a>d&&l<m&&l>f})}if(!o)return;for(this.resolveSelectables();!this._selectables.includes(o);)if(o.parentElement)o=o.parentElement;else{this._targetBoundaryScrolled||this.clearSelection();return}const{stored:r}=this._selection;if(this._emitEvent("start",t),t.shiftKey&&s&&this._latestElement){const a=this._latestElement,[l,c]=a.compareDocumentPosition(o)&4?[o,a]:[a,o],u=[...this._selectables.filter(d=>d.compareDocumentPosition(l)&4&&d.compareDocumentPosition(c)&2),l,c];this.select(u),this._latestElement=a}else r.includes(o)&&(r.length===1||t.ctrlKey||r.every(a=>this._selection.stored.includes(a)))?this.deselect(o):(this.select(o),this._latestElement=o)}_delayedTapMove(t){const{container:n,document:s,behaviour:{startThreshold:i}}=this._options,{x1:o,y1:r}=this._areaLocation,{x:a,y:l}=ka(t);if(typeof i=="number"&&Ws(a+l-(o+r))>=i||typeof i=="object"&&Ws(a-o)>=i.x||Ws(l-r)>=i.y){if(_n(s,["mousemove","touchmove"],this._delayedTapMove,{passive:!1}),this._emitEvent("beforedrag",t)===!1){_n(s,["mouseup","touchcancel","touchend"],this._onTapStop);return}$s(s,["mousemove","touchmove"],this._onTapMove,{passive:!1}),Ss(this._area,"display","block"),Ai(n,s)[0].appendChild(this._clippingElement),this.resolveSelectables(),this._singleClick=!1,this._targetRect=this._targetElement.getBoundingClientRect(),this._scrollAvailable=this._targetElement.scrollHeight!==this._targetElement.clientHeight||this._targetElement.scrollWidth!==this._targetElement.clientWidth,this._scrollAvailable&&($s(this._targetElement,"wheel",this._wheelScroll,{passive:!1}),$s(this._options.document,"keydown",this._keyboardScroll,{passive:!1}),this._selectables=this._selectables.filter(c=>this._targetElement.contains(c))),this._setupSelectionArea(),this._emitEvent("start",t),this._onTapMove(t)}this._handleMoveEvent(t)}_setupSelectionArea(){const{_clippingElement:t,_targetElement:n,_area:s}=this,i=this._targetRect=n.getBoundingClientRect();this._scrollAvailable?(Ss(t,{top:i.top,left:i.left,width:i.width,height:i.height}),Ss(s,{marginTop:-i.top,marginLeft:-i.left})):(Ss(t,{top:0,left:0,width:"100%",height:"100%"}),Ss(s,{marginTop:0,marginLeft:0}))}_onTapMove(t){const{_scrollSpeed:n,_areaLocation:s,_options:i,_frame:o}=this,{speedDivider:r}=i.behaviour.scrolling,a=this._targetElement,{x:l,y:c}=ka(t);if(s.x2=l,s.y2=c,this._lastMousePosition.x=l,this._lastMousePosition.y=c,this._scrollAvailable&&!this._scrollingActive&&(n.y||n.x)){this._scrollingActive=!0;const u=()=>{if(!n.x&&!n.y){this._scrollingActive=!1;return}const{scrollTop:d,scrollLeft:f}=a;n.y&&(a.scrollTop+=_g(n.y/r),s.y1-=a.scrollTop-d),n.x&&(a.scrollLeft+=_g(n.x/r),s.x1-=a.scrollLeft-f),o.next(t),requestAnimationFrame(u)};requestAnimationFrame(u)}else o.next(t);this._handleMoveEvent(t)}_handleMoveEvent(t){const{features:n}=this._options;(n.touch&&NM()||this._scrollAvailable&&jM())&&t.preventDefault()}_onScroll(){const{_scrollDelta:t,_options:{document:n}}=this,{scrollTop:s,scrollLeft:i}=n.scrollingElement??n.body;this._areaLocation.x1+=t.x-i,this._areaLocation.y1+=t.y-s,t.x=i,t.y=s,this._setupSelectionArea(),this._frame.next(null)}_onStartAreaScroll(){this._targetBoundaryScrolled=!0,_n(this._targetElement,"scroll",this._onStartAreaScroll)}_wheelScroll(t){const{manualSpeed:n}=this._options.behaviour.scrolling,s=t.deltaY?t.deltaY>0?1:-1:0,i=t.deltaX?t.deltaX>0?1:-1:0;this._scrollSpeed.y+=s*n,this._scrollSpeed.x+=i*n,this._onTapMove(t),t.preventDefault()}_keyboardScroll(t){const{manualSpeed:n}=this._options.behaviour.scrolling,s=t.key==="ArrowLeft"?-1:t.key==="ArrowRight"?1:0,i=t.key==="ArrowUp"?-1:t.key==="ArrowDown"?1:0;this._scrollSpeed.x+=Math.sign(s)*n,this._scrollSpeed.y+=Math.sign(i)*n,t.preventDefault(),this._onTapMove({clientX:this._lastMousePosition.x,clientY:this._lastMousePosition.y,preventDefault:()=>{}})}_recalculateSelectionAreaRect(){const{_scrollSpeed:t,_areaLocation:n,_targetElement:s,_options:i}=this,{scrollTop:o,scrollHeight:r,clientHeight:a,scrollLeft:l,scrollWidth:c,clientWidth:u}=s,d=this._targetRect,{x1:f,y1:m}=n;let{x2:g,y2:_}=n;const{behaviour:{scrolling:{startScrollMargins:y}}}=i;g<d.left+y.x?(t.x=l?-Ws(d.left-g+y.x):0,g=g<d.left?d.left:g):g>d.right-y.x?(t.x=c-l-u?Ws(d.left+d.width-g-y.x):0,g=g>d.right?d.right:g):t.x=0,_<d.top+y.y?(t.y=o?-Ws(d.top-_+y.y):0,_=_<d.top?d.top:_):_>d.bottom-y.y?(t.y=r-o-a?Ws(d.top+d.height-_-y.y):0,_=_>d.bottom?d.bottom:_):t.y=0;const b=gg(f,g),v=gg(m,_),$=vg(f,g),S=vg(m,_);this._areaRect=hg(b,v,$-b,S-v)}_redrawSelectionArea(){const{x:t,y:n,width:s,height:i}=this._areaRect,{style:o}=this._area;o.left=`${t}px`,o.top=`${n}px`,o.width=`${s}px`,o.height=`${i}px`}_onTapStop(t,n){var s;const{document:i,features:o}=this._options,{_singleClick:r}=this;_n(this._targetElement,"scroll",this._onStartAreaScroll),_n(i,["mousemove","touchmove"],this._delayedTapMove),_n(i,["touchmove","mousemove"],this._onTapMove),_n(i,["mouseup","touchcancel","touchend"],this._onTapStop),_n(i,"scroll",this._onScroll),this._keepSelection(),t&&r&&o.singleTap.allow?this._onSingleTap(t):!r&&!n&&(this._updateElementSelection(),this._emitEvent("stop",t)),this._scrollSpeed.x=0,this._scrollSpeed.y=0,_n(this._targetElement,"wheel",this._wheelScroll,{passive:!0}),_n(this._options.document,"keydown",this._keyboardScroll,{passive:!0}),this._clippingElement.remove(),(s=this._frame)==null||s.cancel(),Ss(this._area,"display","none")}_updateElementSelection(){const{_selectables:t,_options:n,_selection:s,_areaRect:i}=this,{stored:o,selected:r,touched:a}=s,{intersect:l,overlap:c}=n.behaviour,u=c==="invert",d=[],f=[],m=[];for(let _=0;_<t.length;_++){const y=t[_];if(pg(i,y.getBoundingClientRect(),l)){if(r.includes(y))o.includes(y)&&!a.includes(y)&&a.push(y);else if(u&&o.includes(y)){m.push(y);continue}else f.push(y);d.push(y)}}u&&f.push(...o.filter(_=>!r.includes(_)));const g=c==="keep";for(let _=0;_<r.length;_++){const y=r[_];!d.includes(y)&&!(g&&o.includes(y))&&m.push(y)}s.selected=d,s.changed={added:f,removed:m},this._latestElement=void 0}_emitEvent(t,n){return this.emit(t,{event:n,store:this._selection,selection:this})}_keepSelection(){const{_options:t,_selection:n}=this,{selected:s,changed:i,touched:o,stored:r}=n,a=s.filter(l=>!r.includes(l));switch(t.behaviour.overlap){case"drop":{n.stored=[...a,...r.filter(l=>!o.includes(l))];break}case"invert":{n.stored=[...a,...r.filter(l=>!i.removed.includes(l))];break}case"keep":{n.stored=[...r,...s.filter(l=>!r.includes(l))];break}}}trigger(t,n=!0){this._onTapStart(t,n)}resolveSelectables(){this._selectables=Ai(this._options.selectables,this._options.document)}clearSelection(t=!0,n=!1){const{selected:s,stored:i,changed:o}=this._selection;o.added=[],o.removed.push(...s,...t?i:[]),n||(this._emitEvent("move",null),this._emitEvent("stop",null)),this._selection=yg(t?[]:i)}getSelection(){return this._selection.stored}getSelectionArea(){return this._area}getSelectables(){return this._selectables}setAreaLocation(t){Object.assign(this._areaLocation,t),this._redrawSelectionArea()}getAreaLocation(){return this._areaLocation}cancel(t=!1){this._onTapStop(null,!t)}destroy(){this.cancel(),this.disable(),this._clippingElement.remove(),super.unbindAllListeners()}select(t,n=!1){const{changed:s,selected:i,stored:o}=this._selection,r=Ai(t,this._options.document).filter(a=>!i.includes(a)&&!o.includes(a));return o.push(...r),i.push(...r),s.added.push(...r),s.removed=[],this._latestElement=void 0,n||(this._emitEvent("move",null),this._emitEvent("stop",null)),r}deselect(t,n=!1){const{selected:s,stored:i,changed:o}=this._selection,r=Ai(t,this._options.document).filter(a=>s.includes(a)||i.includes(a));this._selection.stored=i.filter(a=>!r.includes(a)),this._selection.selected=s.filter(a=>!r.includes(a)),this._selection.changed.added=[],this._selection.changed.removed.push(...r.filter(a=>!o.removed.includes(a))),this._latestElement=void 0,n||(this._emitEvent("move",null),this._emitEvent("stop",null))}};bg.version="3.9.0";let VM=bg;const WM={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function qM(e,t){return w(),k("svg",WM,[...t[0]||(t[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 0 0 2-2V9.414a1 1 0 0 0-.293-.707l-5.414-5.414A1 1 0 0 0 12.586 3H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2"},null,-1)])])}const wg={render:qM},KM={class:"vuefinder__drag-item__container"},YM={class:"vuefinder__drag-item__count"},GM=xe({__name:"DragItem",props:{count:{}},setup(e){const t=e;return(n,s)=>(w(),k("div",KM,[t.count>1?(w(),oe(h(wg),{key:0,class:"vuefinder__drag-item__icon translate-x-1 translate-y-1"})):re("",!0),se(h(wg),{class:"vuefinder__drag-item__icon"}),p("div",YM,B(t.count),1)]))}}),QM={key:2,class:"vuefinder__item-icon__extension"},xg=xe({__name:"ItemIcon",props:{item:{},ext:{type:Boolean},small:{type:Boolean},view:{}},setup(e){const t=e,n=Ce(),s=we(n.config.state),i=ce(()=>t.small!==void 0?t.small?"small":"large":t.view==="list"?"small":"large"),o=ce(()=>{const a=i.value,l=s.value?.listIconSize,c=s.value?.gridIconSize;return s.value?.gridItemWidth,s.value?.gridItemHeight,t.view==="list"||a==="small"?{"--vf-icon-size":`${l??16}px`}:{"--vf-icon-size":`${c??48}px`}}),r={app:n,config:s.value,item:t.item,view:t.view};return(a,l)=>(w(),k("div",{class:ge(["vuefinder__item-icon",{"vuefinder__item-icon--small":i.value==="small","vuefinder__item-icon--large":i.value==="large","vuefinder__item-icon--grid":e.view==="grid","vuefinder__item-icon--list":e.view==="list"}]),style:st(o.value)},[Oe(a.$slots,"icon",bn(qn(r)),()=>[e.item.type==="dir"?(w(),oe(h(Fn),{key:0,class:"vuefinder__item-icon__folder"})):(w(),oe(h(uo),{key:1,class:"vuefinder__item-icon__file"})),e.ext&&e.item.type!=="dir"&&e.item.extension?(w(),k("div",QM,B(e.item.extension.substring(0,3)),1)):re("",!0)])],6))}}),XM={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24"};function JM(e,t){return w(),k("svg",XM,[...t[0]||(t[0]=[p("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),p("path",{d:"M12 2a5 5 0 0 1 5 5v3a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3V7a5 5 0 0 1 5-5m0 12a2 2 0 0 0-1.995 1.85L10 16a2 2 0 1 0 2-2m0-10a3 3 0 0 0-3 3v3h6V7a3 3 0 0 0-3-3"},null,-1)])])}const Sg={render:JM},ZM=["data-key","data-row","data-col","draggable"],e5={key:0},t5={class:"vuefinder__explorer__item-grid-content"},n5=["data-src","alt"],s5={class:"vuefinder__explorer__item-title"},i5={key:1,class:"vuefinder__explorer__item-list-content"},o5={class:"vuefinder__explorer__item-list-name"},r5={class:"vuefinder__explorer__item-list-icon"},a5={class:"vuefinder__explorer__item-name"},l5={key:0,class:"vuefinder__explorer__item-path"},c5={key:1,class:"vuefinder__explorer__item-size"},u5={key:0},d5={key:2,class:"vuefinder__explorer__item-date"},f5=xe({__name:"FileItem",props:{item:{},view:{},showThumbnails:{type:Boolean},isSelected:{type:Boolean},isDragging:{type:Boolean},rowIndex:{},colIndex:{},showPath:{type:Boolean},explorerId:{}},emits:["click","dblclick","contextmenu","dragstart","dragend"],setup(e,{emit:t}){const n=e,s=t,i=Ce(),o=i.fs,r=i.config,a=ce(()=>{const T=i.selectionFilterType;return!T||T==="both"?!0:T==="files"&&n.item.type==="file"||T==="dirs"&&n.item.type==="dir"}),l=ce(()=>{const T=i.selectionFilterMimeIncludes;return!T||!T.length||n.item.type==="dir"?!0:n.item.mime_type?T.some(O=>n.item.mime_type?.startsWith(O)):!1}),c=ce(()=>a.value&&l.value),u=ce(()=>["file-item-"+n.explorerId,n.view==="grid"?"vf-explorer-item-grid":"vf-explorer-item-list",n.isSelected?"vf-explorer-selected":"",c.value?"":"vf-explorer-item--unselectable"]),d=ce(()=>({opacity:n.isDragging||o.isCut(n.item.path)||!c.value?.5:""})),f=Q(null);let m=!1,g=null,_=null,y=!1;const{enabled:b}=dn(),v=typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0),$=ce(()=>v?!1:b("move")),S=()=>{g&&(clearTimeout(g),g=null),_=null},E=T=>{S(),_=T,y=!1,T.stopPropagation(),g=setTimeout(()=>{!_||g===null||(y=!0,_.cancelable&&_.preventDefault(),_.stopPropagation(),s("contextmenu",_),S())},500)},F=T=>{if(y){T.preventDefault(),T.stopPropagation(),S();return}setTimeout(()=>{y||(S(),C(T))},100)},P=T=>{if(!_)return;const O=_.touches[0]||_.changedTouches[0],R=T.touches[0]||T.changedTouches[0];if(O&&R){const K=Math.abs(R.clientX-O.clientX),ee=Math.abs(R.clientY-O.clientY);(K>15||ee>15)&&S()}},H=T=>{v&&T.type!=="click"||s("click",T)},z=T=>{if(y)return T.preventDefault(),T.stopPropagation(),!1;s("dragstart",T)},C=T=>{if(!m)m=!0,s("click",T),f.value=setTimeout(()=>{m=!1},300);else return m=!1,s("dblclick",T),!1};return(T,O)=>(w(),k("div",{class:ge(u.value),style:st(d.value),"data-key":e.item.path,"data-row":e.rowIndex,"data-col":e.colIndex,draggable:$.value,onTouchstartCapture:O[1]||(O[1]=R=>E(R)),onTouchendCapture:O[2]||(O[2]=R=>F(R)),onTouchmoveCapture:P,onTouchcancelCapture:O[3]||(O[3]=()=>S()),onClick:H,onDblclick:O[4]||(O[4]=R=>s("dblclick",R)),onContextmenu:O[5]||(O[5]=Pe(R=>s("contextmenu",R),["prevent","stop"])),onDragstart:z,onDragend:O[6]||(O[6]=R=>s("dragend",R))},[e.view==="grid"?(w(),k("div",e5,[h(o).isReadOnly(e.item)?(w(),oe(h(Sg),{key:0,class:"vuefinder__item--readonly vuefinder__item--readonly--left",title:"Read Only"})):re("",!0),p("div",t5,[(e.item.mime_type??"").startsWith("image")&&e.showThumbnails?(w(),k("img",{key:0,src:"data:image/png;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"vuefinder__explorer__item-thumbnail lazy","data-src":e.item.previewUrl??h(i).adapter.getPreviewUrl({path:e.item.path}),alt:e.item.basename,onTouchstart:O[0]||(O[0]=R=>R.preventDefault())},null,40,n5)):(w(),oe(xg,{key:1,item:e.item,ext:!0,view:e.view},{icon:be(R=>[Oe(T.$slots,"icon",bn(qn(R)))]),_:3},8,["item","view"]))]),p("span",s5,B(h(Hu)(e.item.basename)),1)])):(w(),k("div",i5,[p("div",o5,[p("div",r5,[se(xg,{item:e.item,view:e.view},{icon:be(R=>[Oe(T.$slots,"icon",bn(qn(R)))]),_:3},8,["item","view"])]),p("span",a5,B(e.item.basename),1),p("div",null,[h(o).isReadOnly(e.item)?(w(),oe(h(Sg),{key:0,class:"vuefinder__item--readonly vuefinder__item--readonly--list",title:"Read Only"})):re("",!0)])]),e.showPath?(w(),k("div",l5,B(e.item.path),1)):re("",!0),e.showPath?re("",!0):(w(),k("div",c5,[e.item.file_size?(w(),k("div",u5,B(h(i).filesize(e.item.file_size)),1)):re("",!0)])),!e.showPath&&e.item.last_modified?(w(),k("div",d5,B(new Date(e.item.last_modified*1e3).toLocaleString()),1)):re("",!0)])),h(b)("pinned")&&h(r).get("pinnedFolders").find(R=>R.path===e.item.path)?(w(),oe(h(Hc),{key:2,class:"vuefinder__item--pinned"})):re("",!0)],46,ZM))}}),h5=["data-row"],$g=xe({__name:"FileRow",props:{rowIndex:{},rowHeight:{},view:{},itemsPerRow:{},items:{},showThumbnails:{type:Boolean},showPath:{type:Boolean},isDraggingItem:{type:Function},isSelected:{type:Function},dragNDropEvents:{type:Function},explorerId:{}},emits:["click","dblclick","contextmenu","dragstart","dragend"],setup(e,{emit:t}){const n=e,s=t,i=ce(()=>[n.view==="grid"?"vf-explorer-item-grid-row":"vf-explorer-item-list-row","pointer-events-none"]),o=ce(()=>({position:"absolute",top:0,left:0,width:"100%",height:`${n.rowHeight}px`,transform:`translateY(${n.rowIndex*n.rowHeight}px)`})),r=ce(()=>n.view==="grid"?{gridTemplateColumns:`repeat(${n.itemsPerRow||1}, 1fr)`}:{gridTemplateColumns:"1fr"});return(a,l)=>(w(),k("div",{class:ge(i.value),"data-row":e.rowIndex,style:st(o.value)},[p("div",{class:ge(["grid justify-self-start",{"w-full":e.view==="list"}]),style:st(r.value)},[(w(!0),k($e,null,Ve(e.items,(c,u)=>(w(),oe(f5,at({key:c.path,item:c,view:e.view,"show-thumbnails":e.showThumbnails,"show-path":e.showPath,"is-selected":e.isSelected(c.path),"is-dragging":e.isDraggingItem(c.path),"row-index":e.rowIndex,"col-index":u,"explorer-id":e.explorerId},os(e.dragNDropEvents(c)),{onClick:l[0]||(l[0]=d=>s("click",d)),onDblclick:l[1]||(l[1]=d=>s("dblclick",d)),onContextmenu:l[2]||(l[2]=d=>s("contextmenu",d)),onDragstart:l[3]||(l[3]=d=>s("dragstart",d)),onDragend:l[4]||(l[4]=d=>s("dragend",d))}),{icon:be(d=>[Oe(a.$slots,"icon",at({ref_for:!0},d))]),_:3},16,["item","view","show-thumbnails","show-path","is-selected","is-dragging","row-index","col-index","explorer-id"]))),128))],6)],14,h5))}}),p5={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"};function m5(e,t){return w(),k("svg",p5,[...t[0]||(t[0]=[p("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 0 1 1.414 0L10 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414","clip-rule":"evenodd"},null,-1)])])}const v5={render:m5},g5={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"};function _5(e,t){return w(),k("svg",g5,[...t[0]||(t[0]=[p("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 0 1-1.414 0L10 9.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414","clip-rule":"evenodd"},null,-1)])])}const y5={render:_5},Wu=xe({__name:"SortIcon",props:{direction:{}},setup(e){return(t,n)=>(w(),k("div",null,[e.direction==="asc"?(w(),oe(h(v5),{key:0,class:"vuefinder__explorer__sort-icon"})):re("",!0),e.direction==="desc"?(w(),oe(h(y5),{key:1,class:"vuefinder__explorer__sort-icon"})):re("",!0)]))}}),b5={class:"vuefinder__explorer__header"},w5=xe({__name:"ExplorerHeader",setup(e){const t=Ce(),n=t.fs,{t:s}=t.i18n,i=we(n.sort);return(o,r)=>(w(),k("div",b5,[p("div",{class:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--name vf-sort-button",onClick:r[0]||(r[0]=a=>h(n).toggleSort("basename"))},[je(B(h(s)("Name"))+" ",1),Ke(se(Wu,{direction:h(i).order},null,8,["direction"]),[[an,h(i).active&&h(i).column==="basename"]])]),p("div",{class:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--size vf-sort-button",onClick:r[1]||(r[1]=a=>h(n).toggleSort("file_size"))},[je(B(h(s)("Size"))+" ",1),Ke(se(Wu,{direction:h(i).order},null,8,["direction"]),[[an,h(i).active&&h(i).column==="file_size"]])]),p("div",{class:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--date vf-sort-button",onClick:r[2]||(r[2]=a=>h(n).toggleSort("last_modified"))},[je(B(h(s)("Date"))+" ",1),Ke(se(Wu,{direction:h(i).order},null,8,["direction"]),[[an,h(i).active&&h(i).column==="last_modified"]])])]))}});function x5(e,t){const{scrollContainer:n,itemWidth:s=100,rowHeight:i,overscan:o=2,containerPadding:r=48,lockItemsPerRow:a}=t,l=e,c=()=>typeof i=="number"?i:i.value,u=()=>s?typeof s=="number"?s:s.value:100,d=()=>r?typeof r=="number"?r:r.value:0,f=Q(0),m=Q(6),g=Q(600);let _=null;const y=ce(()=>Math.ceil(l.value.length/m.value)),b=ce(()=>y.value*c()),v=ce(()=>{const T=c(),O=Math.max(0,Math.floor(f.value/T)-o),R=Math.min(y.value,Math.ceil((f.value+g.value)/T)+o);return{start:O,end:R}}),$=ce(()=>{const{start:T,end:O}=v.value;return Array.from({length:O-T},(R,K)=>T+K)}),S=()=>g.value,E=()=>typeof a=="object"?a.value:!1,F=()=>{if(E()){m.value=1;return}if(n.value){const T=d(),O=n.value.clientWidth-T,R=u();R>0&&(m.value=Math.max(Math.floor(O/R),2))}},P=T=>{const O=T.target;f.value=O.scrollTop};Me(()=>l.value.length,()=>{F()}),s&&typeof s!="number"&&Me(s,()=>{F()}),r&&typeof r!="number"&&Me(r,()=>{F()}),i&&typeof i!="number"&&Me(i,()=>{});const H=(T,O)=>{if(!T||!Array.isArray(T))return[];const R=O*m.value;return T.slice(R,R+m.value)},z=(T,O,R,K,ee)=>{if(!T||!Array.isArray(T))return[];const V=[];for(let U=O;U<=R;U++)for(let A=K;A<=ee;A++){const D=U*m.value+A;D<T.length&&T[D]&&V.push(T[D])}return V},C=T=>({row:Math.floor(T/m.value),col:T%m.value});return Le(async()=>{await gt(),n.value&&(g.value=n.value.clientHeight||600),F(),window.addEventListener("resize",()=>{n.value&&(g.value=n.value.clientHeight||600),F()}),n.value&&"ResizeObserver"in window&&(_=new ResizeObserver(T=>{const O=T[0];O&&(g.value=Math.round(O.contentRect.height)),F()}),_.observe(n.value))}),rt(()=>{window.removeEventListener("resize",F),_&&(_.disconnect(),_=null)}),{scrollTop:f,itemsPerRow:m,totalRows:y,totalHeight:b,visibleRange:v,visibleRows:$,updateItemsPerRow:F,handleScroll:P,getRowItems:H,getItemsInRange:z,getItemPosition:C,getContainerHeight:S}}function S5(e){const{itemsPerRow:t,totalHeight:n,getItemsInRange:s,getKey:i,selectionObject:o,rowHeight:r,itemWidth:a,osInstance:l}=e,c=()=>typeof a=="number"?a:a.value,u=Math.floor(Math.random()*2**32).toString(),d=Ce(),f=d.fs,m=we(f.selectedKeys),g=we(f.sortedFiles),_=ce(()=>{const A=new Map;return g.value&&g.value.forEach(D=>{A.set(i(D),D)}),A}),y=Q(new Set),b=Q(!1),v=Q(!1),$=A=>A.map(D=>D.getAttribute("data-key")).filter(D=>!!D),S=A=>{A.selection.clearSelection(!0,!0)},E=A=>{if(m.value&&m.value.size>0){const D=document.querySelectorAll(`.file-item-${u}[data-key]`),ne=new Map;D.forEach(te=>{const Y=te.getAttribute("data-key");Y&&ne.set(Y,te)});const X=[];m.value.forEach(te=>{const Y=ne.get(te);Y&&F(te)&&X.push(Y)}),X.forEach(te=>{A.selection.select(te,!0)})}},F=A=>{const D=_.value.get(A);if(!D)return!1;const ne=d.selectionFilterType,X=d.selectionFilterMimeIncludes;return ne==="files"&&D.type==="dir"||ne==="dirs"&&D.type==="file"?!1:X&&Array.isArray(X)&&X.length>0?D.type==="dir"?!0:D.mime_type?X.some(te=>D.mime_type?.startsWith(te)):!1:!0},P=A=>{if(d.selectionMode==="single")return!1;b.value=!1,!A.event?.metaKey&&!A.event?.ctrlKey&&(v.value=!0),A.selection.resolveSelectables(),S(A),E(A)},H=Q(0),z=({event:A,selection:D})=>{H.value=(o.value?.getAreaLocation().y1??0)-(d.root.getBoundingClientRect().top??0);const ne=document.querySelector(".selection-area-container");if(ne&&(ne.dataset.theme=d.theme.current),d.selectionMode==="single")return;const X=A;X&&"type"in X&&X.type==="touchend"&&X.preventDefault();const te=A;!te?.ctrlKey&&!te?.metaKey&&(f.clearSelection(),D.clearSelection(!0,!0)),y.value.clear()},C=A=>{if(d.selectionMode==="single")return;const D=$(A.store.changed.added),ne=$(A.store.changed.removed);v.value=!1,b.value=!0,D.forEach(X=>{m.value&&!m.value.has(X)&&F(X)&&(y.value.add(X),f.select(X,d.selectionMode||"multiple"))}),ne.forEach(X=>{document.querySelector(`[data-key="${X}"]`)&&_.value.has(X)&&y.value.delete(X),f.deselect(X)}),A.selection.resolveSelectables(),E(A)},T=()=>{y.value.clear()},O=A=>{if(!A.event)return;const D=document.querySelector(".scroller-"+u);if(!D)return;const ne=D.getBoundingClientRect(),X=ne.left,te=ne.top;let Y=D.scrollTop;if(l?.value){const{viewport:ke}=l.value.elements();ke&&(Y=ke.scrollTop)}const ue=o.value?.getAreaLocation();if(!ue)return;const ve=Math.min(ue.x1,ue.x2),pe=Y+Math.min(ue.y1,ue.y2),L=Math.max(ue.x1,ue.x2),fe=Y+Math.max(ue.y1,ue.y2),ae=4,J=c();let me=Math.floor((ve-X-ae)/J),x=Math.floor((L-X-ae)/J);const M=ve-X-ae-me*J,j=L-X-ae-x*J;M>J-ae&&(me=me+1),j<ae&&(x=x-1);const Z=Math.max(0,me),I=Math.min(t.value-1,x);let N=Math.floor((pe-te-ae)/r.value),W=Math.floor((fe-te-ae)/r.value);const q=pe-te-ae-N*r.value,ie=fe-te-ae-W*r.value,G=Math.floor((n.value-ae)/r.value);q>r.value-ae&&(N=N+1),ie<ae&&(W=W-1);const de=Math.max(0,N),le=Math.min(W,G),he=s(g.value,de,le,Z,I),_e=document.querySelectorAll(`.file-item-${u}[data-key]`),Te=new Map;_e.forEach(ke=>{const Xe=ke.getAttribute("data-key");Xe&&Te.set(Xe,ke)});const Re=[];if(he.forEach(ke=>{const Xe=i(ke);Te.get(Xe)||Re.push(Xe)}),Re.length>0){const ke=d.selectionMode||"multiple";f.selectMultiple(Re,ke)}},R=A=>{O(A),S(A),E(A),f.setSelectedCount(m.value?.size||0),b.value=!1},K=()=>{let A=[".scroller-"+u];if(l?.value){const{viewport:D}=l.value.elements();D&&(A=D)}o.value=new VM({selectables:[".file-item-"+u+":not(.vf-explorer-item--unselectable)"],boundaries:A,selectionContainerClass:"selection-area-container",behaviour:{overlap:"invert",intersect:"touch",startThreshold:0,triggers:[0],scrolling:{speedDivider:10,manualSpeed:750,startScrollMargins:{x:0,y:10}}},features:{touch:!0,range:!0,deselectOnBlur:!0,singleTap:{allow:!1,intersect:"native"}}}),o.value.on("beforestart",P),o.value.on("start",z),o.value.on("move",C),o.value.on("stop",R)},ee=()=>{o.value&&(o.value.destroy(),o.value=null)},V=()=>{o.value&&(Array.from(m.value??new Set).forEach(D=>{F(D)||f.deselect(D)}),ee(),K())},U=A=>{v.value&&(o.value?.clearSelection(),T(),v.value=!1);const D=A;!y.value.size&&!v.value&&!D?.ctrlKey&&!D?.metaKey&&(f.clearSelection(),o.value?.clearSelection())};return Le(()=>{const A=D=>{!D.buttons&&b.value&&(b.value=!1)};document.addEventListener("dragleave",A),rt(()=>{document.removeEventListener("dragleave",A)})}),{explorerId:u,isDragging:b,initializeSelectionArea:K,updateSelectionArea:V,handleContentClick:U}}function $5(e){const t=s=>{if(!s)return{typeAllowed:!1,mimeAllowed:!1};const i=e.selectionFilterType,o=e.selectionFilterMimeIncludes,r=!i||i==="both"||i==="files"&&s.type==="file"||i==="dirs"&&s.type==="dir";let a=!0;return o&&Array.isArray(o)&&o.length>0&&(s.type==="dir"?a=!0:s.mime_type?a=o.some(l=>s.mime_type.startsWith(l)):a=!1),{typeAllowed:r,mimeAllowed:a}};return{isItemSelectable:t,canSelectItem:s=>{const{typeAllowed:i,mimeAllowed:o}=t(s);return i&&o}}}function C5(e){const t=s=>({item:s,defaultPrevented:!1,preventDefault(){this.defaultPrevented=!0}});return{createCancelableEvent:t,openItem:(s,i,o)=>{const r=t(s);if(s.type==="file"&&i){if(e.emitter.emit("vf-file-dclick",r),r.defaultPrevented)return}else if(s.type==="dir"&&o&&(e.emitter.emit("vf-folder-dclick",r),r.defaultPrevented))return;const a=e.contextMenuItems?.find(l=>l.show(e,{items:[s],target:s,searchQuery:""}));a&&a.action(e,[s])}}}function E5(e,t,n,s,i,o,r){const a=e.fs,{canSelectItem:l}=$5(e),{openItem:c}=C5(e),u=y=>{const b=y.target?.closest(".file-item-"+t);if(!b)return null;const v=String(b.getAttribute("data-key")),$=n.value?.find(S=>S.path===v);return{key:v,item:$}},d=()=>{const y=s.value;return n.value?.filter(b=>y?.has(b.path))||[]};return{handleItemClick:y=>{const b=u(y);if(!b)return;const{key:v,item:$}=b,S=y;if(!l($))return;const E=e.selectionMode||"multiple";!S?.ctrlKey&&!S?.metaKey&&(y.type!=="touchstart"||!a.isSelected(v))&&(a.clearSelection(),i.value?.clearSelection(!0,!0)),i.value?.resolveSelectables(),y.type==="touchstart"&&a.isSelected(v)?a.select(v,E):a.toggleSelect(v,E),a.setSelectedCount(s.value?.size||0)},handleItemDblClick:y=>{const b=u(y);if(!b)return;const{item:v}=b;l(v)&&v&&c(v,o,r)},handleItemContextMenu:y=>{y.preventDefault(),y.stopPropagation();const b=u(y);if(!b)return;const{key:v,item:$}=b;l($)&&(s.value?.has(v)||(a.clearSelection(),a.select(v)),e.emitter.emit("vf-contextmenu-show",{event:y,items:d(),target:$}))},handleContentContextMenu:y=>{y.preventDefault(),e.emitter.emit("vf-contextmenu-show",{event:y,items:d()})},getSelectedItems:d}}function A5(e,t){const n=Q(null);return Le(()=>{if(Zt.plugin([JS]),e.value){const s=Zt(e.value,{scrollbars:{theme:"vf-scrollbars-theme"}},{initialized:i=>{n.value=i;const{viewport:o}=i.elements();o&&o.addEventListener("scroll",t)},updated:i=>{const{viewport:o}=i.elements()}});n.value=s}}),rt(()=>{if(n.value){const{viewport:s}=n.value.elements();s&&s.removeEventListener("scroll",t),n.value.destroy(),n.value=null}}),{osInstance:n}}function T5(e,t){const n=Q(null);return Le(()=>{e.value&&(n.value=new di({elements_selector:".lazy",container:e.value})),t?.emitter&&t.emitter.on("vf-refresh-thumbnails",()=>{n.value&&n.value.update()})}),Qd(()=>{n.value&&n.value.update()}),rt(()=>{n.value&&(n.value.destroy(),n.value=null)}),{vfLazyLoad:n}}const k5={class:"vuefinder__explorer__container"},M5={key:0,class:"vuefinder__linear-loader"},F5=xe({__name:"Explorer",props:{onFileDclick:{type:Function},onFolderDclick:{type:Function}},setup(e){const t=e,n=Ce(),s=Ao(n,["vuefinder__drag-over"]),i=ei("dragImage"),o=qo(null),r=ei("scrollContainer"),a=ei("scrollContent"),l=n.fs,c=n.config,u=we(c.state),d=we(l.sortedFiles),f=we(l.selectedKeys),m=we(l.loading),g=J=>f.value?.has(J)??!1,_=ce(()=>{if(u.value?.view==="grid"){const M=u.value?.gridItemHeight??80,j=u.value?.gridItemGap??8;return M+j*2}const me=u.value?.listItemHeight??32,x=u.value?.listItemGap??2;return me+x*2}),y=ce(()=>{if(u.value?.view==="grid"){const me=u.value?.gridItemWidth??96,x=u.value?.gridItemGap??8;return me+x*2}return 104}),b=ce(()=>u.value?.view==="grid"?(u.value?.gridItemGap??8)*2:0),{t:v}=n.i18n,{itemsPerRow:$,totalHeight:S,visibleRows:E,handleScroll:F,getRowItems:P,getItemsInRange:H,updateItemsPerRow:z}=x5(ce(()=>d.value??[]),{scrollContainer:r,itemWidth:y,rowHeight:_,overscan:2,containerPadding:b,lockItemsPerRow:ce(()=>u.value.view==="list")}),{osInstance:C}=A5(r,F),{explorerId:T,isDragging:O,initializeSelectionArea:R,updateSelectionArea:K,handleContentClick:ee}=S5({itemsPerRow:$,totalHeight:S,getItemsInRange:H,getKey:J=>J.path,selectionObject:o,rowHeight:_,itemWidth:y,osInstance:C}),V=Q(null),U=J=>{if(!J||!V.value)return!1;const me=f.value?.has(V.value)??!1;return O.value&&(me?f.value?.has(J)??!1:J===V.value)};Me(()=>c.get("view"),J=>{J==="list"?$.value=1:z()},{immediate:!0}),Me($,J=>{c.get("view")==="list"&&J!==1&&($.value=1)});const A=J=>d.value?.[J];T5(r,n);const{handleItemClick:D,handleItemDblClick:ne,handleItemContextMenu:X,handleContentContextMenu:te}=E5(n,T,d,f,o,t.onFileDclick,t.onFolderDclick);Le(()=>{const J=()=>{o.value||R(),o.value&&o.value.on("beforestart",({event:me})=>{const x=me?.target===a.value;if(!me?.metaKey&&!me?.ctrlKey&&!me?.altKey&&!x)return!1})};if(C.value)J();else{const me=setInterval(()=>{C.value&&(clearInterval(me),J())},50);setTimeout(()=>{clearInterval(me),o.value||J()},500)}Me(()=>[n.selectionFilterType,n.selectionFilterMimeIncludes],K,{deep:!0})});const Y=J=>{if(!(n.features?.move??!1)||J.altKey||J.ctrlKey||J.metaKey)return J.preventDefault(),!1;O.value=!0;const x=J.target?.closest(".file-item-"+T);if(V.value=x?String(x.dataset.key):null,J.dataTransfer&&V.value){J.dataTransfer.setDragImage(i.value,0,15),J.dataTransfer.effectAllowed="all",J.dataTransfer.dropEffect="copy";const M=f.value?.has(V.value)?Array.from(f.value):[V.value];J.dataTransfer.setData("items",JSON.stringify(M)),l.setDraggedItem(V.value)}},ue=()=>{V.value=null};let ve=null,pe=null;const L=J=>{J.target?.closest(".file-item-"+T)||(pe=J,ve&&clearTimeout(ve),ve=setTimeout(()=>{pe&&(pe.cancelable&&pe.preventDefault(),pe.stopPropagation(),te(pe)),pe=null,ve=null},500))},fe=J=>{ve&&(clearTimeout(ve),ve=null),pe=null},ae=J=>{if(!pe)return;const me=pe.touches[0]||pe.changedTouches[0],x=J.touches[0]||J.changedTouches[0];if(me&&x){const M=Math.abs(x.clientX-me.clientX),j=Math.abs(x.clientY-me.clientY);(M>15||j>15)&&(ve&&(clearTimeout(ve),ve=null),pe=null)}};return(J,me)=>(w(),k("div",k5,[h(u).view==="list"?(w(),oe(w5,{key:0})):re("",!0),p("div",{ref_key:"scrollContainer",ref:r,class:ge(["vuefinder__explorer__selector-area","scroller-"+h(T)])},[h(c).get("loadingIndicator")==="linear"&&h(m)?(w(),k("div",M5)):re("",!0),p("div",{ref_key:"scrollContent",ref:a,class:"scrollContent vuefinder__explorer__scroll-content",style:st({height:`${h(S)}px`,position:"relative",width:"100%"}),onContextmenu:me[0]||(me[0]=Pe((...x)=>h(te)&&h(te)(...x),["self","prevent"])),onClick:me[1]||(me[1]=Pe((...x)=>h(ee)&&h(ee)(...x),["self"])),onTouchstartCapture:Pe(L,["self"]),onTouchendCapture:Pe(fe,["self"]),onTouchmoveCapture:Pe(ae,["self"]),onTouchcancelCapture:Pe(fe,["self"])},[p("div",{ref_key:"dragImage",ref:i,class:"vuefinder__explorer__drag-item"},[se(GM,{count:V.value&&h(f).has(V.value)?h(f).size:1},null,8,["count"])],512),h(u).view==="grid"?(w(!0),k($e,{key:0},Ve(h(E),x=>(w(),oe($g,{key:x,"row-index":x,"row-height":_.value,view:"grid","items-per-row":h($),items:h(P)(h(d),x),"show-thumbnails":h(u).showThumbnails,"is-dragging-item":U,"is-selected":g,"drag-n-drop-events":M=>h(s).events(M),"explorer-id":h(T),onClick:h(D),onDblclick:h(ne),onContextmenu:h(X),onDragstart:Y,onDragend:ue},{icon:be(M=>[Oe(J.$slots,"icon",at({ref_for:!0},M))]),_:3},8,["row-index","row-height","items-per-row","items","show-thumbnails","drag-n-drop-events","explorer-id","onClick","onDblclick","onContextmenu"]))),128)):(w(!0),k($e,{key:1},Ve(h(E),x=>(w(),oe($g,{key:x,"row-index":x,"row-height":_.value,view:"list",items:A(x)?[A(x)]:[],"is-dragging-item":U,"is-selected":g,"drag-n-drop-events":M=>h(s).events(M),"explorer-id":h(T),onClick:h(D),onDblclick:h(ne),onContextmenu:h(X),onDragstart:Y,onDragend:ue},{icon:be(M=>[Oe(J.$slots,"icon",at({ref_for:!0},M))]),_:3},8,["row-index","row-height","items","drag-n-drop-events","explorer-id","onClick","onDblclick","onContextmenu"]))),128))],36)],2)]))}}),R5=["href","download"],O5=["onClick"],P5=xe({__name:"ContextMenu",setup(e){const t=Ce(),n=Q(null),s=Q([]);let i=null,o=null,r=null,a=[],l=null;const c=Ts({active:!1,items:[],positions:{}});t.emitter.on("vf-context-selected",m=>{s.value=m});const u=m=>m.link(t,s.value),d=m=>{t.emitter.emit("vf-contextmenu-hide"),m.action(t,s.value)};t.emitter.on("vf-contextmenu-show",m=>{const{event:g,items:_,target:y=null}=m||{};c.items=(t.contextMenuItems||[]).filter(b=>b.show(t,{items:_,target:y})).sort((b,v)=>{const $=b.order??1/0,S=v.order??1/0;return $-S}),y?_.length>1&&_.some(b=>b.path===y.path)?t.emitter.emit("vf-context-selected",_):t.emitter.emit("vf-context-selected",[y]):t.emitter.emit("vf-context-selected",[]),f(g)}),t.emitter.on("vf-contextmenu-hide",()=>{c.active=!1,i&&(i(),i=null),r&&(a.forEach(m=>{m===window?window.removeEventListener("scroll",r,!0):m.removeEventListener("scroll",r,!0)}),r=null,a=[]),l&&(document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),l=null),o=null,c.positions={}});const f=async m=>{i&&(i(),i=null);const _=(F=>{if("clientX"in F&&"clientY"in F)return{x:F.clientX,y:F.clientY};const P="touches"in F&&F.touches[0]||"changedTouches"in F&&F.changedTouches[0];return P?{x:P.clientX,y:P.clientY}:{x:0,y:0}})(m);if(o={getBoundingClientRect:()=>({width:0,height:0,x:_.x,y:_.y,top:_.y,left:_.x,right:_.x,bottom:_.y})},c.positions={position:"fixed",zIndex:"10001",opacity:"0",visibility:"hidden",left:"-9999px",top:"-9999px"},c.active=!0,await gt(),!n.value||!o)return;await new Promise(F=>{requestAnimationFrame(()=>{requestAnimationFrame(F)})});const y=[So(8),Co({padding:16,fallbackPlacements:["left-start","right-end","left-end","top-start","bottom-start"]}),$o({padding:16})];let b=0,v=0;try{const F=await Ei(o,n.value,{placement:"right-start",strategy:"fixed",middleware:y});b=F.x,v=F.y}catch(F){console.warn("[ContextMenu] Floating UI initial positioning error:",F);return}c.positions={position:"fixed",zIndex:"10001",left:`${b}px`,top:`${v}px`,opacity:"0",visibility:"visible",transform:"translateY(-8px)",transition:"opacity 150ms ease-out, transform 150ms ease-out"},requestAnimationFrame(()=>{n.value&&(c.positions={...c.positions,opacity:"1",transform:"translateY(0)"})});const S=(F=>{const P=[];let H=F;for(;H&&H!==document.body&&H!==document.documentElement;){const z=window.getComputedStyle(H),C=z.overflow+z.overflowX+z.overflowY;(C.includes("scroll")||C.includes("auto"))&&P.push(H),H=H.parentElement}return P})(n.value);a=[window,...S],r=()=>{c.active&&t.emitter.emit("vf-contextmenu-hide")};const E=r;E&&a.forEach(F=>{F===window?window.addEventListener("scroll",E,!0):F.addEventListener("scroll",E,!0)}),l=F=>{if(!c.active)return;const P=F.target;if(!P||n.value&&n.value.contains(P))return;const H=t.root;H&&H.contains(P)||t.emitter.emit("vf-contextmenu-hide")},setTimeout(()=>{l&&(document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0))},100),setTimeout(()=>{if(!(!n.value||!o))try{i=Lu(o,n.value,async()=>{if(!(!o||!n.value))try{const{x:F,y:P}=await Ei(o,n.value,{placement:"right-start",strategy:"fixed",middleware:y});c.positions={...c.positions,left:`${F}px`,top:`${P}px`}}catch(F){console.warn("Floating UI positioning error:",F)}})}catch(F){console.warn("Floating UI autoUpdate setup error:",F),i=null}},200)};return rt(()=>{i&&(i(),i=null),r&&(a.forEach(m=>{m===window?window.removeEventListener("scroll",r,!0):m.removeEventListener("scroll",r,!0)}),r=null,a=[]),l&&(document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),l=null),o=null}),(m,g)=>Ke((w(),k("ul",{ref_key:"contextmenu",ref:n,class:ge([{"vuefinder__context-menu--active":c.active,"vuefinder__context-menu--inactive":!c.active},"vuefinder__context-menu"]),style:st(c.positions)},[(w(!0),k($e,null,Ve(c.items,_=>(w(),k("li",{key:_.title,class:"vuefinder__context-menu__item"},[_.link?(w(),k("a",{key:0,class:"vuefinder__context-menu__link",target:"_blank",href:u(_),download:u(_),onClick:g[0]||(g[0]=y=>h(t).emitter.emit("vf-contextmenu-hide"))},[p("span",null,B(_.title(h(t).i18n)),1)],8,R5)):(w(),k("div",{key:1,class:"vuefinder__context-menu__action",onClick:y=>d(_)},[p("span",null,B(_.title(h(t).i18n)),1)],8,O5))]))),128))],6)),[[an,c.active]])}}),I5={class:"vuefinder__status-bar__wrapper"},D5={class:"vuefinder__status-bar__storage"},L5=["title"],z5={class:"vuefinder__status-bar__storage-icon"},B5=["value"],H5=["value"],N5={class:"vuefinder__status-bar__info space-x-2"},j5={key:0},U5={key:1},V5={key:0,class:"vuefinder__status-bar__size"},W5={class:"vuefinder__status-bar__actions"},q5=xe({__name:"Statusbar",setup(e){const t=Ce(),{t:n}=t.i18n,s=t.fs,i=we(s.sortedFiles),o=we(s.path),r=we(s.selectedCount),a=we(s.storages),l=we(s.selectedItems),c=we(s.path),u=y=>{const b=y.target.value;t.adapter.open(b+"://")},d=ce(()=>!l.value||l.value.length===0?0:l.value.reduce((y,b)=>y+(b.file_size||0),0)),f=ce(()=>a.value),m=ce(()=>i.value),g=ce(()=>r.value||0),_=ce(()=>l.value||[]);return(y,b)=>(w(),k("div",I5,[p("div",D5,[p("div",{class:"vuefinder__status-bar__storage-container",title:h(n)("Storage")},[p("div",z5,[se(h(Cu))]),p("select",{name:"vuefinder-media-selector",value:h(o).storage,class:"vuefinder__status-bar__storage-select",tabindex:"-1",onChange:u},[(w(!0),k($e,null,Ve(f.value,v=>(w(),k("option",{key:v,value:v},B(v),9,H5))),128))],40,B5),b[0]||(b[0]=p("span",{class:"vuefinder__status-bar__storage-caret","aria-hidden":"true"},null,-1))],8,L5),p("div",N5,[g.value===0?(w(),k("span",j5,B(m.value.length)+" "+B(h(n)("items")),1)):(w(),k("span",U5,[je(B(g.value)+" "+B(h(n)("selected"))+" ",1),d.value?(w(),k("span",V5,B(h(t).filesize(d.value)),1)):re("",!0)]))])]),p("div",W5,[Oe(y.$slots,"actions",{path:h(c).path,count:g.value||0,selected:_.value})])]))}}),K5={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"h-5 w-5",viewBox:"0 0 24 24"};function Y5(e,t){return w(),k("svg",K5,[...t[0]||(t[0]=[p("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),p("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2m3.6 5.2a1 1 0 0 0-1.4.2L12 10.333 9.8 7.4a1 1 0 1 0-1.6 1.2l2.55 3.4-2.55 3.4a1 1 0 1 0 1.6 1.2l2.2-2.933 2.2 2.933a1 1 0 0 0 1.6-1.2L13.25 12l2.55-3.4a1 1 0 0 0-.2-1.4"},null,-1)])])}const G5={render:Y5};function Cg(e,t){const n=e.findIndex(s=>s.path===t.path);n>-1?e[n]=t:e.push(t)}const Q5={class:"vuefinder__folder-loader-indicator"},X5={key:1,class:"vuefinder__folder-loader-indicator--icon"},Eg=xe({__name:"FolderLoaderIndicator",props:U_({storage:{},path:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=Ce(),s=cf(e,"modelValue"),i=Q(!1);Me(()=>s.value,()=>o());const o=async()=>{i.value=!0;try{const a=(await n.adapter.list(t.path)).files.filter(l=>l.type==="dir");Cg(n.treeViewData,{path:t.path,type:"dir",folders:a})}catch(r){Ft(r,"Failed to fetch subfolders")}finally{i.value=!1}};return(r,a)=>(w(),k("div",Q5,[i.value?(w(),oe(h(ga),{key:0,class:"vuefinder__folder-loader-indicator--loading"})):(w(),k("div",X5,[s.value?(w(),oe(h(Qr),{key:0,class:"vuefinder__folder-loader-indicator--minus"})):re("",!0),s.value?re("",!0):(w(),oe(h(Gr),{key:1,class:"vuefinder__folder-loader-indicator--plus"}))]))]))}}),J5={key:0},Z5={class:"vuefinder__treesubfolderlist__no-folders"},eF={class:"vuefinder__treesubfolderlist__item-content"},tF=["onClick"],nF=["title","onDblclick","onClick"],sF={class:"vuefinder__treesubfolderlist__item-icon"},iF={class:"vuefinder__treesubfolderlist__subfolder"},oF={key:1,class:"vuefinder__treesubfolderlist__more-note"},rF=xe({__name:"TreeSubfolderList",props:{storage:{},path:{}},setup(e){const t=Ce(),n=t.fs,s=Ao(t,["vuefinder__drag-over"]),i=Q({}),{t:o}=t.i18n,r=we(n.path),a=e,l=Q(null),c=Q(50);Le(()=>{a.path===a.storage+"://"&&l.value&&Zt(l.value,{scrollbars:{theme:"vf-scrollbars-theme"}})});const u=ce(()=>{const _=t.treeViewData.find(y=>y.path===a.path)?.folders||[];return _.length>c.value?_.slice(0,c.value):_}),d=ce(()=>t.treeViewData.find(_=>_.path===a.path)?.folders?.length||0),f=ce(()=>d.value>c.value),m=()=>{c.value+=50};return(g,_)=>{const y=on("TreeSubfolderList",!0);return w(),k("ul",{ref_key:"parentSubfolderList",ref:l,class:"vuefinder__treesubfolderlist__container"},[u.value.length?re("",!0):(w(),k("li",J5,[p("div",Z5,B(h(o)("No folders")),1)])),(w(!0),k($e,null,Ve(u.value,b=>(w(),k("li",{key:b.path,class:"vuefinder__treesubfolderlist__item"},[p("div",eF,[p("div",{class:"vuefinder__treesubfolderlist__item-toggle",onClick:v=>i.value[b.path]=!i.value[b.path]},[se(Eg,{modelValue:i.value[b.path],"onUpdate:modelValue":v=>i.value[b.path]=v,storage:e.storage,path:b.path},null,8,["modelValue","onUpdate:modelValue","storage","path"])],8,tF),p("div",at({class:"vuefinder__treesubfolderlist__item-link",title:b.path},os(h(s).events({...b,dir:b.path,extension:"",file_size:null,last_modified:null,mime_type:null,visibility:"public"}),!0),{onDblclick:v=>i.value[b.path]=!i.value[b.path],onClick:v=>h(t).adapter.open(b.path)}),[p("div",sF,[h(r)?.path===b.path?(w(),oe(h(Eu),{key:0,class:"vuefinder__item-icon__folder--open"})):(w(),oe(h(Fn),{key:1,class:"vuefinder__item-icon__folder"}))]),p("div",{class:ge(["vuefinder__treesubfolderlist__item-text",{"vuefinder__treesubfolderlist__item-text--active":h(r).path===b.path}])},B(b.basename),3)],16,nF)]),p("div",iF,[Ke(se(y,{storage:a.storage,path:b.path},null,8,["storage","path"]),[[an,i.value[b.path]]])])]))),128)),f.value?(w(),k("li",oF,[p("div",{class:"vuefinder__treesubfolderlist__load-more",onClick:m},B(h(o)("load more")),1)])):re("",!0)],512)}}}),aF=xe({__name:"TreeStorageItem",props:{storage:{}},setup(e){const t=Ce(),n=t.fs,s=Q(!1),i=e,o=Ao(t,["vuefinder__drag-over"]),r=we(n.path),a=ce(()=>i.storage===r.value?.storage),l={storage:i.storage,path:i.storage+"://",dir:i.storage+"://",type:"dir",basename:i.storage,extension:"",file_size:null,last_modified:null,mime_type:null,visibility:"public"};function c(u){u===r.value?.storage?s.value=!s.value:t.adapter.open(u+"://")}return(u,d)=>(w(),k($e,null,[p("div",{class:"vuefinder__treestorageitem__header",onClick:d[2]||(d[2]=f=>c(e.storage))},[p("div",at({class:["vuefinder__treestorageitem__info",a.value?"vuefinder__treestorageitem__info--active":""]},os(h(o).events(l),!0)),[p("div",{class:ge(["vuefinder__treestorageitem__icon",a.value?"vuefinder__treestorageitem__icon--active":""])},[se(h(Cu))],2),p("div",null,B(e.storage),1)],16),p("div",{class:"vuefinder__treestorageitem__loader",onClick:d[1]||(d[1]=Pe(f=>s.value=!s.value,["stop"]))},[se(Eg,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=f=>s.value=f),storage:e.storage,path:e.storage+"://"},null,8,["modelValue","storage","path"])])]),Ke(se(rF,{storage:e.storage,path:e.storage+"://",class:"vuefinder__treestorageitem__subfolder"},null,8,["storage","path"]),[[an,s.value]])],64))}}),lF={class:"vuefinder__folder-indicator"},cF={class:"vuefinder__folder-indicator--icon"},uF=xe({__name:"FolderIndicator",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=cf(e,"modelValue");return(n,s)=>(w(),k("div",lF,[p("div",cF,[t.value?(w(),oe(h(Qr),{key:0,class:"vuefinder__folder-indicator--minus"})):re("",!0),t.value?re("",!0):(w(),oe(h(Gr),{key:1,class:"vuefinder__folder-indicator--plus"}))])]))}}),dF={key:0,class:"vuefinder__treeview__header"},fF={class:"vuefinder__treeview__pinned-label"},hF={class:"vuefinder__treeview__pin-text text-nowrap"},pF={key:0,class:"vuefinder__treeview__pinned-list"},mF=["onClick"],vF=["title"],gF=["onClick"],_F={key:0},yF={class:"vuefinder__treeview__no-pinned"},bF=xe({__name:"TreeView",setup(e){const t=Ce(),{enabled:n}=dn(),{t:s}=t.i18n,{getStore:i,setStore:o}=t.storage,r=t.fs,a=t.config,l=we(a.state),c=we(r.sortedFiles),u=we(r.storages),d=ce(()=>u.value||[]),f=we(r.path),m=Ao(t,["vuefinder__drag-over"]),g=Q(190),_=Q(i("pinned-folders-opened",!0));Me(_,$=>o("pinned-folders-opened",$));const y=$=>{const S=a.get("pinnedFolders");a.set("pinnedFolders",S.filter(E=>E.path!==$.path))},b=$=>{const S=$.clientX,E=$.target.parentElement;if(!E)return;const F=E.getBoundingClientRect().width;E.classList.remove("transition-[width]"),E.classList.add("transition-none");const P=z=>{g.value=F+z.clientX-S,g.value<50&&(g.value=0,a.set("showTreeView",!1)),g.value>50&&a.set("showTreeView",!0)},H=()=>{const z=E.getBoundingClientRect();g.value=z.width,E.classList.add("transition-[width]"),E.classList.remove("transition-none"),window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",H)};window.addEventListener("mousemove",P),window.addEventListener("mouseup",H)},v=Q(null);return Le(()=>{v.value&&Zt(v.value,{overflow:{x:"hidden"},scrollbars:{theme:"vf-scrollbars-theme"}})}),Me(c,$=>{const S=$.filter(E=>E.type==="dir");Cg(t.treeViewData,{path:f.value.path||"",folders:S.map(E=>({storage:E.storage,path:E.path,basename:E.basename,type:"dir"}))})}),($,S)=>(w(),k($e,null,[p("div",{class:ge(["vuefinder__treeview__overlay",h(l).showTreeView?"vuefinder__treeview__backdrop":"hidden"]),onClick:S[0]||(S[0]=E=>h(a).toggle("showTreeView"))},null,2),p("div",{style:st(h(l).showTreeView?"min-width:100px;max-width:75%; width: "+g.value+"px":"width: 0"),class:"vuefinder__treeview__container"},[p("div",{ref_key:"treeViewScrollElement",ref:v,class:"vuefinder__treeview__scroll"},[h(n)("pinned")?(w(),k("div",dF,[p("div",{class:"vuefinder__treeview__pinned-toggle",onClick:S[2]||(S[2]=E=>_.value=!_.value)},[p("div",fF,[se(h(Hc),{class:"vuefinder__treeview__pin-icon"}),p("div",hF,B(h(s)("Pinned Folders")),1)]),se(uF,{modelValue:_.value,"onUpdate:modelValue":S[1]||(S[1]=E=>_.value=E)},null,8,["modelValue"])]),_.value?(w(),k("ul",pF,[(w(!0),k($e,null,Ve(h(l).pinnedFolders,E=>(w(),k("li",{key:E.path,class:"vuefinder__treeview__pinned-item"},[p("div",at({class:"vuefinder__treeview__pinned-folder"},os(h(m).events(E),!0),{onClick:F=>h(t).adapter.open(E.path)}),[h(f).path!==E.path?(w(),oe(h(Fn),{key:0,class:"vuefinder__treeview__folder-icon vuefinder__item-icon__folder"})):re("",!0),h(f).path===E.path?(w(),oe(h(Eu),{key:1,class:"vuefinder__item-icon__folder--open vuefinder__treeview__open-folder-icon"})):re("",!0),p("div",{title:E.path,class:ge(["vuefinder__treeview__folder-name",{"vuefinder__treeview__folder-name--active":h(f).path===E.path}])},B(E.basename),11,vF)],16,mF),p("div",{class:"vuefinder__treeview__remove-folder",onClick:F=>y(E)},[se(h(G5),{class:"vuefinder__treeview__remove-icon"})],8,gF)]))),128)),h(l).pinnedFolders.length?re("",!0):(w(),k("li",_F,[p("div",yF,B(h(s)("No folders pinned")),1)]))])):re("",!0)])):re("",!0),(w(!0),k($e,null,Ve(d.value,E=>(w(),k("div",{key:E,class:"vuefinder__treeview__storage"},[se(aF,{storage:E},null,8,["storage"])]))),128))],512),p("div",{class:"vuefinder__treeview__resize-handle",onMousedown:b},null,32)],4)],64))}}),wt={new_folder:"new_folder",selectAll:"selectAll",pinFolder:"pinFolder",unpinFolder:"unpinFolder",delete:"delete",refresh:"refresh",preview:"preview",open:"open",openDir:"openDir",download:"download",archive:"archive",unarchive:"unarchive",rename:"rename",move:"move",copy:"copy",paste:"paste"};function wF(e){return e.items.length>1&&e.items.some(t=>t.path===e.target?.path)?"many":e.target?"one":"none"}function tt(e){const t=Object.assign({needsSearchQuery:!1},e);return(n,s)=>!(t.needsSearchQuery!==!!s.searchQuery||t.target!==void 0&&t.target!==wF(s)||t.targetType!==void 0&&t.targetType!==s.target?.type||t.mimeType!==void 0&&t.mimeType!==s.target?.mime_type||t.feature!==void 0&&!(n.features[t.feature]??!1))}function To(...e){return(t,n)=>e.some(s=>s(t,n))}function ko(...e){return(t,n)=>e.every(s=>s(t,n))}const Ag=[{id:wt.openDir,title:({t:e})=>e("Open containing folder"),action:(e,t)=>{const n=t[0];n&&e.adapter.open(n.dir)},show:tt({target:"one",needsSearchQuery:!0}),order:10},{id:wt.refresh,title:({t:e})=>e("Refresh"),action:e=>{const t=e.fs;e.adapter.invalidateListQuery(t.path.get().path),e.adapter.open(t.path.get().path)},show:To(tt({target:"none"}),tt({target:"many"})),order:20},{id:wt.selectAll,title:({t:e})=>e("Select All"),action:e=>{e.fs.selectAll(e.selectionMode||"multiple")},show:(e,t)=>e.selectionMode==="multiple"&&tt({target:"none"})(e,t),order:30},{id:wt.new_folder,title:({t:e})=>e("New Folder"),action:e=>e.modal.open(Bu),show:tt({target:"none",feature:"newfolder"}),order:40},{id:wt.open,title:({t:e})=>e("Open"),action:(e,t)=>{t[0]&&e.adapter.open(t[0].path)},show:tt({target:"one",targetType:"dir"}),order:50},{id:wt.pinFolder,title:({t:e})=>e("Pin Folder"),action:(e,t)=>{const n=e.config,s=n.get("pinnedFolders"),i=s.concat(t.filter(o=>s.findIndex(r=>r.path===o.path)===-1));n.set("pinnedFolders",i)},show:ko(tt({target:"one",targetType:"dir",feature:"pinned"}),(e,t)=>e.config.get("pinnedFolders").findIndex(i=>i.path===t.target?.path)===-1),order:60},{id:wt.unpinFolder,title:({t:e})=>e("Unpin Folder"),action:(e,t)=>{const n=e.config,s=n.get("pinnedFolders");n.set("pinnedFolders",s.filter(i=>!t.find(o=>o.path===i.path)))},show:ko(tt({target:"one",targetType:"dir",feature:"pinned"}),(e,t)=>e.config.get("pinnedFolders").findIndex(i=>i.path===t.target?.path)!==-1),order:70},{id:wt.preview,title:({t:e})=>e("Preview"),action:(e,t)=>e.modal.open(Yr,{storage:t[0]?.storage,item:t[0]}),show:ko(tt({target:"one",feature:"preview"}),(e,t)=>t.target?.type!=="dir"),order:80},{id:wt.download,link:(e,t)=>{if(t[0])return e.adapter.getDownloadUrl(t[0])},title:({t:e})=>e("Download"),action:()=>{},show:ko(tt({target:"one",feature:"download"}),(e,t)=>t.target?.type!=="dir"),order:90},{id:wt.rename,title:({t:e})=>e("Rename"),action:(e,t)=>e.modal.open(Or,{items:t}),show:tt({target:"one",feature:"rename"}),order:100},{id:wt.move,title:({t:e})=>e("Move files"),action:(e,t)=>{const n=e.fs,s={storage:n.path.get().storage||"",path:n.path.get().path||"",type:"dir"};e.modal.open(xi,{items:{from:t,to:s}})},show:To(tt({target:"one",feature:"move"}),tt({target:"many",feature:"move"})),order:110},{id:wt.copy,title:({t:e})=>e("Copy"),action:(e,t)=>{t.length>0&&e.fs.setClipboard("copy",new Set(t.map(n=>n.path)))},show:To(tt({target:"one",feature:"copy"}),tt({target:"many",feature:"copy"})),order:120},{id:wt.paste,title:({t:e})=>e("Paste"),action:(e,t)=>{const n=e.fs.getClipboard();if(n?.items?.size>0){const i=e.fs.path.get();let o=i.path,r=i.storage;t.length===1&&t[0]?.type==="dir"&&(o=t[0].path,r=t[0].storage);const a={storage:r||"",path:o||"",type:"dir"};e.modal.open(n.type==="cut"?xi:ku,{items:{from:Array.from(n.items),to:a}})}},show:(e,t)=>e.features?.copy??!1?e.fs.getClipboard()?.items?.size>0:!1,order:130},{id:wt.archive,title:({t:e})=>e("Archive"),action:(e,t)=>e.modal.open(Uu,{items:t}),show:To(tt({target:"many",feature:"archive"}),ko(tt({target:"one",feature:"archive"}),(e,t)=>t.target?.mime_type!=="application/zip")),order:140},{id:wt.unarchive,title:({t:e})=>e("Unarchive"),action:(e,t)=>e.modal.open(ju,{items:t}),show:tt({target:"one",feature:"unarchive",mimeType:"application/zip"}),order:150},{id:wt.delete,title:({t:e})=>e("Delete"),action:(e,t)=>{e.modal.open(Rr,{items:t})},show:To(tt({feature:"delete",target:"one"}),tt({feature:"delete",target:"many"})),order:160}],xF=["data-theme"],SF={key:0,class:"vuefinder__external-drop-overlay vuefinder__external-drop-overlay--relative"},$F={class:"vuefinder__external-drop-message"},CF={class:"vuefinder__main__content"},EF=xe({__name:"VueFinderView",props:{id:{},driver:{},config:{},features:{},debug:{type:Boolean},locale:{},contextMenuItems:{},selectionMode:{},selectionFilterType:{},selectionFilterMimeIncludes:{},onError:{type:Function},onSelect:{type:Function},onPathChange:{type:Function},onUploadComplete:{type:Function},onDeleteComplete:{type:Function},onReady:{type:Function},onFileDclick:{type:Function},onFolderDclick:{type:Function},customUploader:{type:Function}},emits:["select","path-change","upload-complete","delete-complete","error","ready","file-dclick","folder-dclick"],setup(e,{emit:t}){const n=t,s=e,i=Ce(),o=ei("root"),r=i.config;Me(()=>s.features,b=>{const v=yh(b);Object.keys(i.features).forEach($=>{delete i.features[$]}),Object.assign(i.features,v)},{deep:!0});const a=i.fs,l=we(r.state),c=ce(()=>{const b=l.value;return{"--vf-grid-item-width":`${b.gridItemWidth}px`,"--vf-grid-item-height":`${b.gridItemHeight}px`,"--vf-grid-item-gap":`${b.gridItemGap}px`,"--vf-grid-icon-size":`${b.gridIconSize}px`,"--vf-list-item-height":`${b.listItemHeight}px`,"--vf-list-item-gap":`${b.listItemGap}px`,"--vf-list-icon-size":`${b.listIconSize}px`}});SA();const{isDraggingExternal:u,handleDragEnter:d,handleDragOver:f,handleDragLeave:m,handleDrop:g}=$A();function _(b){a.setPath(b.dirname),r.get("persist")&&r.set("path",b.dirname),a.setReadOnly(b.read_only??!1),i.modal.close(),a.setFiles(b.files),a.clearSelection(),a.setSelectedCount(0),a.setStorages(b.storages)}i.adapter.onBeforeOpen=()=>{a.setLoading(!0)},i.adapter.onAfterOpen=b=>{_(b),a.setLoading(!1)},i.emitter.on("vf-upload-complete",b=>{n("upload-complete",b)}),i.emitter.on("vf-delete-complete",b=>{n("delete-complete",b)}),i.emitter.on("vf-file-dclick",b=>{n("file-dclick",b)}),i.emitter.on("vf-folder-dclick",b=>{n("folder-dclick",b)}),Me(()=>s.config?.theme,b=>{b&&r.set("theme",h(b))},{immediate:!0}),Le(()=>{i.root=o.value,Me(()=>r.get("path"),v=>{i.adapter.open(v)});const b=r.get("persist")?r.get("path"):r.get("initialPath")??"";a.setPath(b),i.adapter.open(b),a.path.listen(v=>{n("path-change",v.path)}),a.selectedItems.listen(v=>{n("select",v)}),n("ready")});const y=async b=>{const v=await g(b);v.length>0&&(i.modal.open(Nu),setTimeout(()=>{i.emitter.emit("vf-external-files-dropped",v.map($=>$.file))},100))};return(b,v)=>(w(),k("div",{ref_key:"root",ref:o,tabindex:"0",class:ge(["vuefinder vuefinder__main vuefinder__themer",{"vuefinder--dragging-external":h(u)}]),"data-theme":h(i).theme.current,style:st(c.value),onDragenter:v[2]||(v[2]=(...$)=>h(d)&&h(d)(...$)),onDragover:v[3]||(v[3]=(...$)=>h(f)&&h(f)(...$)),onDragleave:v[4]||(v[4]=(...$)=>h(m)&&h(m)(...$)),onDrop:y},[p("div",{class:ge(h(i).theme.current),style:{height:"100%",width:"100%"}},[p("div",{class:ge([h(l)?.fullScreen?"vuefinder__main__fixed":"vuefinder__main__relative","vuefinder__main__container"]),onMousedown:v[0]||(v[0]=$=>h(i).emitter.emit("vf-contextmenu-hide")),onTouchstart:v[1]||(v[1]=$=>h(i).emitter.emit("vf-contextmenu-hide"))},[h(u)?(w(),k("div",SF,[p("div",$F,B(h(i).i18n.t("Drag and drop the files/folders to here.")),1)])):re("",!0),h(l).showMenuBar?(w(),oe(YT,{key:1})):re("",!0),h(l).showToolbar?(w(),oe(Qk,{key:2})):re("",!0),se(zM),p("div",CF,[se(bF),se(F5,{"on-file-dclick":s.onFileDclick,"on-folder-dclick":s.onFolderDclick},{icon:be($=>[Oe(b.$slots,"icon",bn(qn($)))]),_:3},8,["on-file-dclick","on-folder-dclick"])]),se(q5,null,{actions:be($=>[Oe(b.$slots,"status-bar",bn(qn($)))]),_:3})],34),(w(),oe(Hi,{to:"body"},[se(F0,{name:"fade"},{default:be(()=>[h(i).modal.visible?(w(),oe(rn(h(i).modal.type),{key:0})):re("",!0)]),_:1})])),se(P5,{items:h(Ag)},null,8,["items"]),se(h(nb),{position:"bottom-center"})],2)],46,xF))}}),AF=xe({__name:"VueFinderProvider",props:{id:{},driver:{},config:{},features:{},debug:{type:Boolean,default:!1},locale:{},contextMenuItems:{default:()=>Ag},selectionMode:{default:"multiple"},selectionFilterType:{default:"both"},selectionFilterMimeIncludes:{default:()=>[]},onError:{},onSelect:{},onPathChange:{},onUploadComplete:{},onDeleteComplete:{},onReady:{},onFileDclick:{},onFolderDclick:{},customUploader:{}},setup(e){const t=e,n=t.id??is(kl);if(!n)throw new Error('VueFinderProvider requires an "id" prop.');const s=Bw(t,is("VueFinderOptions")||{});return Me(()=>t.config,i=>{if(i){const o={};for(const r in i){const a=h(i[r]);a!==void 0&&(o[r]=a)}s.config.init(o)}},{deep:!0,immediate:!0}),Me(()=>t.locale,i=>{i&&s.i18n.localeAtom&&s.i18n.localeAtom.get()!==i&&s.i18n.localeAtom.set(i)},{immediate:!0}),ry(n,s),Rd(kl,n),Ui(()=>{ay(n)}),(i,o)=>(w(),oe(EF,bn(qn(t)),{icon:be(r=>[Oe(i.$slots,"icon",bn(qn(r)))]),"status-bar":be(r=>[Oe(i.$slots,"status-bar",bn(qn(r)))]),_:3},16))}}),TF={key:0,class:"vuefinder-ce-loading"},kF=xe({__name:"VueFinderCEWrapper",props:{finderId:{default:"vuefinder-default"},driver:{},config:{default:()=>({})},features:{default:"advanced"},debug:{type:Boolean,default:!1},locale:{default:"en"},contextMenuItems:{default:void 0},selectionMode:{default:"multiple"},selectionFilterType:{default:"both"},selectionFilterMimeIncludes:{default:()=>[]},onError:{},onSelect:{},onPathChange:{},onUploadComplete:{},onDeleteComplete:{},onReady:{},onFileDclick:{},onFolderDclick:{},customUploader:{}},setup(e){const t=e;Le(()=>{console.log("[VueFinderCEWrapper] Props received:",{finderId:t.finderId,driver:t.driver,config:t.config,features:t.features,locale:t.locale})});const n=ce(()=>!!t.driver);return(s,i)=>n.value?(w(),oe(AF,{key:1,id:t.finderId,driver:t.driver,config:t.config,features:t.features,debug:t.debug,locale:t.locale,"context-menu-items":t.contextMenuItems,"selection-mode":t.selectionMode,"selection-filter-type":t.selectionFilterType,"selection-filter-mime-includes":t.selectionFilterMimeIncludes,"on-error":t.onError,"on-select":t.onSelect,"on-path-change":t.onPathChange,"on-upload-complete":t.onUploadComplete,"on-delete-complete":t.onDeleteComplete,"on-ready":t.onReady,"on-file-dclick":t.onFileDclick,"on-folder-dclick":t.onFolderDclick,"custom-uploader":t.customUploader},null,8,["id","driver","config","features","debug","locale","context-menu-items","selection-mode","selection-filter-type","selection-filter-mime-includes","on-error","on-select","on-path-change","on-upload-complete","on-delete-complete","on-ready","on-file-dclick","on-folder-dclick","custom-uploader"])):(w(),k("div",TF," Waiting for driver... "))}}),Tg="vuefinder-ce",kg=Q0(kF,{shadowRoot:!1});return customElements.get(Tg)||customElements.define(Tg,kg),za.VueFinderElement=kg,Object.defineProperty(za,Symbol.toStringTag,{value:"Module"}),za})({});
